import{S as J,i as X,s as tt,am as et,e as r,t as E,k as w,w as at,c as l,a as i,h as $,d as c,m as b,x as st,b as s,g as nt,G as t,y as rt,T as z,q as lt,o as ct,B as ot,a0 as it,u as dt,an as ut}from"../chunks/vendor-b7bc0d3d.js";import{h as mt,g as F,a as ft}from"../chunks/store-0551302c.js";function ht(D){let e,u,v,d,m,f,_,T,C,h,I,U,M,S,x,q,o,B,y,R,H,N,p,g,V,A,L,Y;return g=new et({props:{class:"mb-1 mr-2 inline h-8"}}),{c(){e=r("div"),u=r("h1"),v=E("Settings"),d=w(),m=r("canvas"),f=w(),_=r("i"),T=E("Scan this code to sync to another device."),C=w(),h=r("details"),I=r("summary"),U=E("Sync-Settings"),M=w(),S=r("div"),x=r("code"),q=E("Sync-Key: "),o=r("input"),B=w(),y=r("details"),R=r("summary"),H=E("Danger Zone"),N=w(),p=r("button"),at(g.$$.fragment),V=E("Hard Reset"),this.h()},l(n){e=l(n,"DIV",{class:!0});var a=i(e);u=l(a,"H1",{class:!0});var Z=i(u);v=$(Z,"Settings"),Z.forEach(c),d=b(a),m=l(a,"CANVAS",{id:!0,class:!0}),i(m).forEach(c),f=b(a),_=l(a,"I",{class:!0});var G=i(_);T=$(G,"Scan this code to sync to another device."),G.forEach(c),C=b(a),h=l(a,"DETAILS",{class:!0});var k=i(h);I=l(k,"SUMMARY",{});var P=i(I);U=$(P,"Sync-Settings"),P.forEach(c),M=b(k),S=l(k,"DIV",{class:!0});var W=i(S);x=l(W,"CODE",{});var O=i(x);q=$(O,"Sync-Key: "),o=l(O,"INPUT",{type:!0,name:!0,id:!0,class:!0}),O.forEach(c),W.forEach(c),k.forEach(c),B=b(a),y=l(a,"DETAILS",{class:!0});var K=i(y);R=l(K,"SUMMARY",{});var j=i(R);H=$(j,"Danger Zone"),j.forEach(c),N=b(K),p=l(K,"BUTTON",{class:!0});var Q=i(p);st(g.$$.fragment,Q),V=$(Q,"Hard Reset"),Q.forEach(c),K.forEach(c),a.forEach(c),this.h()},h(){s(u,"class","mb-2 text-3xl font-bold"),s(m,"id","syncQR"),s(m,"class","mt-4 aspect-square max-w-sm"),s(_,"class","text-neutral-400"),s(o,"type","text"),s(o,"name","keyInput"),s(o,"id","keyInput"),o.value=D[0],s(o,"class","w-full"),s(S,"class","flex flex-col"),s(h,"class","mt-4"),s(p,"class","mt-8 w-fit rounded-md bg-red-600 p-2 px-4 text-white"),s(y,"class","mt-4"),s(e,"class","mx-auto max-w-lg p-4 pt-8")},m(n,a){nt(n,e,a),t(e,u),t(u,v),t(e,d),t(e,m),t(e,f),t(e,_),t(_,T),t(e,C),t(e,h),t(h,I),t(I,U),t(h,M),t(h,S),t(S,x),t(x,q),t(x,o),t(e,B),t(e,y),t(y,R),t(R,H),t(y,N),t(y,p),rt(g,p,null),t(p,V),A=!0,L||(Y=[z(o,"keyup",D[1]),z(p,"click",mt)],L=!0)},p(n,[a]){(!A||a&1&&o.value!==n[0])&&(o.value=n[0])},i(n){A||(lt(g.$$.fragment,n),A=!0)},o(n){ct(g.$$.fragment,n),A=!1},d(n){n&&c(e),ot(g),L=!1,it(Y)}}}function yt(D,e,u){let v=F(),d;dt(()=>{let f=window.location.origin+"/?syncKey="+v;d=document.getElementById("syncQR"),d.getContext("2d").clearRect(0,0,d.width,d.height),ut.toCanvas(d,f,{margin:1,width:d.offsetWidth})});function m(f){f.code==="Enter"&&(ft(f.target.value),u(0,v=F()))}return[v,m]}class _t extends J{constructor(e){super();X(this,e,yt,ht,tt,{})}}export{_t as default};
