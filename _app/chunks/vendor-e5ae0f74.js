var Nl=Object.defineProperty,xl=Object.defineProperties;var Bl=Object.getOwnPropertyDescriptors;var xs=Object.getOwnPropertySymbols;var Ul=Object.prototype.hasOwnProperty,Pl=Object.prototype.propertyIsEnumerable;var Bs=(e,t,n)=>t in e?Nl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_n=(e,t)=>{for(var n in t||(t={}))Ul.call(t,n)&&Bs(e,n,t[n]);if(xs)for(var n of xs(t))Pl.call(t,n)&&Bs(e,n,t[n]);return e},Qn=(e,t)=>xl(e,Bl(t));function Lt(){}const Lr=e=>e;function ot(e,t){for(const n in t)e[n]=t[n];return e}function Mo(e){return e()}function Us(){return Object.create(null)}function gn(e){e.forEach(Mo)}function Mr(e){return typeof e=="function"}function $t(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Fl(e){return Object.keys(e).length===0}function jl(e,...t){if(e==null)return Lt;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ig(e,t,n){e.$$.on_destroy.push(jl(t,n))}function Qt(e,t,n,r){if(e){const s=No(e,t,n,r);return e[0](s)}}function No(e,t,n,r){return e[1]&&r?ot(n.ctx.slice(),e[1](r(t))):n.ctx}function Zt(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(t.dirty.length,s.length);for(let l=0;l<o;l+=1)i[l]=t.dirty[l]|s[l];return i}return t.dirty|s}return t.dirty}function te(e,t,n,r,s,i){if(s){const o=No(t,n,r,i);e.p(o,s)}}function ee(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function pt(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function Ps(e,t){const n={};t=new Set(t);for(const r in e)!t.has(r)&&r[0]!=="$"&&(n[r]=e[r]);return n}const xo=typeof window!="undefined";let Ki=xo?()=>window.performance.now():()=>Date.now(),Yi=xo?e=>requestAnimationFrame(e):Lt;const en=new Set;function Bo(e){en.forEach(t=>{t.c(e)||(en.delete(t),t.f())}),en.size!==0&&Yi(Bo)}function Ji(e){let t;return en.size===0&&Yi(Bo),{promise:new Promise(n=>{en.add(t={c:e,f:n})}),abort(){en.delete(t)}}}let Nr=!1;function $l(){Nr=!0}function Vl(){Nr=!1}function zl(e,t,n,r){for(;e<t;){const s=e+(t-e>>1);n(s)<=r?e=s+1:t=s}return e}function Hl(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if(e.nodeName==="HEAD"){const c=[];for(let h=0;h<t.length;h++){const p=t[h];p.claim_order!==void 0&&c.push(p)}t=c}const n=new Int32Array(t.length+1),r=new Int32Array(t.length);n[0]=-1;let s=0;for(let c=0;c<t.length;c++){const h=t[c].claim_order,p=(s>0&&t[n[s]].claim_order<=h?s+1:zl(1,s,u=>t[n[u]].claim_order,h))-1;r[c]=n[p]+1;const f=p+1;n[f]=c,s=Math.max(f,s)}const i=[],o=[];let l=t.length-1;for(let c=n[s]+1;c!=0;c=r[c-1]){for(i.push(t[c-1]);l>=c;l--)o.push(t[l]);l--}for(;l>=0;l--)o.push(t[l]);i.reverse(),o.sort((c,h)=>c.claim_order-h.claim_order);for(let c=0,h=0;c<o.length;c++){for(;h<i.length&&o[c].claim_order>=i[h].claim_order;)h++;const p=h<i.length?i[h]:null;e.insertBefore(o[c],p)}}function Wl(e,t){e.appendChild(t)}function Uo(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function ql(e){const t=Po("style");return Kl(Uo(e),t),t.sheet}function Kl(e,t){Wl(e.head||e,t)}function Yl(e,t){if(Nr){for(Hl(e),(e.actual_end_child===void 0||e.actual_end_child!==null&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild);e.actual_end_child!==null&&e.actual_end_child.claim_order===void 0;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?(t.claim_order!==void 0||t.parentNode!==e)&&e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else(t.parentNode!==e||t.nextSibling!==null)&&e.appendChild(t)}function V(e,t,n){Nr&&!n?Yl(e,t):(t.parentNode!==e||t.nextSibling!=n)&&e.insertBefore(t,n||null)}function P(e){e.parentNode.removeChild(e)}function Po(e){return document.createElement(e)}function et(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Gi(e){return document.createTextNode(e)}function it(){return Gi(" ")}function sg(){return Gi("")}function og(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function ag(e){return function(t){return t.preventDefault(),e.call(this,t)}}function $(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Fs(e,t){for(const n in t)$(e,n,t[n])}function nt(e){return Array.from(e.childNodes)}function Jl(e){e.claim_info===void 0&&(e.claim_info={last_index:0,total_claimed:0})}function Fo(e,t,n,r,s=!1){Jl(e);const i=(()=>{for(let o=e.claim_info.last_index;o<e.length;o++){const l=e[o];if(t(l)){const c=n(l);return c===void 0?e.splice(o,1):e[o]=c,s||(e.claim_info.last_index=o),l}}for(let o=e.claim_info.last_index-1;o>=0;o--){const l=e[o];if(t(l)){const c=n(l);return c===void 0?e.splice(o,1):e[o]=c,s?c===void 0&&e.claim_info.last_index--:e.claim_info.last_index=o,l}}return r()})();return i.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,i}function jo(e,t,n,r){return Fo(e,s=>s.nodeName===t,s=>{const i=[];for(let o=0;o<s.attributes.length;o++){const l=s.attributes[o];n[l.name]||i.push(l.name)}i.forEach(o=>s.removeAttribute(o))},()=>r(t))}function lg(e,t,n){return jo(e,t,n,Po)}function rt(e,t,n){return jo(e,t,n,et)}function Gl(e,t){return Fo(e,n=>n.nodeType===3,n=>{const r=""+t;if(n.data.startsWith(r)){if(n.data.length!==r.length)return n.splitText(r.length)}else n.data=r},()=>Gi(t),!0)}function st(e){return Gl(e," ")}function cg(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ug(e,t){e.value=t==null?"":t}function fg(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function hg(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t){r.selected=!0;return}}e.selectedIndex=-1}function dg(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function Xl(e,t,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}const pr=new Map;let yr=0;function Ql(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Zl(e,t){const n={stylesheet:ql(t),rules:{}};return pr.set(e,n),n}function mr(e,t,n,r,s,i,o,l=0){const c=16.666/r;let h=`{
`;for(let S=0;S<=1;S+=c){const k=t+(n-t)*i(S);h+=S*100+`%{${o(k,1-k)}}
`}const p=h+`100% {${o(n,1-n)}}
}`,f=`__svelte_${Ql(p)}_${l}`,u=Uo(e),{stylesheet:g,rules:y}=pr.get(u)||Zl(u,e);y[f]||(y[f]=!0,g.insertRule(`@keyframes ${f} ${p}`,g.cssRules.length));const b=e.style.animation||"";return e.style.animation=`${b?`${b}, `:""}${f} ${r}ms linear ${s}ms 1 both`,yr+=1,f}function wr(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),s=n.length-r.length;s&&(e.style.animation=r.join(", "),yr-=s,yr||tc())}function tc(){Yi(()=>{yr||(pr.forEach(e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}}),pr.clear())})}function gg(e,t,n,r){if(!t)return Lt;const s=e.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return Lt;const{delay:i=0,duration:o=300,easing:l=Lr,start:c=Ki()+i,end:h=c+o,tick:p=Lt,css:f}=n(e,{from:t,to:s},r);let u=!0,g=!1,y;function b(){f&&(y=mr(e,0,1,o,i,l,f)),i||(g=!0)}function S(){f&&wr(e,y),u=!1}return Ji(k=>{if(!g&&k>=c&&(g=!0),g&&k>=h&&(p(1,0),S()),!u)return!1;if(g){const L=k-c,w=0+1*l(L/o);p(w,1-w)}return!0}),b(),p(0,1),S}function pg(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:r}=t,s=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,ec(e,s)}}function ec(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),s=r.transform==="none"?"":r.transform;e.style.transform=`${s} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}let On;function Rn(e){On=e}function xr(){if(!On)throw new Error("Function called outside component initialization");return On}function yg(e){xr().$$.on_mount.push(e)}function mg(e){xr().$$.after_update.push(e)}function wg(e,t){xr().$$.context.set(e,t)}function bg(e){return xr().$$.context.get(e)}const Sn=[],js=[],lr=[],$s=[],$o=Promise.resolve();let Ri=!1;function Vo(){Ri||(Ri=!0,$o.then(zo))}function _g(){return Vo(),$o}function Ln(e){lr.push(e)}const ii=new Set;let Zn=0;function zo(){const e=On;do{for(;Zn<Sn.length;){const t=Sn[Zn];Zn++,Rn(t),nc(t.$$)}for(Rn(null),Sn.length=0,Zn=0;js.length;)js.pop()();for(let t=0;t<lr.length;t+=1){const n=lr[t];ii.has(n)||(ii.add(n),n())}lr.length=0}while(Sn.length);for(;$s.length;)$s.pop()();Ri=!1,ii.clear(),Rn(e)}function nc(e){if(e.fragment!==null){e.update(),gn(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ln)}}let vn;function Ho(){return vn||(vn=Promise.resolve(),vn.then(()=>{vn=null})),vn}function An(e,t,n){e.dispatchEvent(Xl(`${t?"intro":"outro"}${n}`))}const cr=new Set;let ue;function vg(){ue={r:0,c:[],p:ue}}function Eg(){ue.r||gn(ue.c),ue=ue.p}function gt(e,t){e&&e.i&&(cr.delete(e),e.i(t))}function yt(e,t,n,r){if(e&&e.o){if(cr.has(e))return;cr.add(e),ue.c.push(()=>{cr.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}const Wo={duration:0};function Cg(e,t,n){let r=t(e,n),s=!1,i,o,l=0;function c(){i&&wr(e,i)}function h(){const{delay:f=0,duration:u=300,easing:g=Lr,tick:y=Lt,css:b}=r||Wo;b&&(i=mr(e,0,1,u,f,g,b,l++)),y(0,1);const S=Ki()+f,k=S+u;o&&o.abort(),s=!0,Ln(()=>An(e,!0,"start")),o=Ji(L=>{if(s){if(L>=k)return y(1,0),An(e,!0,"end"),c(),s=!1;if(L>=S){const w=g((L-S)/u);y(w,1-w)}}return s})}let p=!1;return{start(){p||(p=!0,wr(e),Mr(r)?(r=r(),Ho().then(h)):h())},invalidate(){p=!1},end(){s&&(c(),s=!1)}}}function Sg(e,t,n,r){let s=t(e,n),i=r?0:1,o=null,l=null,c=null;function h(){c&&wr(e,c)}function p(u,g){const y=u.b-i;return g*=Math.abs(y),{a:i,b:u.b,d:y,duration:g,start:u.start,end:u.start+g,group:u.group}}function f(u){const{delay:g=0,duration:y=300,easing:b=Lr,tick:S=Lt,css:k}=s||Wo,L={start:Ki()+g,b:u};u||(L.group=ue,ue.r+=1),o||l?l=L:(k&&(h(),c=mr(e,i,u,y,g,b,k)),u&&S(0,1),o=p(L,y),Ln(()=>An(e,u,"start")),Ji(w=>{if(l&&w>l.start&&(o=p(l,y),l=null,An(e,o.b,"start"),k&&(h(),c=mr(e,i,o.b,o.duration,0,b,s.css))),o){if(w>=o.end)S(i=o.b,1-i),An(e,o.b,"end"),l||(o.b?h():--o.group.r||gn(o.group.c)),o=null;else if(w>=o.start){const _=w-o.start;i=o.a+o.d*b(_/o.duration),S(i,1-i)}}return!!(o||l)}))}return{run(u){Mr(s)?Ho().then(()=>{s=s(),f(u)}):f(u)},end(){h(),o=l=null}}}function rc(e,t){yt(e,1,1,()=>{t.delete(e.key)})}function kg(e,t){e.f(),rc(e,t)}function Rg(e,t,n,r,s,i,o,l,c,h,p,f){let u=e.length,g=i.length,y=u;const b={};for(;y--;)b[e[y].key]=y;const S=[],k=new Map,L=new Map;for(y=g;y--;){const R=f(s,i,y),C=n(R);let D=o.get(C);D?r&&D.p(R,t):(D=h(C,R),D.c()),k.set(C,S[y]=D),C in b&&L.set(C,Math.abs(y-b[C]))}const w=new Set,_=new Set;function E(R){gt(R,1),R.m(l,p),o.set(R.key,R),p=R.first,g--}for(;u&&g;){const R=S[g-1],C=e[u-1],D=R.key,B=C.key;R===C?(p=R.first,u--,g--):k.has(B)?!o.has(D)||w.has(D)?E(R):_.has(B)?u--:L.get(D)>L.get(B)?(_.add(D),E(R)):(w.add(B),u--):(c(C,o),u--)}for(;u--;){const R=e[u];k.has(R.key)||c(R,o)}for(;g;)E(S[g-1]);return S}function ne(e,t){const n={},r={},s={$$scope:1};let i=e.length;for(;i--;){const o=e[i],l=t[i];if(l){for(const c in o)c in l||(r[c]=1);for(const c in l)s[c]||(n[c]=l[c],s[c]=1);e[i]=l}else for(const c in o)s[c]=1}for(const o in r)o in n||(n[o]=void 0);return n}function pe(e){return typeof e=="object"&&e!==null?e:{}}function ye(e){e&&e.c()}function me(e,t){e&&e.l(t)}function re(e,t,n,r){const{fragment:s,on_mount:i,on_destroy:o,after_update:l}=e.$$;s&&s.m(t,n),r||Ln(()=>{const c=i.map(Mo).filter(Mr);o?o.push(...c):gn(c),e.$$.on_mount=[]}),l.forEach(Ln)}function ie(e,t){const n=e.$$;n.fragment!==null&&(gn(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ic(e,t){e.$$.dirty[0]===-1&&(Sn.push(e),Vo(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function se(e,t,n,r,s,i,o,l=[-1]){const c=On;Rn(e);const h=e.$$={fragment:null,ctx:null,props:i,update:Lt,not_equal:s,bound:Us(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Us(),dirty:l,skip_bound:!1,root:t.target||c.$$.root};o&&o(h.root);let p=!1;if(h.ctx=n?n(e,t.props||{},(f,u,...g)=>{const y=g.length?g[0]:u;return h.ctx&&s(h.ctx[f],h.ctx[f]=y)&&(!h.skip_bound&&h.bound[f]&&h.bound[f](y),p&&ic(e,f)),u}):[],h.update(),p=!0,gn(h.before_update),h.fragment=r?r(h.ctx):!1,t.target){if(t.hydrate){$l();const f=nt(t.target);h.fragment&&h.fragment.l(f),f.forEach(P)}else h.fragment&&h.fragment.c();t.intro&&gt(e.$$.fragment),re(e,t.target,t.anchor,t.customElement),Vl(),zo()}Rn(c)}class oe{$destroy(){ie(this,1),this.$destroy=Lt}$on(t,n){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!Fl(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const tn=[];function sc(e,t){return{subscribe:oc(e,t).subscribe}}function oc(e,t=Lt){let n;const r=new Set;function s(l){if($t(e,l)&&(e=l,n)){const c=!tn.length;for(const h of r)h[1](),tn.push(h,e);if(c){for(let h=0;h<tn.length;h+=2)tn[h][0](tn[h+1]);tn.length=0}}}function i(l){s(l(e))}function o(l,c=Lt){const h=[l,c];return r.add(h),r.size===1&&(n=t(s)||Lt),l(e),()=>{r.delete(h),r.size===0&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function qo(e){const t=e-1;return t*t*t+1}function Ag(e){return e===1?e:1-Math.pow(2,-10*e)}function Tg(e,{delay:t=0,duration:n=400,easing:r=Lr}={}){const s=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:i=>`opacity: ${i*s}`}}function Dg(e,{delay:t=0,duration:n=400,easing:r=qo}={}){const s=getComputedStyle(e),i=+s.opacity,o=parseFloat(s.height),l=parseFloat(s.paddingTop),c=parseFloat(s.paddingBottom),h=parseFloat(s.marginTop),p=parseFloat(s.marginBottom),f=parseFloat(s.borderTopWidth),u=parseFloat(s.borderBottomWidth);return{delay:t,duration:n,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*i};height: ${g*o}px;padding-top: ${g*l}px;padding-bottom: ${g*c}px;margin-top: ${g*h}px;margin-bottom: ${g*p}px;border-top-width: ${g*f}px;border-bottom-width: ${g*u}px;`}}var Vs={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function ac(e){var c;let t,n,r;const s=e[7].default,i=Qt(s,e,e[6],null);let o=[Vs,e[4],{width:e[2]},{height:e[2]},{stroke:e[1]},{"stroke-width":e[3]},{class:n=`lucide-icon lucide lucide-${e[0]} ${(c=e[5].class)!=null?c:""}`}],l={};for(let h=0;h<o.length;h+=1)l=ot(l,o[h]);return{c(){t=et("svg"),i&&i.c(),this.h()},l(h){t=rt(h,"svg",{width:!0,height:!0,stroke:!0,"stroke-width":!0,class:!0});var p=nt(t);i&&i.l(p),p.forEach(P),this.h()},h(){Fs(t,l)},m(h,p){V(h,t,p),i&&i.m(t,null),r=!0},p(h,[p]){var f;i&&i.p&&(!r||p&64)&&te(i,s,h,h[6],r?Zt(s,h[6],p,null):ee(h[6]),null),Fs(t,l=ne(o,[Vs,p&16&&h[4],(!r||p&4)&&{width:h[2]},(!r||p&4)&&{height:h[2]},(!r||p&2)&&{stroke:h[1]},(!r||p&8)&&{"stroke-width":h[3]},(!r||p&33&&n!==(n=`lucide-icon lucide lucide-${h[0]} ${(f=h[5].class)!=null?f:""}`))&&{class:n}]))},i(h){r||(gt(i,h),r=!0)},o(h){yt(i,h),r=!1},d(h){h&&P(t),i&&i.d(h)}}}function lc(e,t,n){const r=["name","color","size","strokeWidth"];let s=Ps(t,r),{$$slots:i={},$$scope:o}=t,{name:l}=t,{color:c="currentColor"}=t,{size:h=24}=t,{strokeWidth:p=2}=t;return e.$$set=f=>{n(5,t=ot(ot({},t),pt(f))),n(4,s=Ps(t,r)),"name"in f&&n(0,l=f.name),"color"in f&&n(1,c=f.color),"size"in f&&n(2,h=f.size),"strokeWidth"in f&&n(3,p=f.strokeWidth),"$$scope"in f&&n(6,o=f.$$scope)},t=pt(t),[l,c,h,p,s,t,o,i]}class we extends oe{constructor(t){super();se(this,t,lc,ac,$t,{name:0,color:1,size:2,strokeWidth:3})}}function cc(e){let t,n,r,s,i,o,l,c,h,p,f,u,g;const y=e[1].default,b=Qt(y,e,e[2],null);return{c(){t=et("circle"),n=it(),r=et("path"),s=it(),i=et("path"),o=it(),l=et("path"),c=it(),h=et("path"),p=it(),f=et("path"),u=it(),b&&b.c(),this.h()},l(S){t=rt(S,"circle",{cx:!0,cy:!0,r:!0}),nt(t).forEach(P),n=st(S),r=rt(S,"path",{d:!0}),nt(r).forEach(P),s=st(S),i=rt(S,"path",{d:!0}),nt(i).forEach(P),o=st(S),l=rt(S,"path",{d:!0}),nt(l).forEach(P),c=st(S),h=rt(S,"path",{d:!0}),nt(h).forEach(P),p=st(S),f=rt(S,"path",{d:!0}),nt(f).forEach(P),u=st(S),b&&b.l(S),this.h()},h(){$(t,"cx","12"),$(t,"cy","13"),$(t,"r","8"),$(r,"d","M12 9v4l2 2"),$(i,"d","M5 3L2 6"),$(l,"d","M22 6l-3-3"),$(h,"d","M6 19l-2 2"),$(f,"d","M18 19l2 2")},m(S,k){V(S,t,k),V(S,n,k),V(S,r,k),V(S,s,k),V(S,i,k),V(S,o,k),V(S,l,k),V(S,c,k),V(S,h,k),V(S,p,k),V(S,f,k),V(S,u,k),b&&b.m(S,k),g=!0},p(S,k){b&&b.p&&(!g||k&4)&&te(b,y,S,S[2],g?Zt(y,S[2],k,null):ee(S[2]),null)},i(S){g||(gt(b,S),g=!0)},o(S){yt(b,S),g=!1},d(S){S&&P(t),S&&P(n),S&&P(r),S&&P(s),S&&P(i),S&&P(o),S&&P(l),S&&P(c),S&&P(h),S&&P(p),S&&P(f),S&&P(u),b&&b.d(S)}}}function uc(e){let t,n;const r=[{name:"alarm-clock"},e[0]];let s={$$slots:{default:[cc]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=ot(s,r[i]);return t=new we({props:s}),{c(){ye(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,o){re(t,i,o),n=!0},p(i,[o]){const l=o&1?ne(r,[r[0],pe(i[0])]):{};o&4&&(l.$$scope={dirty:o,ctx:i}),t.$set(l)},i(i){n||(gt(t.$$.fragment,i),n=!0)},o(i){yt(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function fc(e,t,n){let{$$slots:r={},$$scope:s}=t;return e.$$set=i=>{n(0,t=ot(ot({},t),pt(i))),"$$scope"in i&&n(2,s=i.$$scope)},t=pt(t),[t,r,s]}class Ig extends oe{constructor(t){super();se(this,t,fc,uc,$t,{})}}function hc(e){let t,n,r,s,i,o,l;const c=e[1].default,h=Qt(c,e,e[2],null);return{c(){t=et("path"),n=it(),r=et("line"),s=it(),i=et("line"),o=it(),h&&h.c(),this.h()},l(p){t=rt(p,"path",{d:!0}),nt(t).forEach(P),n=st(p),r=rt(p,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),nt(r).forEach(P),s=st(p),i=rt(p,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),nt(i).forEach(P),o=st(p),h&&h.l(p),this.h()},h(){$(t,"d","M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"),$(r,"x1","12"),$(r,"y1","9"),$(r,"x2","12"),$(r,"y2","13"),$(i,"x1","12"),$(i,"y1","17"),$(i,"x2","12.01"),$(i,"y2","17")},m(p,f){V(p,t,f),V(p,n,f),V(p,r,f),V(p,s,f),V(p,i,f),V(p,o,f),h&&h.m(p,f),l=!0},p(p,f){h&&h.p&&(!l||f&4)&&te(h,c,p,p[2],l?Zt(c,p[2],f,null):ee(p[2]),null)},i(p){l||(gt(h,p),l=!0)},o(p){yt(h,p),l=!1},d(p){p&&P(t),p&&P(n),p&&P(r),p&&P(s),p&&P(i),p&&P(o),h&&h.d(p)}}}function dc(e){let t,n;const r=[{name:"alert-triangle"},e[0]];let s={$$slots:{default:[hc]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=ot(s,r[i]);return t=new we({props:s}),{c(){ye(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,o){re(t,i,o),n=!0},p(i,[o]){const l=o&1?ne(r,[r[0],pe(i[0])]):{};o&4&&(l.$$scope={dirty:o,ctx:i}),t.$set(l)},i(i){n||(gt(t.$$.fragment,i),n=!0)},o(i){yt(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function gc(e,t,n){let{$$slots:r={},$$scope:s}=t;return e.$$set=i=>{n(0,t=ot(ot({},t),pt(i))),"$$scope"in i&&n(2,s=i.$$scope)},t=pt(t),[t,r,s]}class Og extends oe{constructor(t){super();se(this,t,gc,dc,$t,{})}}function pc(e){let t,n,r;const s=e[1].default,i=Qt(s,e,e[2],null);return{c(){t=et("path"),n=it(),i&&i.c(),this.h()},l(o){t=rt(o,"path",{d:!0}),nt(t).forEach(P),n=st(o),i&&i.l(o),this.h()},h(){$(t,"d","M8.5 14.5A2.5 2.5 0 0011 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 11-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 002.5 2.5z")},m(o,l){V(o,t,l),V(o,n,l),i&&i.m(o,l),r=!0},p(o,l){i&&i.p&&(!r||l&4)&&te(i,s,o,o[2],r?Zt(s,o[2],l,null):ee(o[2]),null)},i(o){r||(gt(i,o),r=!0)},o(o){yt(i,o),r=!1},d(o){o&&P(t),o&&P(n),i&&i.d(o)}}}function yc(e){let t,n;const r=[{name:"flame"},e[0]];let s={$$slots:{default:[pc]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=ot(s,r[i]);return t=new we({props:s}),{c(){ye(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,o){re(t,i,o),n=!0},p(i,[o]){const l=o&1?ne(r,[r[0],pe(i[0])]):{};o&4&&(l.$$scope={dirty:o,ctx:i}),t.$set(l)},i(i){n||(gt(t.$$.fragment,i),n=!0)},o(i){yt(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function mc(e,t,n){let{$$slots:r={},$$scope:s}=t;return e.$$set=i=>{n(0,t=ot(ot({},t),pt(i))),"$$scope"in i&&n(2,s=i.$$scope)},t=pt(t),[t,r,s]}class Lg extends oe{constructor(t){super();se(this,t,mc,yc,$t,{})}}function wc(e){let t,n,r,s,i,o,l,c,h;const p=e[1].default,f=Qt(p,e,e[2],null);return{c(){t=et("rect"),n=it(),r=et("rect"),s=it(),i=et("rect"),o=it(),l=et("rect"),c=it(),f&&f.c(),this.h()},l(u){t=rt(u,"rect",{x:!0,y:!0,width:!0,height:!0}),nt(t).forEach(P),n=st(u),r=rt(u,"rect",{x:!0,y:!0,width:!0,height:!0}),nt(r).forEach(P),s=st(u),i=rt(u,"rect",{x:!0,y:!0,width:!0,height:!0}),nt(i).forEach(P),o=st(u),l=rt(u,"rect",{x:!0,y:!0,width:!0,height:!0}),nt(l).forEach(P),c=st(u),f&&f.l(u),this.h()},h(){$(t,"x","3"),$(t,"y","3"),$(t,"width","7"),$(t,"height","9"),$(r,"x","14"),$(r,"y","3"),$(r,"width","7"),$(r,"height","5"),$(i,"x","14"),$(i,"y","12"),$(i,"width","7"),$(i,"height","9"),$(l,"x","3"),$(l,"y","16"),$(l,"width","7"),$(l,"height","5")},m(u,g){V(u,t,g),V(u,n,g),V(u,r,g),V(u,s,g),V(u,i,g),V(u,o,g),V(u,l,g),V(u,c,g),f&&f.m(u,g),h=!0},p(u,g){f&&f.p&&(!h||g&4)&&te(f,p,u,u[2],h?Zt(p,u[2],g,null):ee(u[2]),null)},i(u){h||(gt(f,u),h=!0)},o(u){yt(f,u),h=!1},d(u){u&&P(t),u&&P(n),u&&P(r),u&&P(s),u&&P(i),u&&P(o),u&&P(l),u&&P(c),f&&f.d(u)}}}function bc(e){let t,n;const r=[{name:"layout-dashboard"},e[0]];let s={$$slots:{default:[wc]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=ot(s,r[i]);return t=new we({props:s}),{c(){ye(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,o){re(t,i,o),n=!0},p(i,[o]){const l=o&1?ne(r,[r[0],pe(i[0])]):{};o&4&&(l.$$scope={dirty:o,ctx:i}),t.$set(l)},i(i){n||(gt(t.$$.fragment,i),n=!0)},o(i){yt(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function _c(e,t,n){let{$$slots:r={},$$scope:s}=t;return e.$$set=i=>{n(0,t=ot(ot({},t),pt(i))),"$$scope"in i&&n(2,s=i.$$scope)},t=pt(t),[t,r,s]}class Mg extends oe{constructor(t){super();se(this,t,_c,bc,$t,{})}}function vc(e){let t,n,r,s,i,o,l,c,h;const p=e[1].default,f=Qt(p,e,e[2],null);return{c(){t=et("path"),n=it(),r=et("path"),s=it(),i=et("path"),o=it(),l=et("path"),c=it(),f&&f.c(),this.h()},l(u){t=rt(u,"path",{d:!0}),nt(t).forEach(P),n=st(u),r=rt(u,"path",{d:!0}),nt(r).forEach(P),s=st(u),i=rt(u,"path",{d:!0}),nt(i).forEach(P),o=st(u),l=rt(u,"path",{d:!0}),nt(l).forEach(P),c=st(u),f&&f.l(u),this.h()},h(){$(t,"d","M16 6l4 14"),$(r,"d","M12 6v14"),$(i,"d","M8 8v12"),$(l,"d","M4 4v16")},m(u,g){V(u,t,g),V(u,n,g),V(u,r,g),V(u,s,g),V(u,i,g),V(u,o,g),V(u,l,g),V(u,c,g),f&&f.m(u,g),h=!0},p(u,g){f&&f.p&&(!h||g&4)&&te(f,p,u,u[2],h?Zt(p,u[2],g,null):ee(u[2]),null)},i(u){h||(gt(f,u),h=!0)},o(u){yt(f,u),h=!1},d(u){u&&P(t),u&&P(n),u&&P(r),u&&P(s),u&&P(i),u&&P(o),u&&P(l),u&&P(c),f&&f.d(u)}}}function Ec(e){let t,n;const r=[{name:"library"},e[0]];let s={$$slots:{default:[vc]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=ot(s,r[i]);return t=new we({props:s}),{c(){ye(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,o){re(t,i,o),n=!0},p(i,[o]){const l=o&1?ne(r,[r[0],pe(i[0])]):{};o&4&&(l.$$scope={dirty:o,ctx:i}),t.$set(l)},i(i){n||(gt(t.$$.fragment,i),n=!0)},o(i){yt(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Cc(e,t,n){let{$$slots:r={},$$scope:s}=t;return e.$$set=i=>{n(0,t=ot(ot({},t),pt(i))),"$$scope"in i&&n(2,s=i.$$scope)},t=pt(t),[t,r,s]}class Ng extends oe{constructor(t){super();se(this,t,Cc,Ec,$t,{})}}function Sc(e){let t,n,r,s,i,o,l;const c=e[1].default,h=Qt(c,e,e[2],null);return{c(){t=et("rect"),n=it(),r=et("line"),s=it(),i=et("line"),o=it(),h&&h.c(),this.h()},l(p){t=rt(p,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),nt(t).forEach(P),n=st(p),r=rt(p,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),nt(r).forEach(P),s=st(p),i=rt(p,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),nt(i).forEach(P),o=st(p),h&&h.l(p),this.h()},h(){$(t,"x","3"),$(t,"y","3"),$(t,"width","18"),$(t,"height","18"),$(t,"rx","2"),$(t,"ry","2"),$(r,"x1","12"),$(r,"y1","8"),$(r,"x2","12"),$(r,"y2","16"),$(i,"x1","8"),$(i,"y1","12"),$(i,"x2","16"),$(i,"y2","12")},m(p,f){V(p,t,f),V(p,n,f),V(p,r,f),V(p,s,f),V(p,i,f),V(p,o,f),h&&h.m(p,f),l=!0},p(p,f){h&&h.p&&(!l||f&4)&&te(h,c,p,p[2],l?Zt(c,p[2],f,null):ee(p[2]),null)},i(p){l||(gt(h,p),l=!0)},o(p){yt(h,p),l=!1},d(p){p&&P(t),p&&P(n),p&&P(r),p&&P(s),p&&P(i),p&&P(o),h&&h.d(p)}}}function kc(e){let t,n;const r=[{name:"plus-square"},e[0]];let s={$$slots:{default:[Sc]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=ot(s,r[i]);return t=new we({props:s}),{c(){ye(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,o){re(t,i,o),n=!0},p(i,[o]){const l=o&1?ne(r,[r[0],pe(i[0])]):{};o&4&&(l.$$scope={dirty:o,ctx:i}),t.$set(l)},i(i){n||(gt(t.$$.fragment,i),n=!0)},o(i){yt(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Rc(e,t,n){let{$$slots:r={},$$scope:s}=t;return e.$$set=i=>{n(0,t=ot(ot({},t),pt(i))),"$$scope"in i&&n(2,s=i.$$scope)},t=pt(t),[t,r,s]}class xg extends oe{constructor(t){super();se(this,t,Rc,kc,$t,{})}}function Ac(e){let t,n,r,s,i,o,l,c,h;const p=e[1].default,f=Qt(p,e,e[2],null);return{c(){t=et("path"),n=it(),r=et("path"),s=it(),i=et("path"),o=it(),l=et("path"),c=it(),f&&f.c(),this.h()},l(u){t=rt(u,"path",{d:!0}),nt(t).forEach(P),n=st(u),r=rt(u,"path",{d:!0}),nt(r).forEach(P),s=st(u),i=rt(u,"path",{d:!0}),nt(i).forEach(P),o=st(u),l=rt(u,"path",{d:!0}),nt(l).forEach(P),c=st(u),f&&f.l(u),this.h()},h(){$(t,"d","M17 2l4 4-4 4"),$(r,"d","M3 11v-1a4 4 0 014-4h14"),$(i,"d","M7 22l-4-4 4-4"),$(l,"d","M21 13v1a4 4 0 01-4 4H3")},m(u,g){V(u,t,g),V(u,n,g),V(u,r,g),V(u,s,g),V(u,i,g),V(u,o,g),V(u,l,g),V(u,c,g),f&&f.m(u,g),h=!0},p(u,g){f&&f.p&&(!h||g&4)&&te(f,p,u,u[2],h?Zt(p,u[2],g,null):ee(u[2]),null)},i(u){h||(gt(f,u),h=!0)},o(u){yt(f,u),h=!1},d(u){u&&P(t),u&&P(n),u&&P(r),u&&P(s),u&&P(i),u&&P(o),u&&P(l),u&&P(c),f&&f.d(u)}}}function Tc(e){let t,n;const r=[{name:"repeat"},e[0]];let s={$$slots:{default:[Ac]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=ot(s,r[i]);return t=new we({props:s}),{c(){ye(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,o){re(t,i,o),n=!0},p(i,[o]){const l=o&1?ne(r,[r[0],pe(i[0])]):{};o&4&&(l.$$scope={dirty:o,ctx:i}),t.$set(l)},i(i){n||(gt(t.$$.fragment,i),n=!0)},o(i){yt(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Dc(e,t,n){let{$$slots:r={},$$scope:s}=t;return e.$$set=i=>{n(0,t=ot(ot({},t),pt(i))),"$$scope"in i&&n(2,s=i.$$scope)},t=pt(t),[t,r,s]}class Bg extends oe{constructor(t){super();se(this,t,Dc,Tc,$t,{})}}function Ic(e){let t,n,r,s,i,o,l,c,h;const p=e[1].default,f=Qt(p,e,e[2],null);return{c(){t=et("path"),n=it(),r=et("path"),s=it(),i=et("circle"),o=it(),l=et("circle"),c=it(),f&&f.c(),this.h()},l(u){t=rt(u,"path",{d:!0}),nt(t).forEach(P),n=st(u),r=rt(u,"path",{d:!0}),nt(r).forEach(P),s=st(u),i=rt(u,"circle",{cx:!0,cy:!0,r:!0}),nt(i).forEach(P),o=st(u),l=rt(u,"circle",{cx:!0,cy:!0,r:!0}),nt(l).forEach(P),c=st(u),f&&f.l(u),this.h()},h(){$(t,"d","M20 7h-9"),$(r,"d","M14 17H5"),$(i,"cx","17"),$(i,"cy","17"),$(i,"r","3"),$(l,"cx","7"),$(l,"cy","7"),$(l,"r","3")},m(u,g){V(u,t,g),V(u,n,g),V(u,r,g),V(u,s,g),V(u,i,g),V(u,o,g),V(u,l,g),V(u,c,g),f&&f.m(u,g),h=!0},p(u,g){f&&f.p&&(!h||g&4)&&te(f,p,u,u[2],h?Zt(p,u[2],g,null):ee(u[2]),null)},i(u){h||(gt(f,u),h=!0)},o(u){yt(f,u),h=!1},d(u){u&&P(t),u&&P(n),u&&P(r),u&&P(s),u&&P(i),u&&P(o),u&&P(l),u&&P(c),f&&f.d(u)}}}function Oc(e){let t,n;const r=[{name:"settings-2"},e[0]];let s={$$slots:{default:[Ic]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=ot(s,r[i]);return t=new we({props:s}),{c(){ye(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,o){re(t,i,o),n=!0},p(i,[o]){const l=o&1?ne(r,[r[0],pe(i[0])]):{};o&4&&(l.$$scope={dirty:o,ctx:i}),t.$set(l)},i(i){n||(gt(t.$$.fragment,i),n=!0)},o(i){yt(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function Lc(e,t,n){let{$$slots:r={},$$scope:s}=t;return e.$$set=i=>{n(0,t=ot(ot({},t),pt(i))),"$$scope"in i&&n(2,s=i.$$scope)},t=pt(t),[t,r,s]}class Ug extends oe{constructor(t){super();se(this,t,Lc,Oc,$t,{})}}function Mc(e){let t,n,r,s,i;const o=e[1].default,l=Qt(o,e,e[2],null);return{c(){t=et("polyline"),n=it(),r=et("path"),s=it(),l&&l.c(),this.h()},l(c){t=rt(c,"polyline",{points:!0}),nt(t).forEach(P),n=st(c),r=rt(c,"path",{d:!0}),nt(r).forEach(P),s=st(c),l&&l.l(c),this.h()},h(){$(t,"points","3 6 5 6 21 6"),$(r,"d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2")},m(c,h){V(c,t,h),V(c,n,h),V(c,r,h),V(c,s,h),l&&l.m(c,h),i=!0},p(c,h){l&&l.p&&(!i||h&4)&&te(l,o,c,c[2],i?Zt(o,c[2],h,null):ee(c[2]),null)},i(c){i||(gt(l,c),i=!0)},o(c){yt(l,c),i=!1},d(c){c&&P(t),c&&P(n),c&&P(r),c&&P(s),l&&l.d(c)}}}function Nc(e){let t,n;const r=[{name:"trash"},e[0]];let s={$$slots:{default:[Mc]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=ot(s,r[i]);return t=new we({props:s}),{c(){ye(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,o){re(t,i,o),n=!0},p(i,[o]){const l=o&1?ne(r,[r[0],pe(i[0])]):{};o&4&&(l.$$scope={dirty:o,ctx:i}),t.$set(l)},i(i){n||(gt(t.$$.fragment,i),n=!0)},o(i){yt(t.$$.fragment,i),n=!1},d(i){ie(t,i)}}}function xc(e,t,n){let{$$slots:r={},$$scope:s}=t;return e.$$set=i=>{n(0,t=ot(ot({},t),pt(i))),"$$scope"in i&&n(2,s=i.$$scope)},t=pt(t),[t,r,s]}class Pg extends oe{constructor(t){super();se(this,t,xc,Nc,$t,{})}}function Fg(e,{from:t,to:n},r={}){const s=getComputedStyle(e),i=s.transform==="none"?"":s.transform,[o,l]=s.transformOrigin.split(" ").map(parseFloat),c=t.left+t.width*o/n.width-(n.left+o),h=t.top+t.height*l/n.height-(n.top+l),{delay:p=0,duration:f=g=>Math.sqrt(g)*120,easing:u=qo}=r;return{delay:p,duration:Mr(f)?f(Math.sqrt(c*c+h*h)):f,easing:u,css:(g,y)=>{const b=y*c,S=y*h,k=g+y*t.width/n.width,L=g+y*t.height/n.height;return`transform: ${i} translate(${b}px, ${S}px) scale(${k}, ${L});`}}}function Mn(){return Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mn.apply(this,arguments)}function Bc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ai(e,t)}function Ai(e,t){return Ai=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Ai(e,t)}function Uc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ur=0;function Ko(){return ur>0}function Ti(e){ur++;try{return e()}finally{ur--,ur===0&&jc()}}var Xi=function(){function e(n){this.trigger=n,this.observing=new Map}var t=e.prototype;return t.registerConnection=function(r){var s=this.observing.get(r.observable);s||(s={byKey:new Set,iterate:!1},this.observing.set(r.observable,s)),r.type==="iterate"?s.iterate=!0:s.byKey.add(r.key)},t.removeObservers=function(){var r=this;this.observing.forEach(function(s,i){s.iterate&&i[bt].connections.iterate.delete(r),s.byKey.forEach(function(o){i[bt].connections.byKey.get(o).delete(r)})}),this.observing.clear()},e}(),Be=[],Br=function(e){Bc(t,e);function t(r,s,i){var o;if(o=e.call(this,function(){return o._trigger()})||this,o.func=r,o.options=s,o.effect=i,o.isInitial=!0,o.reaction=function(){Be.push(Uc(o));try{o.func()}finally{Be.pop()}o.effect&&(!o.isInitial||o.options.fireImmediately)&&o.effect(),o.isInitial=!1},!i&&!o.options.fireImmediately)throw new Error("if no effect function passed, should always fireImmediately");return o.reaction(),o}var n=t.prototype;return n._trigger=function(){if(Be.includes(this))throw new Error("already running reaction");this.removeObservers(),this.reaction()},t}(Xi);function Yo(){return!!Be.length}function Jo(){return Be.length?Be[Be.length-1]:void 0}function Pc(e,t,n){var r=Mn({name:"unnamed",fireImmediately:!0},n),s=new Br(e,r,t);return s}var Di=!1;function Go(){return Di}function Xo(e){Di=!0;try{e()}finally{Di=!1}}function Fc(e){return function(){return Xo(e)}}var Ii=[];function jc(){var e=[].concat(Ii);Ii=[],Qo(e)}function Qo(e){var t=new Set;e.forEach(function(n){var r;(n.type==="add"||n.type==="delete")&&n.observable[bt].connections.iterate.forEach(function(s){t.add(s)}),(r=n.observable[bt].connections.byKey.get(n.key))==null||r.forEach(function(s){t.add(s)})}),t.forEach(function(n){n.trigger()})}function tr(e){if(Ko()){Ii.push(e);return}Qo([e])}function zs(e,t){if(e.type==="iterate")e.observable[bt].connections.iterate.add(t);else{var n=e.observable[bt].connections.byKey.get(e.key);n||(n=new Set,e.observable[bt].connections.byKey.set(e.key,n)),n.add(t)}}function er(e,t){if(!Go()){var n=Jo();n&&(zs(e,n),n.registerConnection(e)),t&&(zs(e,t),t.registerConnection(e))}}var Qi=Symbol("$skipreactive"),bt=Symbol("$reactive"),Mt=Symbol("$reactiveproxy");function zn(e,t){return!!(e&&e[Mt]&&e[Mt].implicitObserver===t)}function Zi(e){return e[Qi]=!0,e}function Zo(e){return!!(e&&!zn(e)&&e[bt])}function Oi(e,t,n){if(n===void 0&&(n=!1),e[Qi]||zn(e,t))return e;var r=$c(e,n);if(!t)return r;var s=r[bt].proxiesWithImplicitObserver.get(t);if(!s){var i={implicitObserver:t};Object.setPrototypeOf(i,ta),s=new Proxy(r[bt].raw,i),r[bt].proxiesWithImplicitObserver.set(t,s)}return s}var Nn=Oi;function $c(e,t){if(t===void 0&&(t=!1),zn(e))return e;if(Zo(e))return e[bt].proxy;if(e[bt]||e[Mt])throw new Error("unexpected");var n={connections:{iterate:new Set,byKey:new Map},proxy:{},raw:e,proxiesWithImplicitObserver:new Map,shallow:t};Object.defineProperty(e,bt,{enumerable:!1,writable:!0,configurable:!0,value:n});var r=new Proxy(e,ta);return n.proxy=r,r}var ta={has:function(t,n){var r=Reflect.has(t,n);return typeof n=="symbol"||er({observable:t,key:n,type:"has"},this.implicitObserver),r},get:function(t,n,r){if(n===Mt)return{implicitObserver:this.implicitObserver};var s=Reflect.get(t,n,r);if(typeof n=="symbol")return s;if(n==="length"&&Array.isArray(t)?er({observable:t,type:"iterate"},this.implicitObserver):er({observable:t,key:n,type:"get"},this.implicitObserver),Zo(s))return Oi(s,this.implicitObserver);if(t[bt].shallow)return s;if(typeof s=="object"&&s!==null&&!zn(s,this.implicitObserver)&&!Object.isFrozen(s)){var i=Reflect.getOwnPropertyDescriptor(t,n);if((!i||!(i.writable===!1&&i.configurable===!1))&&(Yo()||this.implicitObserver))return Oi(s,this.implicitObserver)}return s},ownKeys:function(t){return er({observable:t,type:"iterate"},this.implicitObserver),Reflect.ownKeys(t)},set:function(t,n,r,s){return Ti(function(){if(typeof n=="symbol")return Reflect.set(t,n,r,s);var i=Object.hasOwnProperty.call(t,n),o=Reflect.get(t,n,s),l=Reflect.set(t,n,r,s);if(!i)tr({observable:t,key:n,value:r,type:"add"});else if(r!==o)if(n==="length"&&Array.isArray(t)){if(!(o<r))for(var c=r+1;c<=o;c++)tr({observable:t,key:""+(c-1),oldValue:void 0,type:"delete"})}else tr({observable:t,key:n,value:r,oldValue:o,type:"update"});return l})},deleteProperty:function(t,n){return Ti(function(){if(typeof n=="symbol")return Reflect.deleteProperty(t,n);var r=Object.hasOwnProperty.call(t,n),s=Reflect.get(t,n),i=Reflect.deleteProperty(t,n);return r&&tr({observable:t,key:n,oldValue:s,type:"delete"}),i})},preventExtensions:function(t){throw new Error("Dynamic observable objects cannot be frozen")}};function Vc(e,t){var n=Mn({name:"unnamed",fireImmediately:!0},t),r=new Br(e,n);return r}function zc(e,t,n){var r=Mn({name:"unnamed",fireImmediately:!0},n),s=new Br(function(){e(t)},r);return t=Nn(t,s),t.bla=4,r.fireImmediately&&s.trigger(),s}var ea=function(){function e(){this._observable=Nn({_key:1})}var t=e.prototype;return t.reportObserved=function(r){return Nn(this._observable,r)._key},t.reportChanged=function(){this._observable._key++},e}();function Hc(e,t,n){return new ea}var Wc=Object.freeze(Object.defineProperty({__proto__:null,$reactive:bt,$reactiveproxy:Mt,$skipreactive:Qi,Atom:ea,Observer:Xi,Reaction:Br,autorun:Vc,autorunAsync:zc,createAtom:Hc,hasRunningReaction:Yo,isActionRunning:Ko,isReactive:zn,isTrackingDisabled:Go,markRaw:Zi,reaction:Pc,reactive:Nn,runInAction:Ti,runningReaction:Jo,untracked:Xo,untrackedCB:Fc},Symbol.toStringTag,{value:"Module"}));const Ht=()=>new Map,br=e=>{const t=Ht();return e.forEach((n,r)=>{t.set(r,n)}),t},Nt=(e,t,n)=>{let r=e.get(t);return r===void 0&&e.set(t,r=n()),r},qc=(e,t)=>{const n=[];for(const[r,s]of e)n.push(t(s,r));return n},Kc=(e,t)=>{for(const[n,r]of e)if(t(r,n))return!0;return!1},xn=()=>new Set,si=e=>e[e.length-1],Yc=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},na=Array.from;class Hn{constructor(){this._observers=Ht()}on(t,n){Nt(this._observers,t,xn).add(n)}once(t,n){const r=(...s)=>{this.off(t,r),n(...s)};this.on(t,r)}off(t,n){const r=this._observers.get(t);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(t))}emit(t,n){return na((this._observers.get(t)||Ht()).values()).forEach(r=>r(...n))}destroy(){this._observers=Ht()}}const sn=Math.floor,oi=Math.abs,Jc=Math.log10,ts=(e,t)=>e<t?e:t,He=(e,t)=>e>t?e:t,ra=e=>e!==0?e<0:1/e<0,Gc=String.fromCharCode,Xc=e=>e.toLowerCase(),Qc=/^\s*/g,Zc=e=>e.replace(Qc,""),tu=/([A-Z])/g,Hs=(e,t)=>Zc(e.replace(tu,n=>`${t}${Xc(n)}`)),eu=e=>{const t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.codePointAt(s);return r},ia=typeof TextEncoder!="undefined"?new TextEncoder:null,nu=e=>ia.encode(e),Ws=ia?nu:eu;let ai=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});ai&&ai.decode(new Uint8Array).length===1&&(ai=null);const qs=e=>e===void 0?null:e;class ru{constructor(){this.map=new Map}setItem(t,n){this.map.set(t,n)}getItem(t){return this.map.get(t)}}let sa=new ru,oa=!0;try{typeof localStorage!="undefined"&&(sa=localStorage,oa=!1)}catch{}const aa=sa,iu=e=>oa||addEventListener("storage",e),Ur=typeof process!="undefined"&&process.release&&/node|io\.js/.test(process.release.name),la=typeof window!="undefined"&&!Ur;typeof navigator!="undefined"&&/Mac/.test(navigator.platform);let Vt;const su=()=>{if(Vt===void 0)if(Ur){Vt=Ht();const e=process.argv;let t=null;for(let n=0;n<e.length;n++){const r=e[n];r[0]==="-"?(t!==null&&Vt.set(t,""),t=r):t!==null&&(Vt.set(t,r),t=null)}t!==null&&Vt.set(t,"")}else typeof location=="object"?(Vt=Ht(),(location.search||"?").slice(1).split("&").forEach(e=>{if(e.length!==0){const[t,n]=e.split("=");Vt.set(`--${Hs(t,"-")}`,n),Vt.set(`-${Hs(t,"-")}`,n)}})):Vt=Ht();return Vt},ou=e=>su().has(e),ca=e=>qs(Ur?process.env[e.toUpperCase()]:aa.getItem(e)),au=e=>ou("--"+e)||ca(e)!==null;au("production");const Ks=1,Ys=2,li=4,ci=8,Bn=32,fe=64,Dt=128,Pr=31,Li=63,Ue=127,lu=2147483647;class Fr{constructor(t){this.arr=t,this.pos=0}}const ae=e=>new Fr(e),cu=e=>e.pos!==e.arr.length,uu=(e,t)=>{const n=rs(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},kt=e=>uu(e,Y(e)),Fe=e=>e.arr[e.pos++],Y=e=>{let t=0,n=0;for(;;){const r=e.arr[e.pos++];if(t=t|(r&Ue)<<n,n+=7,r<Dt)return t>>>0;if(n>35)throw new Error("Integer out of range!")}},es=e=>{let t=e.arr[e.pos++],n=t&Li,r=6;const s=(t&fe)>0?-1:1;if((t&Dt)===0)return s*n;for(;;){if(t=e.arr[e.pos++],n=n|(t&Ue)<<r,r+=7,t<Dt)return s*(n>>>0);if(r>41)throw new Error("Integer out of range!")}},he=e=>{let t=Y(e);if(t===0)return"";{let n=String.fromCodePoint(Fe(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(Fe(e));else for(;t>0;){const r=t<1e4?t:1e4,s=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,s),t-=r}return decodeURIComponent(escape(n))}},ns=(e,t)=>{const n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},fu=e=>ns(e,4).getFloat32(0,!1),hu=e=>ns(e,8).getFloat64(0,!1),du=e=>ns(e,8).getBigInt64(0,!1),gu=[e=>{},e=>null,es,fu,hu,du,e=>!1,e=>!0,he,e=>{const t=Y(e),n={};for(let r=0;r<t;r++){const s=he(e);n[s]=on(e)}return n},e=>{const t=Y(e),n=[];for(let r=0;r<t;r++)n.push(on(e));return n},kt],on=e=>gu[127-Fe(e)](e);class Js extends Fr{constructor(t,n){super(t);this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),cu(this)?this.count=Y(this)+1:this.count=-1),this.count--,this.s}}class fr extends Fr{constructor(t){super(t);this.s=0,this.count=0}read(){if(this.count===0){this.s=es(this);const t=ra(this.s);this.count=1,t&&(this.s=-this.s,this.count=Y(this)+2)}return this.count--,this.s}}class ui extends Fr{constructor(t){super(t);this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const t=es(this),n=t&1;this.diff=t>>1,this.count=1,n&&(this.count=Y(this)+2)}return this.s+=this.diff,this.count--,this.s}}class pu{constructor(t){this.decoder=new fr(t),this.str=he(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),n=this.str.slice(this.spos,t);return this.spos=t,n}}const ua=e=>new Uint8Array(e),rs=(e,t,n)=>new Uint8Array(e,t,n),yu=e=>new Uint8Array(e),mu=e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=Gc(e[n]);return btoa(t)},wu=e=>Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"),bu=e=>{const t=atob(e),n=ua(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},_u=e=>{const t=Buffer.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},fa=la?mu:wu,ha=la?bu:_u,vu=e=>{const t=ua(e.byteLength);return t.set(e),t},Eu=Number.isInteger||(e=>typeof e=="number"&&isFinite(e)&&sn(e)===e);class Wn{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const vt=()=>new Wn,Cu=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},ut=e=>{const t=new Uint8Array(Cu(e));let n=0;for(let r=0;r<e.bufs.length;r++){const s=e.bufs[r];t.set(s,n),n+=s.length}return t.set(rs(e.cbuf.buffer,0,e.cpos),n),t},Su=(e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(rs(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(He(n,t)*2),e.cpos=0)},St=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(n*2),e.cpos=0),e.cbuf[e.cpos++]=t},Un=St,W=(e,t)=>{for(;t>Ue;)St(e,Dt|Ue&t),t>>>=7;St(e,Ue&t)},is=(e,t)=>{const n=ra(t);for(n&&(t=-t),St(e,(t>Li?Dt:0)|(n?fe:0)|Li&t),t>>>=6;t>0;)St(e,(t>Ue?Dt:0)|Ue&t),t>>>=7},Wt=(e,t)=>{const n=unescape(encodeURIComponent(t)),r=n.length;W(e,r);for(let s=0;s<r;s++)St(e,n.codePointAt(s))},jr=(e,t)=>{const n=e.cbuf.length,r=e.cpos,s=ts(n-r,t.length),i=t.length-s;e.cbuf.set(t.subarray(0,s),r),e.cpos+=s,i>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(He(n*2,i)),e.cbuf.set(t.subarray(s)),e.cpos=i)},dt=(e,t)=>{W(e,t.byteLength),jr(e,t)},ss=(e,t)=>{Su(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},ku=(e,t)=>ss(e,4).setFloat32(0,t,!1),Ru=(e,t)=>ss(e,8).setFloat64(0,t,!1),Au=(e,t)=>ss(e,8).setBigInt64(0,t,!1),Gs=new DataView(new ArrayBuffer(4)),Tu=e=>(Gs.setFloat32(0,e),Gs.getFloat32(0)===e),an=(e,t)=>{switch(typeof t){case"string":St(e,119),Wt(e,t);break;case"number":Eu(t)&&t<=lu?(St(e,125),is(e,t)):Tu(t)?(St(e,124),ku(e,t)):(St(e,123),Ru(e,t));break;case"bigint":St(e,122),Au(e,t);break;case"object":if(t===null)St(e,126);else if(t instanceof Array){St(e,117),W(e,t.length);for(let n=0;n<t.length;n++)an(e,t[n])}else if(t instanceof Uint8Array)St(e,116),dt(e,t);else{St(e,118);const n=Object.keys(t);W(e,n.length);for(let r=0;r<n.length;r++){const s=n[r];Wt(e,s),an(e,t[s])}}break;case"boolean":St(e,t?120:121);break;default:St(e,127)}};class Xs extends Wn{constructor(t){super();this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&W(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const Qs=e=>{e.count>0&&(is(e.encoder,e.count===1?e.s:-e.s),e.count>1&&W(e.encoder,e.count-2))};class hr{constructor(){this.encoder=new Wn,this.s=0,this.count=0}write(t){this.s===t?this.count++:(Qs(this),this.count=1,this.s=t)}toUint8Array(){return Qs(this),ut(this.encoder)}}const Zs=e=>{if(e.count>0){const t=e.diff<<1|(e.count===1?0:1);is(e.encoder,t),e.count>1&&W(e.encoder,e.count-2)}};class fi{constructor(){this.encoder=new Wn,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(Zs(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return Zs(this),ut(this.encoder)}}class Du{constructor(){this.sarr=[],this.s="",this.lensE=new hr}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new Wn;return this.sarr.push(this.s),this.s="",Wt(t,this.sarr.join("")),jr(t,this.lensE.toUint8Array()),ut(t)}}const to=typeof crypto=="undefined"?null:crypto,Iu=to!==null?e=>{const t=new ArrayBuffer(e),n=new Uint8Array(t);return to.getRandomValues(n),t}:e=>{const t=new ArrayBuffer(e),n=new Uint8Array(t);for(let r=0;r<e;r++)n[r]=Math.ceil(Math.random()*4294967295>>>0);return t},Ou=Math.random,da=()=>new Uint32Array(Iu(4))[0],Lu=[1e7]+-1e3+-4e3+-8e3+-1e11,ga=()=>Lu.replace(/[018]/g,e=>(e^da()&15>>e/4).toString(16)),de=Date.now,$r=e=>new Promise(e),Mu=e=>Promise.reject(e),os=e=>Promise.resolve(e),We=e=>new Error(e),qt=()=>{throw We("Method unimplemented")},Yt=()=>{throw We("Unexpected case")},Nu=Object.keys,_r=e=>Nu(e).length,xu=(e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0},pa=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Bu=(e,t)=>e===t||_r(e)===_r(t)&&xu(e,(n,r)=>(n!==void 0||pa(t,r))&&t[r]===n),as=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&as(e,t,n+1)}},Uu=()=>{},Pu=(e,t)=>e===t,Tn=(e,t)=>{if(e==null||t==null)return Pu(e,t);if(e.constructor!==t.constructor)return!1;if(e===t)return!0;switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:{if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;break}case Set:{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;break}case Map:{if(e.size!==t.size)return!1;for(const n of e.keys())if(!t.has(n)||!Tn(e.get(n),t.get(n)))return!1;break}case Object:if(_r(e)!==_r(t))return!1;for(const n in e)if(!pa(e,n)||!Tn(e[n],t[n]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Tn(e[n],t[n]))return!1;break;default:return!1}return!0},be=Symbol;class Fu{constructor(t,n){this.left=t,this.right=n}}const ce=(e,t)=>new Fu(e,t),qe=typeof document!="undefined"?document:{};typeof DOMParser!="undefined"&&new DOMParser;const ju=e=>qc(e,(t,n)=>`${n}:${t};`).join("");qe.ELEMENT_NODE;qe.TEXT_NODE;qe.CDATA_SECTION_NODE;qe.COMMENT_NODE;qe.DOCUMENT_NODE;qe.DOCUMENT_TYPE_NODE;qe.DOCUMENT_FRAGMENT_NODE;const Tt=be(),De=be(),ls=be(),Vr=be(),cs=be(),us=be(),fs=be(),zr=be(),qn=be(),$u={[Tt]:ce("font-weight","bold"),[De]:ce("font-weight","normal"),[ls]:ce("color","blue"),[cs]:ce("color","green"),[Vr]:ce("color","grey"),[us]:ce("color","red"),[fs]:ce("color","purple"),[zr]:ce("color","orange"),[qn]:ce("color","black")},Vu={[Tt]:"\x1B[1m",[De]:"\x1B[2m",[ls]:"\x1B[34m",[cs]:"\x1B[32m",[Vr]:"\x1B[37m",[us]:"\x1B[31m",[fs]:"\x1B[35m",[zr]:"\x1B[38;5;208m",[qn]:"\x1B[0m"},zu=e=>{const t=[],n=[],r=Ht();let s=[],i=0;for(;i<e.length;i++){const o=e[i],l=$u[o];if(l!==void 0)r.set(l.left,l.right);else if(o.constructor===String||o.constructor===Number){const c=ju(r);i>0||c.length>0?(t.push("%c"+o),n.push(c)):t.push(o)}else break}for(i>0&&(s=n,s.unshift(t.join("")));i<e.length;i++){const o=e[i];o instanceof Symbol||s.push(o)}return s},Hu=e=>{const t=[],n=[];let r=0;for(;r<e.length;r++){const s=e[r],i=Vu[s];if(i!==void 0)t.push(i);else if(s.constructor===String||s.constructor===Number)t.push(s);else break}for(r>0&&(t.push("\x1B[0m"),n.push(t.join("")));r<e.length;r++){const s=e[r];s instanceof Symbol||n.push(s)}return n},Wu=Ur?Hu:zu,ya=(...e)=>{console.log(...Wu(e)),qu.forEach(t=>t.print(e))},qu=new Set,eo=[cs,fs,zr,ls];let hi=0,no=de();const Ku=e=>{const t=eo[hi],n=ca("log"),r=n!==null&&(n==="*"||n==="true"||new RegExp(n,"gi").test(e));return hi=(hi+1)%eo.length,e+=": ",r?(...s)=>{const i=de(),o=i-no;no=i,ya(t,e,qn,...s.map(l=>typeof l=="string"||typeof l=="symbol"?l:JSON.stringify(l)),t," +"+o+"ms")}:Uu},ma=e=>({[Symbol.iterator](){return this},next:e}),Yu=(e,t)=>ma(()=>{let n;do n=e.next();while(!n.done&&!t(n.value));return n}),di=(e,t)=>ma(()=>{const{done:n,value:r}=e.next();return{done:n,value:n?void 0:t(r)}});class hs{constructor(t,n){this.clock=t,this.len=n}}class Kn{constructor(){this.clients=new Map}}const Mi=(e,t,n)=>t.clients.forEach((r,s)=>{const i=e.doc.store.clients.get(s);for(let o=0;o<r.length;o++){const l=r[o];La(e,i,l.clock,l.len,n)}}),Ju=(e,t)=>{let n=0,r=e.length-1;for(;n<=r;){const s=sn((n+r)/2),i=e[s],o=i.clock;if(o<=t){if(t<o+i.len)return s;n=s+1}else r=s-1}return null},wa=(e,t)=>{const n=e.clients.get(t.client);return n!==void 0&&Ju(n,t.clock)!==null},ds=e=>{e.clients.forEach(t=>{t.sort((s,i)=>s.clock-i.clock);let n,r;for(n=1,r=1;n<t.length;n++){const s=t[r-1],i=t[n];s.clock+s.len>=i.clock?s.len=He(s.len,i.clock+i.len-s.clock):(r<n&&(t[r]=i),r++)}t.length=r})},Gu=e=>{const t=new Kn;for(let n=0;n<e.length;n++)e[n].clients.forEach((r,s)=>{if(!t.clients.has(s)){const i=r.slice();for(let o=n+1;o<e.length;o++)Yc(i,e[o].clients.get(s)||[]);t.clients.set(s,i)}});return ds(t),t},vr=(e,t,n,r)=>{Nt(e.clients,t,()=>[]).push(new hs(n,r))},ba=()=>new Kn,Xu=e=>{const t=ba();return e.clients.forEach((n,r)=>{const s=[];for(let i=0;i<n.length;i++){const o=n[i];if(o.deleted){const l=o.id.clock;let c=o.length;if(i+1<n.length)for(let h=n[i+1];i+1<n.length&&h.deleted;h=n[++i+1])c+=h.length;s.push(new hs(l,c))}}s.length>0&&t.clients.set(r,s)}),t},pn=(e,t)=>{W(e.restEncoder,t.clients.size),t.clients.forEach((n,r)=>{e.resetDsCurVal(),W(e.restEncoder,r);const s=n.length;W(e.restEncoder,s);for(let i=0;i<s;i++){const o=n[i];e.writeDsClock(o.clock),e.writeDsLen(o.len)}})},gs=e=>{const t=new Kn,n=Y(e.restDecoder);for(let r=0;r<n;r++){e.resetDsCurVal();const s=Y(e.restDecoder),i=Y(e.restDecoder);if(i>0){const o=Nt(t.clients,s,()=>[]);for(let l=0;l<i;l++)o.push(new hs(e.readDsClock(),e.readDsLen()))}}return t},ro=(e,t,n)=>{const r=new Kn,s=Y(e.restDecoder);for(let i=0;i<s;i++){e.resetDsCurVal();const o=Y(e.restDecoder),l=Y(e.restDecoder),c=n.clients.get(o)||[],h=Et(n,o);for(let p=0;p<l;p++){const f=e.readDsClock(),u=f+e.readDsLen();if(f<h){h<u&&vr(r,o,h,u-h);let g=jt(c,f),y=c[g];for(!y.deleted&&y.id.clock<f&&(c.splice(g+1,0,Rr(t,y,f-y.id.clock)),g++);g<c.length&&(y=c[g++],y.id.clock<u);)y.deleted||(u<y.id.clock+y.length&&c.splice(g,0,Rr(t,y,u-y.id.clock)),y.delete(t))}else vr(r,o,f,u-f)}}if(r.clients.size>0){const i=new je;return W(i.restEncoder,0),pn(i,r),i.toUint8Array()}return null},_a=da;class Ke extends Hn{constructor({guid:t=ga(),collectionid:n=null,gc:r=!0,gcFilter:s=()=>!0,meta:i=null,autoLoad:o=!1,shouldLoad:l=!0}={}){super();this.gc=r,this.gcFilter=s,this.clientID=_a(),this.guid=t,this.collectionid=n,this.share=new Map,this.store=new Ia,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=l,this.autoLoad=o,this.meta=i,this.isLoaded=!1,this.whenLoaded=$r(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})})}load(){const t=this._item;t!==null&&!this.shouldLoad&&lt(t.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map(t=>t.guid))}transact(t,n=null){lt(this,t,n)}get(t,n=ht){const r=Nt(this.share,t,()=>{const i=new n;return i._integrate(this,null),i}),s=r.constructor;if(n!==ht&&s!==n)if(s===ht){const i=new n;i._map=r._map,r._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=i}),i._start=r._start;for(let o=i._start;o!==null;o=o.right)o.parent=i;return i._length=r._length,this.share.set(t,i),i._integrate(this,null),i}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return r}getArray(t=""){return this.get(t,Kt)}getText(t=""){return this.get(t,ge)}getMap(t=""){return this.get(t,Jt)}getXmlFragment(t=""){return this.get(t,Gt)}toJSON(){const t={};return this.share.forEach((n,r)=>{t[r]=n.toJSON()}),t}destroy(){na(this.subdocs).forEach(n=>n.destroy());const t=this._item;if(t!==null){this._item=null;const n=t.content;n.doc=new Ke(Qn(_n({guid:this.guid},n.opts),{shouldLoad:!1})),n.doc._item=t,lt(t.parent.doc,r=>{const s=n.doc;t.deleted||r.subdocsAdded.add(s),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(t,n){super.on(t,n)}off(t,n){super.off(t,n)}}class va{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return Y(this.restDecoder)}readDsLen(){return Y(this.restDecoder)}}class Ea extends va{readLeftID(){return Z(Y(this.restDecoder),Y(this.restDecoder))}readRightID(){return Z(Y(this.restDecoder),Y(this.restDecoder))}readClient(){return Y(this.restDecoder)}readInfo(){return Fe(this.restDecoder)}readString(){return he(this.restDecoder)}readParentInfo(){return Y(this.restDecoder)===1}readTypeRef(){return Y(this.restDecoder)}readLen(){return Y(this.restDecoder)}readAny(){return on(this.restDecoder)}readBuf(){return vu(kt(this.restDecoder))}readJSON(){return JSON.parse(he(this.restDecoder))}readKey(){return he(this.restDecoder)}}class Qu{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Y(this.restDecoder),this.dsCurrVal}readDsLen(){const t=Y(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class ln extends Qu{constructor(t){super(t);this.keys=[],Y(t),this.keyClockDecoder=new ui(kt(t)),this.clientDecoder=new fr(kt(t)),this.leftClockDecoder=new ui(kt(t)),this.rightClockDecoder=new ui(kt(t)),this.infoDecoder=new Js(kt(t),Fe),this.stringDecoder=new pu(kt(t)),this.parentInfoDecoder=new Js(kt(t),Fe),this.typeRefDecoder=new fr(kt(t)),this.lenDecoder=new fr(kt(t))}readLeftID(){return new nn(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new nn(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return on(this.restDecoder)}readBuf(){return kt(this.restDecoder)}readJSON(){return on(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class Ca{constructor(){this.restEncoder=vt()}toUint8Array(){return ut(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){W(this.restEncoder,t)}writeDsLen(t){W(this.restEncoder,t)}}class Yn extends Ca{writeLeftID(t){W(this.restEncoder,t.client),W(this.restEncoder,t.clock)}writeRightID(t){W(this.restEncoder,t.client),W(this.restEncoder,t.clock)}writeClient(t){W(this.restEncoder,t)}writeInfo(t){Un(this.restEncoder,t)}writeString(t){Wt(this.restEncoder,t)}writeParentInfo(t){W(this.restEncoder,t?1:0)}writeTypeRef(t){W(this.restEncoder,t)}writeLen(t){W(this.restEncoder,t)}writeAny(t){an(this.restEncoder,t)}writeBuf(t){dt(this.restEncoder,t)}writeJSON(t){Wt(this.restEncoder,JSON.stringify(t))}writeKey(t){Wt(this.restEncoder,t)}}class Sa{constructor(){this.restEncoder=vt(),this.dsCurrVal=0}toUint8Array(){return ut(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const n=t-this.dsCurrVal;this.dsCurrVal=t,W(this.restEncoder,n)}writeDsLen(t){t===0&&Yt(),W(this.restEncoder,t-1),this.dsCurrVal+=t}}class je extends Sa{constructor(){super();this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new fi,this.clientEncoder=new hr,this.leftClockEncoder=new fi,this.rightClockEncoder=new fi,this.infoEncoder=new Xs(Un),this.stringEncoder=new Du,this.parentInfoEncoder=new Xs(Un),this.typeRefEncoder=new hr,this.lenEncoder=new hr}toUint8Array(){const t=vt();return W(t,0),dt(t,this.keyClockEncoder.toUint8Array()),dt(t,this.clientEncoder.toUint8Array()),dt(t,this.leftClockEncoder.toUint8Array()),dt(t,this.rightClockEncoder.toUint8Array()),dt(t,ut(this.infoEncoder)),dt(t,this.stringEncoder.toUint8Array()),dt(t,ut(this.parentInfoEncoder)),dt(t,this.typeRefEncoder.toUint8Array()),dt(t,this.lenEncoder.toUint8Array()),jr(t,ut(this.restEncoder)),ut(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){an(this.restEncoder,t)}writeBuf(t){dt(this.restEncoder,t)}writeJSON(t){an(this.restEncoder,t)}writeKey(t){const n=this.keyMap.get(t);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(n)}}const Zu=(e,t,n,r)=>{r=He(r,t[0].id.clock);const s=jt(t,r);W(e.restEncoder,t.length-s),e.writeClient(n),W(e.restEncoder,r);const i=t[s];i.write(e,r-i.id.clock);for(let o=s+1;o<t.length;o++)t[o].write(e,0)},ps=(e,t,n)=>{const r=new Map;n.forEach((s,i)=>{Et(t,i)>s&&r.set(i,s)}),Hr(t).forEach((s,i)=>{n.has(i)||r.set(i,0)}),W(e.restEncoder,r.size),Array.from(r.entries()).sort((s,i)=>i[0]-s[0]).forEach(([s,i])=>{Zu(e,t.clients.get(s),s,i)})},tf=(e,t)=>{const n=Ht(),r=Y(e.restDecoder);for(let s=0;s<r;s++){const i=Y(e.restDecoder),o=new Array(i),l=e.readClient();let c=Y(e.restDecoder);n.set(l,{i:0,refs:o});for(let h=0;h<i;h++){const p=e.readInfo();switch(Pr&p){case 0:{const f=e.readLen();o[h]=new At(Z(l,c),f),c+=f;break}case 10:{const f=Y(e.restDecoder);o[h]=new Ot(Z(l,c),f),c+=f;break}default:{const f=(p&(fe|Dt))===0,u=new wt(Z(l,c),null,(p&Dt)===Dt?e.readLeftID():null,null,(p&fe)===fe?e.readRightID():null,f?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,f&&(p&Bn)===Bn?e.readString():null,Xa(e,p));o[h]=u,c+=u.length}}}}return n},ef=(e,t,n)=>{const r=[];let s=Array.from(n.keys()).sort((g,y)=>g-y);if(s.length===0)return null;const i=()=>{if(s.length===0)return null;let g=n.get(s[s.length-1]);for(;g.refs.length===g.i;)if(s.pop(),s.length>0)g=n.get(s[s.length-1]);else return null;return g};let o=i();if(o===null&&r.length===0)return null;const l=new Ia,c=new Map,h=(g,y)=>{const b=c.get(g);(b==null||b>y)&&c.set(g,y)};let p=o.refs[o.i++];const f=new Map,u=()=>{for(const g of r){const y=g.id.client,b=n.get(y);b?(b.i--,l.clients.set(y,b.refs.slice(b.i)),n.delete(y),b.i=0,b.refs=[]):l.clients.set(y,[g]),s=s.filter(S=>S!==y)}r.length=0};for(;;){if(p.constructor!==Ot){const y=Nt(f,p.id.client,()=>Et(t,p.id.client))-p.id.clock;if(y<0)r.push(p),h(p.id.client,p.id.clock-1),u();else{const b=p.getMissing(e,t);if(b!==null){r.push(p);const S=n.get(b)||{refs:[],i:0};if(S.refs.length===S.i)h(b,Et(t,b)),u();else{p=S.refs[S.i++];continue}}else(y===0||y<p.length)&&(p.integrate(e,y),f.set(p.id.client,p.id.clock+p.length))}}if(r.length>0)p=r.pop();else if(o!==null&&o.i<o.refs.length)p=o.refs[o.i++];else{if(o=i(),o===null)break;p=o.refs[o.i++]}}if(l.clients.size>0){const g=new je;return ps(g,l,new Map),W(g.restEncoder,0),{missing:c,update:g.toUint8Array()}}return null},nf=(e,t)=>ps(e,t.doc.store,t.beforeState),rf=(e,t,n,r=new ln(e))=>lt(t,s=>{s.local=!1;let i=!1;const o=s.doc,l=o.store,c=tf(r,o),h=ef(s,l,c),p=l.pendingStructs;if(p){for(const[u,g]of p.missing)if(g<Et(l,u)){i=!0;break}if(h){for(const[u,g]of h.missing){const y=p.missing.get(u);(y==null||y>g)&&p.missing.set(u,g)}p.update=Er([p.update,h.update])}}else l.pendingStructs=h;const f=ro(r,s,l);if(l.pendingDs){const u=new ln(ae(l.pendingDs));Y(u.restDecoder);const g=ro(u,s,l);f&&g?l.pendingDs=Er([f,g]):l.pendingDs=f||g}else l.pendingDs=f;if(i){const u=l.pendingStructs.update;l.pendingStructs=null,ka(s.doc,u)}},n,!1),ka=(e,t,n,r=ln)=>{const s=ae(t);rf(s,e,n,new r(s))},Ra=(e,t,n)=>ka(e,t,n,Ea),sf=(e,t,n=new Map)=>{ps(e,t.store,n),pn(e,Xu(t.store))},of=(e,t=new Uint8Array([0]),n=new je)=>{const r=Aa(t);sf(n,e,r);const s=[n.toUint8Array()];if(e.store.pendingDs&&s.push(e.store.pendingDs),e.store.pendingStructs&&s.push(Cf(e.store.pendingStructs.update,t)),s.length>1){if(n.constructor===Yn)return vf(s.map((i,o)=>o===0?i:kf(i)));if(n.constructor===je)return Er(s)}return s[0]},ys=(e,t)=>of(e,t,new Yn),af=e=>{const t=new Map,n=Y(e.restDecoder);for(let r=0;r<n;r++){const s=Y(e.restDecoder),i=Y(e.restDecoder);t.set(s,i)}return t},Aa=e=>af(new va(ae(e))),Ta=(e,t)=>(W(e.restEncoder,t.size),Array.from(t.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{W(e.restEncoder,n),W(e.restEncoder,r)}),e),lf=(e,t)=>Ta(e,Hr(t.store)),cf=(e,t=new Sa)=>(e instanceof Map?Ta(t,e):lf(t,e),t.toUint8Array()),uf=e=>cf(e,new Ca);class ff{constructor(){this.l=[]}}const io=()=>new ff,so=(e,t)=>e.l.push(t),oo=(e,t)=>{const n=e.l,r=n.length;e.l=n.filter(s=>t!==s),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Da=(e,t,n)=>as(e.l,[t,n]);class nn{constructor(t,n){this.client=t,this.clock=n}}const nr=(e,t)=>e===t||e!==null&&t!==null&&e.client===t.client&&e.clock===t.clock,Z=(e,t)=>new nn(e,t),hf=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw Yt()};class df{constructor(t,n){this.ds=t,this.sv=n}}const gf=(e,t)=>new df(e,t);gf(ba(),new Map);const En=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!wa(t.ds,e.id),dr=(e,t)=>{const n=Nt(e.meta,dr,xn),r=e.doc.store;n.has(t)||(t.sv.forEach((s,i)=>{s<Et(r,i)&&Ie(e,Z(i,s))}),Mi(e,t.ds,s=>{}),n.add(t))};class Ia{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Hr=e=>{const t=new Map;return e.clients.forEach((n,r)=>{const s=n[n.length-1];t.set(r,s.id.clock+s.length)}),t},Et=(e,t)=>{const n=e.clients.get(t);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},Oa=(e,t)=>{let n=e.clients.get(t.id.client);if(n===void 0)n=[],e.clients.set(t.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==t.id.clock)throw Yt()}n.push(t)},jt=(e,t)=>{let n=0,r=e.length-1,s=e[r],i=s.id.clock;if(i===t)return r;let o=sn(t/(i+s.length-1)*r);for(;n<=r;){if(s=e[o],i=s.id.clock,i<=t){if(t<i+s.length)return o;n=o+1}else r=o-1;o=sn((n+r)/2)}throw Yt()},pf=(e,t)=>{const n=e.clients.get(t.client);return n[jt(n,t.clock)]},gi=pf,Ni=(e,t,n)=>{const r=jt(t,n),s=t[r];return s.id.clock<n&&s instanceof wt?(t.splice(r+1,0,Rr(e,s,n-s.id.clock)),r+1):r},Ie=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[Ni(e,n,t.clock)]},ao=(e,t,n)=>{const r=t.clients.get(n.client),s=jt(r,n.clock),i=r[s];return n.clock!==i.id.clock+i.length-1&&i.constructor!==At&&r.splice(s+1,0,Rr(e,i,n.clock-i.id.clock+1)),i},yf=(e,t,n)=>{const r=e.clients.get(t.id.client);r[jt(r,t.id.clock)]=n},La=(e,t,n,r,s)=>{if(r===0)return;const i=n+r;let o=Ni(e,t,n),l;do l=t[o++],i<l.id.clock+l.length&&Ni(e,t,i),s(l);while(o<t.length&&t[o].id.clock<i)};class mf{constructor(t,n,r){this.doc=t,this.deleteSet=new Kn,this.beforeState=Hr(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const lo=(e,t)=>t.deleteSet.clients.size===0&&!Kc(t.afterState,(n,r)=>t.beforeState.get(r)!==n)?!1:(ds(t.deleteSet),nf(e,t),pn(e,t.deleteSet),!0),co=(e,t,n)=>{const r=t._item;(r===null||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&Nt(e.changed,t,xn).add(n)},gr=(e,t)=>{const n=e[t-1],r=e[t];n.deleted===r.deleted&&n.constructor===r.constructor&&n.mergeWith(r)&&(e.splice(t,1),r instanceof wt&&r.parentSub!==null&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,n))},wf=(e,t,n)=>{for(const[r,s]of e.clients.entries()){const i=t.clients.get(r);for(let o=s.length-1;o>=0;o--){const l=s[o],c=l.clock+l.len;for(let h=jt(i,l.clock),p=i[h];h<i.length&&p.id.clock<c;p=i[++h]){const f=i[h];if(l.clock+l.len<=f.id.clock)break;f instanceof wt&&f.deleted&&!f.keep&&n(f)&&f.gc(t,!1)}}}},bf=(e,t)=>{e.clients.forEach((n,r)=>{const s=t.clients.get(r);for(let i=n.length-1;i>=0;i--){const o=n[i],l=ts(s.length-1,1+jt(s,o.clock+o.len-1));for(let c=l,h=s[c];c>0&&h.id.clock>=o.clock;h=s[--c])gr(s,c)}})},Ma=(e,t)=>{if(t<e.length){const n=e[t],r=n.doc,s=r.store,i=n.deleteSet,o=n._mergeStructs;try{ds(i),n.afterState=Hr(n.doc.store),r._transaction=null,r.emit("beforeObserverCalls",[n,r]);const l=[];n.changed.forEach((c,h)=>l.push(()=>{(h._item===null||!h._item.deleted)&&h._callObserver(n,c)})),l.push(()=>{n.changedParentTypes.forEach((c,h)=>l.push(()=>{(h._item===null||!h._item.deleted)&&(c=c.filter(p=>p.target._item===null||!p.target._item.deleted),c.forEach(p=>{p.currentTarget=h}),c.sort((p,f)=>p.path.length-f.path.length),Da(h._dEH,c,n))})),l.push(()=>r.emit("afterTransaction",[n,r]))}),as(l,[])}finally{r.gc&&wf(i,s,r.gcFilter),bf(i,s),n.afterState.forEach((p,f)=>{const u=n.beforeState.get(f)||0;if(u!==p){const g=s.clients.get(f),y=He(jt(g,u),1);for(let b=g.length-1;b>=y;b--)gr(g,b)}});for(let p=0;p<o.length;p++){const{client:f,clock:u}=o[p].id,g=s.clients.get(f),y=jt(g,u);y+1<g.length&&gr(g,y+1),y>0&&gr(g,y)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(ya(zr,Tt,"[yjs] ",De,us,"Changed the client-id because another client seems to be using it."),r.clientID=_a()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const p=new Yn;lo(p,n)&&r.emit("update",[p.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const p=new je;lo(p,n)&&r.emit("updateV2",[p.toUint8Array(),n.origin,r,n])}const{subdocsAdded:l,subdocsLoaded:c,subdocsRemoved:h}=n;(l.size>0||h.size>0||c.size>0)&&(l.forEach(p=>{p.clientID=r.clientID,p.collectionid==null&&(p.collectionid=r.collectionid),r.subdocs.add(p)}),h.forEach(p=>r.subdocs.delete(p)),r.emit("subdocs",[{loaded:c,added:l,removed:h},r,n]),h.forEach(p=>p.destroy())),e.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,e])):Ma(e,t+1)}}},lt=(e,t,n=null,r=!0)=>{const s=e._transactionCleanups;let i=!1;e._transaction===null&&(i=!0,e._transaction=new mf(e,n,r),s.push(e._transaction),s.length===1&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{t(e._transaction)}finally{i&&s[0]===e._transaction&&Ma(s,0)}};function*_f(e){const t=Y(e.restDecoder);for(let n=0;n<t;n++){const r=Y(e.restDecoder),s=e.readClient();let i=Y(e.restDecoder);for(let o=0;o<r;o++){const l=e.readInfo();if(l===10){const c=Y(e.restDecoder);yield new Ot(Z(s,i),c),i+=c}else if((Pr&l)!==0){const c=(l&(fe|Dt))===0,h=new wt(Z(s,i),null,(l&Dt)===Dt?e.readLeftID():null,null,(l&fe)===fe?e.readRightID():null,c?e.readParentInfo()?e.readString():e.readLeftID():null,c&&(l&Bn)===Bn?e.readString():null,Xa(e,l));yield h,i+=h.length}else{const c=e.readLen();yield new At(Z(s,i),c),i+=c}}}}class ms{constructor(t,n){this.gen=_f(t),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Ot);return this.curr}}class ws{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const vf=e=>Er(e,Ea,Yn),Ef=(e,t)=>{if(e.constructor===At){const{client:n,clock:r}=e.id;return new At(Z(n,r+t),e.length-t)}else if(e.constructor===Ot){const{client:n,clock:r}=e.id;return new Ot(Z(n,r+t),e.length-t)}else{const n=e,{client:r,clock:s}=n.id;return new wt(Z(r,s+t),null,Z(r,s+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},Er=(e,t=ln,n=je)=>{if(e.length===1)return e[0];const r=e.map(p=>new t(ae(p)));let s=r.map(p=>new ms(p,!0)),i=null;const o=new n,l=new ws(o);for(;s=s.filter(u=>u.curr!==null),s.sort((u,g)=>{if(u.curr.id.client===g.curr.id.client){const y=u.curr.id.clock-g.curr.id.clock;return y===0?u.curr.constructor===g.curr.constructor?0:u.curr.constructor===Ot?1:-1:y}else return g.curr.id.client-u.curr.id.client}),s.length!==0;){const p=s[0],f=p.curr.id.client;if(i!==null){let u=p.curr,g=!1;for(;u!==null&&u.id.clock+u.length<=i.struct.id.clock+i.struct.length&&u.id.client>=i.struct.id.client;)u=p.next(),g=!0;if(u===null||u.id.client!==f||g&&u.id.clock>i.struct.id.clock+i.struct.length)continue;if(f!==i.struct.id.client)Re(l,i.struct,i.offset),i={struct:u,offset:0},p.next();else if(i.struct.id.clock+i.struct.length<u.id.clock)if(i.struct.constructor===Ot)i.struct.length=u.id.clock+u.length-i.struct.id.clock;else{Re(l,i.struct,i.offset);const y=u.id.clock-i.struct.id.clock-i.struct.length;i={struct:new Ot(Z(f,i.struct.id.clock+i.struct.length),y),offset:0}}else{const y=i.struct.id.clock+i.struct.length-u.id.clock;y>0&&(i.struct.constructor===Ot?i.struct.length-=y:u=Ef(u,y)),i.struct.mergeWith(u)||(Re(l,i.struct,i.offset),i={struct:u,offset:0},p.next())}}else i={struct:p.curr,offset:0},p.next();for(let u=p.curr;u!==null&&u.id.client===f&&u.id.clock===i.struct.id.clock+i.struct.length&&u.constructor!==Ot;u=p.next())Re(l,i.struct,i.offset),i={struct:u,offset:0}}i!==null&&(Re(l,i.struct,i.offset),i=null),bs(l);const c=r.map(p=>gs(p)),h=Gu(c);return pn(o,h),o.toUint8Array()},Cf=(e,t,n=ln,r=je)=>{const s=Aa(t),i=new r,o=new ws(i),l=new n(ae(e)),c=new ms(l,!1);for(;c.curr;){const p=c.curr,f=p.id.client,u=s.get(f)||0;if(c.curr.constructor===Ot){c.next();continue}if(p.id.clock+p.length>u)for(Re(o,p,He(u-p.id.clock,0)),c.next();c.curr&&c.curr.id.client===f;)Re(o,c.curr,0),c.next();else for(;c.curr&&c.curr.id.client===f&&c.curr.id.clock+c.curr.length<=u;)c.next()}bs(o);const h=gs(l);return pn(i,h),i.toUint8Array()},Na=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:ut(e.encoder.restEncoder)}),e.encoder.restEncoder=vt(),e.written=0)},Re=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&Na(e),e.written===0&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),W(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},bs=e=>{Na(e);const t=e.encoder.restEncoder;W(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const r=e.clientStructs[n];W(t,r.written),jr(t,r.restEncoder)}},Sf=(e,t,n)=>{const r=new t(ae(e)),s=new ms(r,!1),i=new n,o=new ws(i);for(let c=s.curr;c!==null;c=s.next())Re(o,c,0);bs(o);const l=gs(r);return pn(i,l),i.toUint8Array()},kf=e=>Sf(e,ln,Yn);class Wr{constructor(t,n){this.target=t,this.currentTarget=t,this.transaction=n,this._changes=null,this._keys=null,this._delta=null}get path(){return Rf(this.currentTarget,this.target)}deletes(t){return wa(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){const t=new Map,n=this.target;this.transaction.changed.get(n).forEach(s=>{if(s!==null){const i=n._map.get(s);let o,l;if(this.adds(i)){let c=i.left;for(;c!==null&&this.adds(c);)c=c.left;if(this.deletes(i))if(c!==null&&this.deletes(c))o="delete",l=si(c.content.getContent());else return;else c!==null&&this.deletes(c)?(o="update",l=si(c.content.getContent())):(o="add",l=void 0)}else if(this.deletes(i))o="delete",l=si(i.content.getContent());else return;t.set(s,{action:o,oldValue:l})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){const n=this.target,r=xn(),s=xn(),i=[];if(t={added:r,deleted:s,delta:i,keys:this.keys},this.transaction.changed.get(n).has(null)){let l=null;const c=()=>{l&&i.push(l)};for(let h=n._start;h!==null;h=h.right)h.deleted?this.deletes(h)&&!this.adds(h)&&((l===null||l.delete===void 0)&&(c(),l={delete:0}),l.delete+=h.length,s.add(h)):this.adds(h)?((l===null||l.insert===void 0)&&(c(),l={insert:[]}),l.insert=l.insert.concat(h.content.getContent()),r.add(h)):((l===null||l.retain===void 0)&&(c(),l={retain:0}),l.retain+=h.length);l!==null&&l.retain===void 0&&c()}this._changes=t}return t}}const Rf=(e,t)=>{const n=[];for(;t._item!==null&&t!==e;){if(t._item.parentSub!==null)n.unshift(t._item.parentSub);else{let r=0,s=t._item.parent._start;for(;s!==t._item&&s!==null;)s.deleted||r++,s=s.right;n.unshift(r)}t=t._item.parent}return n},xa=80;let _s=0;class Af{constructor(t,n){t.marker=!0,this.p=t,this.index=n,this.timestamp=_s++}}const Tf=e=>{e.timestamp=_s++},Ba=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=_s++},Df=(e,t,n)=>{if(e.length>=xa){const r=e.reduce((s,i)=>s.timestamp<i.timestamp?s:i);return Ba(r,t,n),r}else{const r=new Af(t,n);return e.push(r),r}},qr=(e,t)=>{if(e._start===null||t===0||e._searchMarker===null)return null;const n=e._searchMarker.length===0?null:e._searchMarker.reduce((i,o)=>oi(t-i.index)<oi(t-o.index)?i:o);let r=e._start,s=0;for(n!==null&&(r=n.p,s=n.index,Tf(n));r.right!==null&&s<t;){if(!r.deleted&&r.countable){if(t<s+r.length)break;s+=r.length}r=r.right}for(;r.left!==null&&s>t;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);return n!==null&&oi(n.index-s)<r.parent.length/xa?(Ba(n,r,s),n):Df(e._searchMarker,r,s)},Pn=(e,t,n)=>{for(let r=e.length-1;r>=0;r--){const s=e[r];if(n>0){let i=s.p;for(i.marker=!1;i&&(i.deleted||!i.countable);)i=i.left,i&&!i.deleted&&i.countable&&(s.index-=i.length);if(i===null||i.marker===!0){e.splice(r,1);continue}s.p=i,i.marker=!0}(t<s.index||n>0&&t===s.index)&&(s.index=He(t,s.index+n))}},Kr=(e,t,n)=>{const r=e,s=t.changedParentTypes;for(;Nt(s,e,()=>[]).push(n),e._item!==null;)e=e._item.parent;Da(r._eH,n,t)};class ht{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=io(),this._dEH=io(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,n){this.doc=t,this._item=n}_copy(){throw qt()}clone(){throw qt()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,n){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){so(this._eH,t)}observeDeep(t){so(this._dEH,t)}unobserve(t){oo(this._eH,t)}unobserveDeep(t){oo(this._dEH,t)}toJSON(){}}const Ua=(e,t,n)=>{t<0&&(t=e._length+t),n<0&&(n=e._length+n);let r=n-t;const s=[];let i=e._start;for(;i!==null&&r>0;){if(i.countable&&!i.deleted){const o=i.content.getContent();if(o.length<=t)t-=o.length;else{for(let l=t;l<o.length&&r>0;l++)s.push(o[l]),r--;t=0}}i=i.right}return s},Pa=e=>{const t=[];let n=e._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let s=0;s<r.length;s++)t.push(r[s])}n=n.right}return t},Yr=(e,t)=>{let n=0,r=e._start;for(;r!==null;){if(r.countable&&!r.deleted){const s=r.content.getContent();for(let i=0;i<s.length;i++)t(s[i],n++,e)}r=r.right}},Fa=(e,t)=>{const n=[];return Yr(e,(r,s)=>{n.push(t(r,s,e))}),n},If=e=>{let t=e._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};n=t.content.getContent(),r=0,t=t.right}const s=n[r++];return n.length<=r&&(n=null),{done:!1,value:s}}}},ja=(e,t)=>{const n=qr(e,t);let r=e._start;for(n!==null&&(r=n.p,t-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},Cr=(e,t,n,r)=>{let s=n;const i=e.doc,o=i.clientID,l=i.store,c=n===null?t._start:n.right;let h=[];const p=()=>{h.length>0&&(s=new wt(Z(o,Et(l,o)),s,s&&s.lastId,c,c&&c.id,t,null,new Ve(h)),s.integrate(e,0),h=[])};r.forEach(f=>{if(f===null)h.push(f);else switch(f.constructor){case Number:case Object:case Boolean:case Array:case String:h.push(f);break;default:switch(p(),f.constructor){case Uint8Array:case ArrayBuffer:s=new wt(Z(o,Et(l,o)),s,s&&s.lastId,c,c&&c.id,t,null,new Jn(new Uint8Array(f))),s.integrate(e,0);break;case Ke:s=new wt(Z(o,Et(l,o)),s,s&&s.lastId,c,c&&c.id,t,null,new Gn(f)),s.integrate(e,0);break;default:if(f instanceof ht)s=new wt(Z(o,Et(l,o)),s,s&&s.lastId,c,c&&c.id,t,null,new _e(f)),s.integrate(e,0);else throw new Error("Unexpected content type in insert operation")}}}),p()},$a=We("Length exceeded!"),Va=(e,t,n,r)=>{if(n>t._length)throw $a;if(n===0)return t._searchMarker&&Pn(t._searchMarker,n,r.length),Cr(e,t,null,r);const s=n,i=qr(t,n);let o=t._start;for(i!==null&&(o=i.p,n-=i.index,n===0&&(o=o.prev,n+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(n<=o.length){n<o.length&&Ie(e,Z(o.id.client,o.id.clock+n));break}n-=o.length}return t._searchMarker&&Pn(t._searchMarker,s,r.length),Cr(e,t,o,r)},Of=(e,t,n)=>{let s=(t._searchMarker||[]).reduce((i,o)=>o.index>i.index?o:i,{index:0,p:t._start}).p;if(s)for(;s.right;)s=s.right;return Cr(e,t,s,n)},za=(e,t,n,r)=>{if(r===0)return;const s=n,i=r,o=qr(t,n);let l=t._start;for(o!==null&&(l=o.p,n-=o.index);l!==null&&n>0;l=l.right)!l.deleted&&l.countable&&(n<l.length&&Ie(e,Z(l.id.client,l.id.clock+n)),n-=l.length);for(;r>0&&l!==null;)l.deleted||(r<l.length&&Ie(e,Z(l.id.client,l.id.clock+r)),l.delete(e),r-=l.length),l=l.right;if(r>0)throw $a;t._searchMarker&&Pn(t._searchMarker,s,-i+r)},Sr=(e,t,n)=>{const r=t._map.get(n);r!==void 0&&r.delete(e)},vs=(e,t,n,r)=>{const s=t._map.get(n)||null,i=e.doc,o=i.clientID;let l;if(r==null)l=new Ve([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:l=new Ve([r]);break;case Uint8Array:l=new Jn(r);break;case Ke:l=new Gn(r);break;default:if(r instanceof ht)l=new _e(r);else throw new Error("Unexpected content type")}new wt(Z(o,Et(i.store,o)),s,s&&s.lastId,null,null,t,n,l).integrate(e,0)},Es=(e,t)=>{const n=e._map.get(t);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},Ha=e=>{const t={};return e._map.forEach((n,r)=>{n.deleted||(t[r]=n.content.getContent()[n.length-1])}),t},Wa=(e,t)=>{const n=e._map.get(t);return n!==void 0&&!n.deleted},rr=e=>Yu(e.entries(),t=>!t[1].deleted);class Lf extends Wr{constructor(t,n){super(t,n);this._transaction=n}}class Kt extends ht{constructor(){super();this._prelimContent=[],this._searchMarker=[]}static from(t){const n=new Kt;return n.push(t),n}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Kt}clone(){const t=new Kt;return t.insert(0,this.toArray().map(n=>n instanceof ht?n.clone():n)),t}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(t,n){super._callObserver(t,n),Kr(this,t,new Lf(this,t))}insert(t,n){this.doc!==null?lt(this.doc,r=>{Va(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}push(t){this.doc!==null?lt(this.doc,n=>{Of(n,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,n=1){this.doc!==null?lt(this.doc,r=>{za(r,this,t,n)}):this._prelimContent.splice(t,n)}get(t){return ja(this,t)}toArray(){return Pa(this)}slice(t=0,n=this.length){return Ua(this,t,n)}toJSON(){return this.map(t=>t instanceof ht?t.toJSON():t)}map(t){return Fa(this,t)}forEach(t){Yr(this,t)}[Symbol.iterator](){return If(this)}_write(t){t.writeTypeRef(eh)}}const Mf=e=>new Kt;class Nf extends Wr{constructor(t,n,r){super(t,n);this.keysChanged=r}}class Jt extends ht{constructor(t){super();this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,n){super._integrate(t,n),this._prelimContent.forEach((r,s)=>{this.set(s,r)}),this._prelimContent=null}_copy(){return new Jt}clone(){const t=new Jt;return this.forEach((n,r)=>{t.set(r,n instanceof ht?n.clone():n)}),t}_callObserver(t,n){Kr(this,t,new Nf(this,t,n))}toJSON(){const t={};return this._map.forEach((n,r)=>{if(!n.deleted){const s=n.content.getContent()[n.length-1];t[r]=s instanceof ht?s.toJSON():s}}),t}get size(){return[...rr(this._map)].length}keys(){return di(rr(this._map),t=>t[0])}values(){return di(rr(this._map),t=>t[1].content.getContent()[t[1].length-1])}entries(){return di(rr(this._map),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){const n={};return this._map.forEach((r,s)=>{r.deleted||t(r.content.getContent()[r.length-1],s,this)}),n}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?lt(this.doc,n=>{Sr(n,this,t)}):this._prelimContent.delete(t)}set(t,n){return this.doc!==null?lt(this.doc,r=>{vs(r,this,t,n)}):this._prelimContent.set(t,n),n}get(t){return Es(this,t)}has(t){return Wa(this,t)}clear(){this.doc!==null?lt(this.doc,t=>{this.forEach(function(n,r,s){Sr(t,s,r)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(nh)}}const xf=e=>new Jt,Ae=(e,t)=>e===t||typeof e=="object"&&typeof t=="object"&&e&&t&&Bu(e,t);class xi{constructor(t,n,r,s){this.left=t,this.right=n,this.index=r,this.currentAttributes=s}forward(){switch(this.right===null&&Yt(),this.right.content.constructor){case _t:this.right.deleted||yn(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const uo=(e,t,n)=>{for(;t.right!==null&&n>0;){switch(t.right.content.constructor){case _t:t.right.deleted||yn(t.currentAttributes,t.right.content);break;default:t.right.deleted||(n<t.right.length&&Ie(e,Z(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},ir=(e,t,n)=>{const r=new Map,s=qr(t,n);if(s){const i=new xi(s.p.left,s.p,s.index,r);return uo(e,i,n-s.index)}else{const i=new xi(null,t._start,0,r);return uo(e,i,n)}},qa=(e,t,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===_t&&Ae(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const s=e.doc,i=s.clientID;r.forEach((o,l)=>{const c=n.left,h=n.right,p=new wt(Z(i,Et(s.store,i)),c,c&&c.lastId,h,h&&h.id,t,null,new _t(l,o));p.integrate(e,0),n.right=p,n.forward()})},yn=(e,t)=>{const{key:n,value:r}=t;r===null?e.delete(n):e.set(n,r)},Ka=(e,t)=>{for(;e.right!==null;){if(!(e.right.deleted||e.right.content.constructor===_t&&Ae(t[e.right.content.key]||null,e.right.content.value)))break;e.forward()}},Ya=(e,t,n,r)=>{const s=e.doc,i=s.clientID,o=new Map;for(const l in r){const c=r[l],h=n.currentAttributes.get(l)||null;if(!Ae(h,c)){o.set(l,h);const{left:p,right:f}=n;n.right=new wt(Z(i,Et(s.store,i)),p,p&&p.lastId,f,f&&f.id,t,null,new _t(l,c)),n.right.integrate(e,0),n.forward()}}return o},pi=(e,t,n,r,s)=>{n.currentAttributes.forEach((u,g)=>{s[g]===void 0&&(s[g]=null)});const i=e.doc,o=i.clientID;Ka(n,s);const l=Ya(e,t,n,s),c=r.constructor===String?new Xt(r):r instanceof ht?new _e(r):new Ye(r);let{left:h,right:p,index:f}=n;t._searchMarker&&Pn(t._searchMarker,n.index,c.getLength()),p=new wt(Z(o,Et(i.store,o)),h,h&&h.lastId,p,p&&p.id,t,null,c),p.integrate(e,0),n.right=p,n.index=f,n.forward(),qa(e,t,n,l)},fo=(e,t,n,r,s)=>{const i=e.doc,o=i.clientID;Ka(n,s);const l=Ya(e,t,n,s);for(;n.right!==null&&(r>0||n.right.content.constructor===_t);){if(!n.right.deleted)switch(n.right.content.constructor){case _t:{const{key:c,value:h}=n.right.content,p=s[c];p!==void 0&&(Ae(p,h)?l.delete(c):l.set(c,h),n.right.delete(e));break}default:r<n.right.length&&Ie(e,Z(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let c="";for(;r>0;r--)c+=`
`;n.right=new wt(Z(o,Et(i.store,o)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new Xt(c)),n.right.integrate(e,0),n.forward()}qa(e,t,n,l)},Ja=(e,t,n,r,s)=>{let i=n;const o=br(s);for(;i&&(!i.countable||i.deleted);)!i.deleted&&i.content.constructor===_t&&yn(o,i.content),i=i.right;let l=0,c=!1;for(;t!==i;){if(n===t&&(c=!0),!t.deleted){const h=t.content;switch(h.constructor){case _t:{const{key:p,value:f}=h;((o.get(p)||null)!==f||(r.get(p)||null)===f)&&(t.delete(e),l++,!c&&(s.get(p)||null)===f&&(r.get(p)||null)!==f&&s.delete(p));break}}}t=t.right}return l},Bf=(e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===_t){const r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}},Uf=e=>{let t=0;return lt(e.doc,n=>{let r=e._start,s=e._start,i=Ht();const o=br(i);for(;s;){if(s.deleted===!1)switch(s.content.constructor){case _t:yn(o,s.content);break;default:t+=Ja(n,r,s,i,o),i=br(o),r=s;break}s=s.right}}),t},ho=(e,t,n)=>{const r=n,s=br(t.currentAttributes),i=t.right;for(;n>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case _e:case Ye:case Xt:n<t.right.length&&Ie(e,Z(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e);break}t.forward()}i&&Ja(e,i,t.right,s,t.currentAttributes);const o=(t.left||t.right).parent;return o._searchMarker&&Pn(o._searchMarker,t.index,-r+n),t};class Pf extends Wr{constructor(t,n,r){super(t,n);this.childListChanged=!1,this.keysChanged=new Set,r.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){const t=this.target.doc,n=[];lt(t,r=>{const s=new Map,i=new Map;let o=this.target._start,l=null;const c={};let h="",p=0,f=0;const u=()=>{if(l!==null){let g;switch(l){case"delete":g={delete:f},f=0;break;case"insert":g={insert:h},s.size>0&&(g.attributes={},s.forEach((y,b)=>{y!==null&&(g.attributes[b]=y)})),h="";break;case"retain":if(g={retain:p},Object.keys(c).length>0){g.attributes={};for(const y in c)g.attributes[y]=c[y]}p=0;break}n.push(g),l=null}};for(;o!==null;){switch(o.content.constructor){case _e:case Ye:this.adds(o)?this.deletes(o)||(u(),l="insert",h=o.content.getContent()[0],u()):this.deletes(o)?(l!=="delete"&&(u(),l="delete"),f+=1):o.deleted||(l!=="retain"&&(u(),l="retain"),p+=1);break;case Xt:this.adds(o)?this.deletes(o)||(l!=="insert"&&(u(),l="insert"),h+=o.content.str):this.deletes(o)?(l!=="delete"&&(u(),l="delete"),f+=o.length):o.deleted||(l!=="retain"&&(u(),l="retain"),p+=o.length);break;case _t:{const{key:g,value:y}=o.content;if(this.adds(o)){if(!this.deletes(o)){const b=s.get(g)||null;Ae(b,y)?y!==null&&o.delete(r):(l==="retain"&&u(),Ae(y,i.get(g)||null)?delete c[g]:c[g]=y)}}else if(this.deletes(o)){i.set(g,y);const b=s.get(g)||null;Ae(b,y)||(l==="retain"&&u(),c[g]=b)}else if(!o.deleted){i.set(g,y);const b=c[g];b!==void 0&&(Ae(b,y)?b!==null&&o.delete(r):(l==="retain"&&u(),y===null?delete c[g]:c[g]=y))}o.deleted||(l==="insert"&&u(),yn(s,o.content));break}}o=o.right}for(u();n.length>0;){const g=n[n.length-1];if(g.retain!==void 0&&g.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class ge extends ht{constructor(t){super();this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(t,n){super._integrate(t,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new ge}clone(){const t=new ge;return t.applyDelta(this.toDelta()),t}_callObserver(t,n){super._callObserver(t,n);const r=new Pf(this,t,n),s=t.doc;if(Kr(this,t,r),!t.local){let i=!1;for(const[o,l]of t.afterState.entries()){const c=t.beforeState.get(o)||0;if(l!==c&&(La(t,s.store.clients.get(o),c,l,h=>{!h.deleted&&h.content.constructor===_t&&(i=!0)}),i))break}i||Mi(t,t.deleteSet,o=>{o instanceof At||i||o.parent===this&&o.content.constructor===_t&&(i=!0)}),lt(s,o=>{i?Uf(this):Mi(o,o.deleteSet,l=>{l instanceof At||l.parent===this&&Bf(o,l)})})}}toString(){let t="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===Xt&&(t+=n.content.str),n=n.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:n=!0}={}){this.doc!==null?lt(this.doc,r=>{const s=new xi(null,this._start,0,new Map);for(let i=0;i<t.length;i++){const o=t[i];if(o.insert!==void 0){const l=!n&&typeof o.insert=="string"&&i===t.length-1&&s.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof l!="string"||l.length>0)&&pi(r,this,s,l,o.attributes||{})}else o.retain!==void 0?fo(r,this,s,o.retain,o.attributes||{}):o.delete!==void 0&&ho(r,s,o.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,n,r){const s=[],i=new Map,o=this.doc;let l="",c=this._start;function h(){if(l.length>0){const p={};let f=!1;i.forEach((g,y)=>{f=!0,p[y]=g});const u={insert:l};f&&(u.attributes=p),s.push(u),l=""}}return lt(o,p=>{for(t&&dr(p,t),n&&dr(p,n);c!==null;){if(En(c,t)||n!==void 0&&En(c,n))switch(c.content.constructor){case Xt:{const f=i.get("ychange");t!==void 0&&!En(c,t)?(f===void 0||f.user!==c.id.client||f.state!=="removed")&&(h(),i.set("ychange",r?r("removed",c.id):{type:"removed"})):n!==void 0&&!En(c,n)?(f===void 0||f.user!==c.id.client||f.state!=="added")&&(h(),i.set("ychange",r?r("added",c.id):{type:"added"})):f!==void 0&&(h(),i.delete("ychange")),l+=c.content.str;break}case _e:case Ye:{h();const f={insert:c.content.getContent()[0]};if(i.size>0){const u={};f.attributes=u,i.forEach((g,y)=>{u[y]=g})}s.push(f);break}case _t:En(c,t)&&(h(),yn(i,c.content));break}c=c.right}h()},dr),s}insert(t,n,r){if(n.length<=0)return;const s=this.doc;s!==null?lt(s,i=>{const o=ir(i,this,t);r||(r={},o.currentAttributes.forEach((l,c)=>{r[c]=l})),pi(i,this,o,n,r)}):this._pending.push(()=>this.insert(t,n,r))}insertEmbed(t,n,r={}){const s=this.doc;s!==null?lt(s,i=>{const o=ir(i,this,t);pi(i,this,o,n,r)}):this._pending.push(()=>this.insertEmbed(t,n,r))}delete(t,n){if(n===0)return;const r=this.doc;r!==null?lt(r,s=>{ho(s,ir(s,this,t),n)}):this._pending.push(()=>this.delete(t,n))}format(t,n,r){if(n===0)return;const s=this.doc;s!==null?lt(s,i=>{const o=ir(i,this,t);o.right!==null&&fo(i,this,o,n,r)}):this._pending.push(()=>this.format(t,n,r))}removeAttribute(t){this.doc!==null?lt(this.doc,n=>{Sr(n,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,n){this.doc!==null?lt(this.doc,r=>{vs(r,this,t,n)}):this._pending.push(()=>this.setAttribute(t,n))}getAttribute(t){return Es(this,t)}getAttributes(t){return Ha(this)}_write(t){t.writeTypeRef(rh)}}const Ff=e=>new ge;class yi{constructor(t,n=()=>!0){this._filter=n,this._root=t,this._currentNode=t._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let t=this._currentNode,n=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(n)))do if(n=t.content.type,!t.deleted&&(n.constructor===Oe||n.constructor===Gt)&&n._start!==null)t=n._start;else for(;t!==null;)if(t.right!==null){t=t.right;break}else t.parent===this._root?t=null:t=t.parent._item;while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class Gt extends ht{constructor(){super();this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Gt}clone(){const t=new Gt;return t.insert(0,this.toArray().map(n=>n instanceof ht?n.clone():n)),t}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new yi(this,t)}querySelector(t){t=t.toUpperCase();const r=new yi(this,s=>s.nodeName&&s.nodeName.toUpperCase()===t).next();return r.done?null:r.value}querySelectorAll(t){return t=t.toUpperCase(),Array.from(new yi(this,n=>n.nodeName&&n.nodeName.toUpperCase()===t))}_callObserver(t,n){Kr(this,t,new Vf(this,n,t))}toString(){return Fa(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,n={},r){const s=t.createDocumentFragment();return r!==void 0&&r._createAssociation(s,this),Yr(this,i=>{s.insertBefore(i.toDOM(t,n,r),null)}),s}insert(t,n){this.doc!==null?lt(this.doc,r=>{Va(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}insertAfter(t,n){if(this.doc!==null)lt(this.doc,r=>{const s=t&&t instanceof ht?t._item:t;Cr(r,this,s,n)});else{const r=this._prelimContent,s=t===null?0:r.findIndex(i=>i===t)+1;if(s===0&&t!==null)throw We("Reference item not found");r.splice(s,0,...n)}}delete(t,n=1){this.doc!==null?lt(this.doc,r=>{za(r,this,t,n)}):this._prelimContent.splice(t,n)}toArray(){return Pa(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return ja(this,t)}slice(t=0,n=this.length){return Ua(this,t,n)}_write(t){t.writeTypeRef(sh)}}const jf=e=>new Gt;class Oe extends Gt{constructor(t="UNDEFINED"){super();this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,n){super._integrate(t,n),this._prelimAttrs.forEach((r,s)=>{this.setAttribute(s,r)}),this._prelimAttrs=null}_copy(){return new Oe(this.nodeName)}clone(){const t=new Oe(this.nodeName),n=this.getAttributes();for(const r in n)t.setAttribute(r,n[r]);return t.insert(0,this.toArray().map(r=>r instanceof ht?r.clone():r)),t}toString(){const t=this.getAttributes(),n=[],r=[];for(const l in t)r.push(l);r.sort();const s=r.length;for(let l=0;l<s;l++){const c=r[l];n.push(c+'="'+t[c]+'"')}const i=this.nodeName.toLocaleLowerCase(),o=n.length>0?" "+n.join(" "):"";return`<${i}${o}>${super.toString()}</${i}>`}removeAttribute(t){this.doc!==null?lt(this.doc,n=>{Sr(n,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,n){this.doc!==null?lt(this.doc,r=>{vs(r,this,t,n)}):this._prelimAttrs.set(t,n)}getAttribute(t){return Es(this,t)}hasAttribute(t){return Wa(this,t)}getAttributes(t){return Ha(this)}toDOM(t=document,n={},r){const s=t.createElement(this.nodeName),i=this.getAttributes();for(const o in i)s.setAttribute(o,i[o]);return Yr(this,o=>{s.appendChild(o.toDOM(t,n,r))}),r!==void 0&&r._createAssociation(s,this),s}_write(t){t.writeTypeRef(ih),t.writeKey(this.nodeName)}}const $f=e=>new Oe(e.readKey());class Vf extends Wr{constructor(t,n,r){super(t,r);this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}}class cn extends Jt{constructor(t){super();this.hookName=t}_copy(){return new cn(this.hookName)}clone(){const t=new cn(this.hookName);return this.forEach((n,r)=>{t.set(r,n)}),t}toDOM(t=document,n={},r){const s=n[this.hookName];let i;return s!==void 0?i=s.createDom(this):i=document.createElement(this.hookName),i.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(i,this),i}_write(t){t.writeTypeRef(oh),t.writeKey(this.hookName)}}const zf=e=>new cn(e.readKey());class $e extends ge{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new $e}clone(){const t=new $e;return t.applyDelta(this.toDelta()),t}toDOM(t=document,n,r){const s=t.createTextNode(this.toString());return r!==void 0&&r._createAssociation(s,this),s}toString(){return this.toDelta().map(t=>{const n=[];for(const s in t.attributes){const i=[];for(const o in t.attributes[s])i.push({key:o,value:t.attributes[s][o]});i.sort((o,l)=>o.key<l.key?-1:1),n.push({nodeName:s,attrs:i})}n.sort((s,i)=>s.nodeName<i.nodeName?-1:1);let r="";for(let s=0;s<n.length;s++){const i=n[s];r+=`<${i.nodeName}`;for(let o=0;o<i.attrs.length;o++){const l=i.attrs[o];r+=` ${l.key}="${l.value}"`}r+=">"}r+=t.insert;for(let s=n.length-1;s>=0;s--)r+=`</${n[s].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(ah)}}const Hf=e=>new $e;class Cs{constructor(t,n){this.id=t,this.length=n}get deleted(){throw qt()}mergeWith(t){return!1}write(t,n,r){throw qt()}integrate(t,n){throw qt()}}const Wf=0;class At extends Cs{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){n>0&&(this.id.clock+=n,this.length-=n),Oa(t.doc.store,this)}write(t,n){t.writeInfo(Wf),t.writeLen(this.length-n)}getMissing(t,n){return null}}class Jn{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Jn(this.content)}splice(t){throw qt()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeBuf(this.content)}getRef(){return 3}}const qf=e=>new Jn(e.readBuf());class Fn{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Fn(this.len)}splice(t){const n=new Fn(this.len-t);return this.len=t,n}mergeWith(t){return this.len+=t.len,!0}integrate(t,n){vr(t.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(t){}gc(t){}write(t,n){t.writeLen(this.len-n)}getRef(){return 1}}const Kf=e=>new Fn(e.readLen()),Ga=(e,t)=>new Ke(Qn(_n({guid:e},t),{shouldLoad:t.shouldLoad||t.autoLoad||!1}));class Gn{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const n={};this.opts=n,t.gc||(n.gc=!1),t.autoLoad&&(n.autoLoad=!0),t.meta!==null&&(n.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Gn(Ga(this.doc.guid,this.opts))}splice(t){throw qt()}mergeWith(t){return!1}integrate(t,n){this.doc._item=n,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,n){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}const Yf=e=>new Gn(Ga(e.readString(),e.readAny()));class Ye{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Ye(this.embed)}splice(t){throw qt()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeJSON(this.embed)}getRef(){return 5}}const Jf=e=>new Ye(e.readJSON());class _t{constructor(t,n){this.key=t,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new _t(this.key,this.value)}splice(t){throw qt()}mergeWith(t){return!1}integrate(t,n){n.parent._searchMarker=null}delete(t){}gc(t){}write(t,n){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}const Gf=e=>new _t(e.readKey(),e.readJSON());class kr{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new kr(this.arr)}splice(t){const n=new kr(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let s=n;s<r;s++){const i=this.arr[s];t.writeString(i===void 0?"undefined":JSON.stringify(i))}}getRef(){return 2}}const Xf=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++){const s=e.readString();s==="undefined"?n.push(void 0):n.push(JSON.parse(s))}return new kr(n)};class Ve{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Ve(this.arr)}splice(t){const n=new Ve(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let s=n;s<r;s++){const i=this.arr[s];t.writeAny(i)}}getRef(){return 8}}const Qf=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++)n.push(e.readAny());return new Ve(n)};class Xt{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Xt(this.str)}splice(t){const n=new Xt(this.str.slice(t));this.str=this.str.slice(0,t);const r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"\uFFFD",n.str="\uFFFD"+n.str.slice(1)),n}mergeWith(t){return this.str+=t.str,!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const Zf=e=>new Xt(e.readString()),th=[Mf,xf,Ff,$f,jf,zf,Hf],eh=0,nh=1,rh=2,ih=3,sh=4,oh=5,ah=6;class _e{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new _e(this.type._copy())}splice(t){throw qt()}mergeWith(t){return!1}integrate(t,n){this.type._integrate(t.doc,n)}delete(t){let n=this.type._start;for(;n!==null;)n.deleted?t._mergeStructs.push(n):n.delete(t),n=n.right;this.type._map.forEach(r=>{r.deleted?t._mergeStructs.push(r):r.delete(t)}),t.changed.delete(this.type)}gc(t){let n=this.type._start;for(;n!==null;)n.gc(t,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(t,!0),r=r.left}),this.type._map=new Map}write(t,n){this.type._write(t)}getRef(){return 7}}const lh=e=>new _e(th[e.readTypeRef()](e)),Rr=(e,t,n)=>{const{client:r,clock:s}=t.id,i=new wt(Z(r,s+n),t,Z(r,s+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&i.markDeleted(),t.keep&&(i.keep=!0),t.redone!==null&&(i.redone=Z(t.redone.client,t.redone.clock+n)),t.right=i,i.right!==null&&(i.right.left=i),e._mergeStructs.push(i),i.parentSub!==null&&i.right===null&&i.parent._map.set(i.parentSub,i),t.length=n,i};class wt extends Cs{constructor(t,n,r,s,i,o,l,c){super(t,c.getLength());this.origin=r,this.left=n,this.right=s,this.rightOrigin=i,this.parent=o,this.parentSub=l,this.redone=null,this.content=c,this.info=this.content.isCountable()?Ys:0}set marker(t){(this.info&ci)>0!==t&&(this.info^=ci)}get marker(){return(this.info&ci)>0}get keep(){return(this.info&Ks)>0}set keep(t){this.keep!==t&&(this.info^=Ks)}get countable(){return(this.info&Ys)>0}get deleted(){return(this.info&li)>0}set deleted(t){this.deleted!==t&&(this.info^=li)}markDeleted(){this.info|=li}getMissing(t,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Et(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Et(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===nn&&this.id.client!==this.parent.client&&this.parent.clock>=Et(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=ao(t,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Ie(t,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===At||this.right&&this.right.constructor===At)&&(this.parent=null),!this.parent)this.left&&this.left.constructor===wt&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===wt&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===nn){const r=gi(n,this.parent);r.constructor===At?this.parent=null:this.parent=r.content.type}return null}integrate(t,n){if(n>0&&(this.id.clock+=n,this.left=ao(t,t.doc.store,Z(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,s;if(r!==null)s=r.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;const i=new Set,o=new Set;for(;s!==null&&s!==this.right;){if(o.add(s),i.add(s),nr(this.origin,s.origin)){if(s.id.client<this.id.client)r=s,i.clear();else if(nr(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&o.has(gi(t.doc.store,s.origin)))i.has(gi(t.doc.store,s.origin))||(r=s,i.clear());else break;s=s.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Oa(t.doc.store,this),this.content.integrate(t,this),co(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new At(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:Z(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&nr(t.origin,this.lastId)&&this.right===t&&nr(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===t&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),vr(t.deleteSet,this.id.client,this.id.clock,this.length),co(t,n,this.parentSub),this.content.delete(t)}}gc(t,n){if(!this.deleted)throw Yt();this.content.gc(t),n?yf(t,this,new At(this.id,this.length)):this.content=new Fn(this.length)}write(t,n){const r=n>0?Z(this.id.client,this.id.clock+n-1):this.origin,s=this.rightOrigin,i=this.parentSub,o=this.content.getRef()&Pr|(r===null?0:Dt)|(s===null?0:fe)|(i===null?0:Bn);if(t.writeInfo(o),r!==null&&t.writeLeftID(r),s!==null&&t.writeRightID(s),r===null&&s===null){const l=this.parent;if(l._item!==void 0){const c=l._item;if(c===null){const h=hf(l);t.writeParentInfo(!0),t.writeString(h)}else t.writeParentInfo(!1),t.writeLeftID(c.id)}else l.constructor===String?(t.writeParentInfo(!0),t.writeString(l)):l.constructor===nn?(t.writeParentInfo(!1),t.writeLeftID(l)):Yt();i!==null&&t.writeString(i)}this.content.write(t,n)}}const Xa=(e,t)=>ch[t&Pr](e),ch=[()=>{Yt()},Kf,Xf,qf,Zf,Jf,Gf,lh,Qf,Yf,()=>{Yt()}],uh=10;class Ot extends Cs{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){Yt()}write(t,n){t.writeInfo(uh),W(t.restEncoder,this.length-n)}getMissing(t,n){return null}}const Qa=typeof window!="undefined"?window:typeof global!="undefined"?global:{},Za="__ $YJS$ __";Qa[Za]===!0&&console.warn("Yjs was already imported. Importing different versions of Yjs often leads to issues.");Qa[Za]=!0;var Bi,Ui,fh=function(t){return t()};function hh(e,t){if(Ui)return Ui(e,t);fh(e)}function ze(e,t,n){if(Bi)return Bi.apply(null,arguments);throw new Error("observable implementation not provided. Call enableReactiveBindings, enableVueBindings or enableMobxBindings.")}function dh(e){Bi=function(n,r,s){var i=e.createAtom(n);return r&&r(),i},Ui=function(n,r){return e.reaction(n,r,{fireImmediately:!1})}}var go=new WeakSet;function gh(e){if(go.has(e))return e;go.add(e);var t,n=new Map;function r(){if(!t){var f=function(g){(g.changes.added.size||g.changes.deleted.size||g.changes.keys.size||g.changes.delta.length)&&t.reportChanged()};t=ze("map",function(){e.observe(f)},function(){e.unobserve(f)})}t.reportObserved(e._implicitObserver)}function s(f){var u=n.get(f);if(!u){var g=function(b){u.reportChanged()};u=ze(f+"",function(){e.observe(g)},function(){e.unobserve(g)}),n.set(f,u)}u.reportObserved(e._implicitObserver)}var i=e.get;e.get=function(f){if(typeof f!="number")throw new Error("unexpected");s(f);var u=Reflect.apply(i,this,arguments);return u};function o(f){var u=e[f];e[f]=function(){r();var g=Reflect.apply(u,this,arguments);return g}}function l(f){var u=e,g=Object.getOwnPropertyDescriptor(u,f);if(g||(u=Object.getPrototypeOf(u),g=Object.getOwnPropertyDescriptor(u,f)),g||(u=Object.getPrototypeOf(u),g=Object.getOwnPropertyDescriptor(u,f)),!g)throw new Error("property not found");var y=g.get;g.get=function(){this._disableTracking||r();var b=Reflect.apply(y,this,arguments);return b},Object.defineProperty(u,f,g)}function c(f,u){var g=e,y=Object.getOwnPropertyDescriptor(g,f);if(y||(g=Object.getPrototypeOf(g),y=Object.getOwnPropertyDescriptor(g,f)),y||(g=Object.getPrototypeOf(g),y=Object.getOwnPropertyDescriptor(g,f)),!y)throw new Error("property not found");Object.defineProperty(g,u,y)}o("forEach"),o("toJSON"),o("toArray"),o("slice"),o("map"),c("length","lengthUntracked"),l("length");var h=e.push;e.push=function(f){this._disableTracking=!0;var u=h.call(this,f);return this._disableTracking=!1,u};var p=e.slice;return e.slice=function(f,u){this._disableTracking=!0;var g=p.call(this,f,u);return this._disableTracking=!1,g},e}var po=new WeakSet;function ph(e){if(po.has(e))return e;po.add(e);var t;function n(){if(!t){var i=Array.from(e.share.keys()),o=function(c){var h=Array.from(e.share.keys());JSON.stringify(i)!==JSON.stringify(h)&&(i=h,t.reportChanged())};t=ze("map",function(){e.on("beforeObserverCalls",o)},function(){e.off("beforeObserverCalls",o)})}t.reportObserved(e._implicitObserver)}var r=e.get;e.get=function(i){if(typeof i!="string")throw new Error("unexpected");var o=Reflect.apply(r,this,arguments);return Jr(o),o};function s(i){var o=e[i],l;e[i]=function(){var c,h=arguments;return n(),l&&l.removeObservers(),l=hh(function(){return c=Reflect.apply(o,e,h),c},function(){return t.reportChanged()}),c}}return s("toJSON"),Object.defineProperty(e,"keys",{get:function(){return n(),Object.keys(e.share)}}),e}var yo=new WeakSet;function yh(e){if(yo.has(e))return e;yo.add(e);var t,n=new Map;function r(){if(!t){var l=function(h){(h.changes.added.size||h.changes.deleted.size||h.changes.keys.size||h.changes.delta.length)&&t.reportChanged()};t=ze("map",function(){e.observe(l)},function(){e.unobserve(l)})}t.reportObserved(e._implicitObserver)}function s(l){var c=n.get(l);if(!c){var h=function(f){f.keysChanged.has(l)&&(f.changes.added.size||f.changes.deleted.size||f.changes.keys.size||f.changes.delta.length)&&c.reportChanged()};c=ze(l,function(){e.observe(h)},function(){e.unobserve(h)}),n.set(l,c)}c.reportObserved(e._implicitObserver)}var i=e.get;e.get=function(l){if(typeof l!="string")throw new Error("unexpected");s(l);var c=Reflect.apply(i,this,arguments);return c};function o(l){var c=e[l];e[l]=function(){r();var h=Reflect.apply(c,this,arguments);return h}}return o("values"),o("entries"),o("keys"),o("forEach"),o("toJSON"),e}var mo=new WeakSet;function wo(e){if(mo.has(e))return e;mo.add(e);var t,n=function(i){t.reportChanged()};t=ze("text",function(){e.observe(n)},function(){e.unobserve(n)});function r(s){var i=e[s];e[s]=function(){t.reportObserved(this._implicitObserver);var o=Reflect.apply(i,this,arguments);return o}}return r("toString"),r("toJSON"),e}var bo=new WeakSet;function _o(e){if(bo.has(e))return e;bo.add(e);var t,n=function(o){(o.changes.added.size||o.changes.deleted.size||o.changes.keys.size||o.changes.delta.length)&&t.reportChanged()};t=ze("xml",function(){e.observe(n)},function(){e.unobserve(n)});function r(i){var o=e[i];e[i]=function(){t.reportObserved(this._implicitObserver);var l=Reflect.apply(o,this,arguments);return l}}function s(i){var o=e,l=Object.getOwnPropertyDescriptor(o,i);if(l||(o=Object.getPrototypeOf(o),l=Object.getOwnPropertyDescriptor(o,i)),l||(o=Object.getPrototypeOf(o),l=Object.getOwnPropertyDescriptor(o,i)),!l)throw new Error("property not found");var c=l.get;l.get=function(){t.reportObserved(this._implicitObserver);var h=Reflect.apply(c,this,arguments);return h},Object.defineProperty(o,i,l)}return r("toString"),r("toDOM"),r("toArray"),r("getAttribute"),s("firstChild"),e}function Jr(e){return e instanceof $e||e instanceof ge?wo(e):e instanceof Kt?gh(e):e instanceof Jt?yh(e):e instanceof Ke||Object.prototype.hasOwnProperty.call(e,"autoLoad")?ph(e):e instanceof Gt||e instanceof Oe?_o(e):e}function vo(e){e.share.forEach(function(t){t.constructor!==ht&&Jr(t)})}function Eo(e,t){for(var n=e.length-1;n>=t;n--){var r=e[n];if(!r.deleted){var s;if(r instanceof At)continue;(s=r.content)==null||s.getContent().forEach(function(i){i instanceof ht&&Jr(i)})}}}var Co=new WeakSet;function mh(e){Co.has(e)||(Co.add(e),Jr(e),e.store.clients.forEach(function(t){t&&Eo(t,0)}),vo(e),e.on("beforeObserverCalls",function(t){vo(e),t.afterState.forEach(function(n,r){var s=t.beforeState.get(r)||0;if(s!==n){var i=t.doc.store.clients.get(r);if(!i)return;var o=jt(i,s);Eo(i,o)}})}))}var Gr=function(t){this.value=t};function wh(e){return new Gr(Object.freeze(e))}function bh(e){var t=function(){var o,l=(o=this[Mt])==null?void 0:o.implicitObserver;e._implicitObserver=l;var c=e.slice.bind(e).apply(e,arguments);return c.map(function(h){var p=Xr(h,l);return p})},n=function(o){return o.map(function(l){var c=Ss(l),h=jn(c)||c;if(h instanceof Gr&&(h=h.value),h instanceof ht&&h.parent)throw new Error("Not supported: reassigning object that already occurs in the tree.");return h})},r=function(){return[].findIndex.apply(t.apply(this),arguments)},s={slice:t,unshift:e.unshift.bind(e),push:function(){return e.push(n([].slice.call(arguments))),e.lengthUntracked},insert:e.insert.bind(e),toJSON:e.toJSON.bind(e),forEach:function(){return[].forEach.apply(t.apply(this),arguments)},filter:function(){return[].filter.apply(t.apply(this),arguments)},find:function(){return[].find.apply(t.apply(this),arguments)},findIndex:r,map:function(){return[].map.apply(t.apply(this),arguments)},indexOf:function(){var o=arguments[0];return r.call(this,function(l){return Ch(l,o)})},splice:function(){var o=arguments[0]<0?e.length-Math.abs(arguments[0]):arguments[0],l=arguments[1],c=Array.from(Array.from(arguments).slice(2)),h=t.apply(this,[o,Number.isInteger(l)?o+l:void 0]);return e.doc?e.doc.transact(function(){e.delete(o,l),e.insert(o,n(c))}):(e.delete(o,l),e.insert(o,n(c))),h}};return Object.defineProperty(s,"length",{enumerable:!1,configurable:!1,writable:!0,value:e.lengthUntracked}),s}function Cn(e){if(typeof e=="string"&&e.trim().length){var t=Number(e);if(Number.isInteger(t))return t}return e}function So(e,t){if(t===void 0&&(t=new Kt),t[bt])throw new Error("unexpected");var n=bh(t),r=new Proxy(n,{set:function(i,o,l){var c=Cn(o);throw typeof c!="number"?new Error:new Error("array assignment is not implemented / supported")},get:function(i,o,l){var c=Cn(o);if(c===Qr)return t;if(typeof c=="number"){var h;if(l&&l[Mt]){var p;h=(p=l[Mt])==null?void 0:p.implicitObserver,t._implicitObserver=h}var f=t.get(c);return f=Xr(f,h),f}if(c===Symbol.toStringTag)return"Array";if(c===Symbol.iterator){var u=t.slice();return Reflect.get(u,c)}if(c==="length")return t.length;var g=Reflect.get(i,c,l);return g},deleteProperty:function(i,o){var l=Cn(o);if(typeof l!="number")throw new Error;return l<t.lengthUntracked&&l>=0?(t.delete(l),!0):!1},has:function(i,o){var l=Cn(o);return typeof l!="number"?Reflect.has(i,l):l<t.lengthUntracked&&l>=0},getOwnPropertyDescriptor:function(i,o){var l=Cn(o);if(l==="length")return{enumerable:!1,configurable:!1,writable:!0};if(typeof l=="number"&&l>=0&&l<t.lengthUntracked)return{enumerable:!0,configurable:!0,writable:!0}},ownKeys:function(i){for(var o=[],l=0;l<t.length;l++)o.push(l+"");return o.push("length"),o}});return n.push.apply(r,e),r}function ko(e,t){if(t===void 0&&(t=new Jt),t[bt])throw new Error("unexpected");var n=new Proxy({},{set:function(i,o,l){if(typeof o!="string")throw new Error;var c=Ss(l),h=jn(c)||c;if(h instanceof Gr&&(h=h.value),h instanceof ht&&h.parent)throw new Error("Not supported: reassigning object that already occurs in the tree.");return t.set(o,h),!0},get:function(i,o,l){if(o===Qr)return t;if(typeof o!="string")return Reflect.get(i,o);var c;if(l&&l[Mt]){var h;c=(h=l[Mt])==null?void 0:h.implicitObserver,t._implicitObserver=c}var p=t.get(o);return p=Xr(p,c),p},deleteProperty:function(i,o){if(typeof o!="string")throw new Error;return t.has(o)?(t.delete(o),!0):!1},has:function(i,o){return!!(typeof o=="string"&&t.has(o))},getOwnPropertyDescriptor:function(i,o){if(typeof o=="string"&&t.has(o))return{enumerable:!0,configurable:!0}},ownKeys:function(i){return Array.from(t.keys())}});Dn.set(t,n);for(var r in e)n[r]=e[r];return n}function _h(e){return e instanceof ht}var Dn=new WeakMap;function Xr(e,t){if(_h(e)){if(e._implicitObserver=t,e instanceof Kt||e instanceof Jt){if(!Dn.has(e)){var n=Ss(e);Dn.set(e,n)}e=Dn.get(e)}else if(e instanceof Oe||e instanceof Gt||e instanceof $e||e instanceof cn||e instanceof ge)Zi(e),e.__v_skip=!0;else throw new Error("unknown YType");return e}else{if(e===null)return null;if(typeof e=="object")return wh(e)}return e}function Ss(e){if(e==null)return e;if(e=jn(e)||e,e instanceof Kt)return So([],e);if(e instanceof Jt)return ko({},e);if(typeof e=="string")return e;if(Array.isArray(e))return So(e);if(e instanceof Oe||e instanceof Gt||e instanceof $e||e instanceof cn)return e;if(e instanceof ge)return e;if(typeof e=="object")return e instanceof Gr?e:ko(e);if(typeof e=="number"||typeof e=="boolean")return e;throw new Error("invalid")}function vh(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=n[t],s=r[1];if(Array.isArray(s)){if(s.length!==0)throw new Error("Root Array initializer must always be empty array")}else if(s&&typeof s=="object"){if(Object.keys(s).length!==0||Object.getPrototypeOf(s)!==Object.prototype)throw new Error("Root Object initializer must always be {}")}else if(s!=="xml"&&s!=="text")throw new Error("unknown Root initializer")}}function Ro(e,t,n){var r=t[n];if(!r){console.warn("property not found on root doc",n);return}return r==="xml"?e.getXmlFragment(n):r==="text"?e.getText(n):Array.isArray(r)?e.getArray(n):e.getMap(n)}function Eh(e,t){if(e[bt])throw new Error("unexpected");vh(t);var n=new Proxy({},{set:function(s,i,o){throw typeof i!="string"?new Error:new Error("cannot set new elements on root doc")},get:function(s,i,o){if(i===Qr)return e;if(typeof i!="string")return Reflect.get(s,i);var l;if(o&&o[Mt]){var c;l=(c=o[Mt])==null?void 0:c.implicitObserver,e._implicitObserver=l}if(i==="toJSON"){for(var h=0,p=Object.keys(t);h<p.length;h++){var f=p[h];Ro(e,t,f)}var u=Reflect.get(e,i);return u}var g=Ro(e,t,i);return g=Xr(g,l),g},deleteProperty:function(s,i){throw new Error("deleteProperty not available for doc")},has:function(s,i){return!!(typeof i=="string"&&e.share.has(i))},getOwnPropertyDescriptor:function(s,i){if(typeof i=="string"&&e.share.has(i)||i==="toJSON")return{enumerable:!0,configurable:!0}},ownKeys:function(s){return Array.from(e.share.keys())}});return Dn.set(e,n),n}dh(Wc);var Qr=Symbol("INTERNAL_SYMBOL");function jn(e){if(!(typeof e!="object"||e===null)){var t=e[Qr];return t&&(Zi(t),t.__v_skip=!0),t}}function Ch(e,t){if(e===t)return!0;if(typeof e=="object"&&typeof t=="object"){var n=jn(e),r=jn(t);return!n||!r?!1:n===r}return!1}function jg(e,t){return t===void 0&&(t=new Ke),mh(t),Eh(t,e)}const Je=e=>$r((t,n)=>{e.onerror=r=>n(new Error(r.target.error)),e.onblocked=()=>location.reload(),e.onsuccess=r=>t(r.target.result)}),Sh=(e,t)=>$r((n,r)=>{const s=indexedDB.open(e);s.onupgradeneeded=i=>t(i.target.result),s.onerror=i=>r(We(i.target.error)),s.onblocked=()=>location.reload(),s.onsuccess=i=>{const o=i.target.result;o.onversionchange=()=>{o.close()},typeof addEventListener!="undefined"&&addEventListener("unload",()=>o.close()),n(o)}}),kh=e=>Je(indexedDB.deleteDatabase(e)),Rh=(e,t)=>t.forEach(n=>e.createObjectStore.apply(e,n)),kn=(e,t,n="readwrite")=>{const r=e.transaction(t,n);return t.map(s=>Nh(r,s))},tl=(e,t)=>Je(e.count(t)),Ah=(e,t)=>Je(e.get(t)),el=(e,t)=>Je(e.delete(t)),Th=(e,t,n)=>Je(e.put(t,n)),Pi=(e,t)=>Je(e.add(t)),Dh=(e,t)=>Je(e.getAll(t)),Ih=(e,t,n)=>{let r=null;return Mh(e,t,s=>(r=s,!1),n).then(()=>r)},Oh=(e,t=null)=>Ih(e,t,"prev"),Lh=(e,t)=>$r((n,r)=>{e.onerror=r,e.onsuccess=s=>{const i=s.target.result;if(i===null||t(i)===!1)return n();i.continue()}}),Mh=(e,t,n,r="next")=>Lh(e.openKeyCursor(t,r),s=>n(s.key)),Nh=(e,t)=>e.objectStore(t),xh=(e,t)=>IDBKeyRange.upperBound(e,t),Bh=(e,t)=>IDBKeyRange.lowerBound(e,t),nl=()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else n!==void 0&&n()}},mi="custom",rl="updates",il=500,sl=e=>{const[t]=kn(e.db,[rl]);return Dh(t,Bh(e._dbref,!1)).then(n=>e._mux(()=>lt(e.doc,()=>{n.forEach(r=>Ra(e.doc,r))},e,!1))).then(()=>Oh(t).then(n=>{e._dbref=n+1})).then(()=>tl(t).then(n=>{e._dbsize=n})).then(()=>t)},Uh=(e,t=!0)=>sl(e).then(n=>{(t||e._dbsize>=il)&&Pi(n,ys(e.doc)).then(()=>el(n,xh(e._dbref,!0))).then(()=>tl(n).then(r=>{e._dbsize=r}))});class $g extends Hn{constructor(t,n){super();this.doc=n,this.name=t,this._mux=nl(),this._dbref=0,this._dbsize=0,this.db=null,this.synced=!1,this._db=Sh(t,r=>Rh(r,[["updates",{autoIncrement:!0}],["custom"]])),this.whenSynced=this._db.then(r=>{this.db=r;const s=ys(n);return sl(this).then(i=>Pi(i,s)).then(()=>(this.emit("synced",[this]),this.synced=!0,this))}),this._storeTimeout=1e3,this._storeTimeoutId=null,this._storeUpdate=r=>this._mux(()=>{if(this.db){const[s]=kn(this.db,[rl]);Pi(s,r),++this._dbsize>=il&&(this._storeTimeoutId!==null&&clearTimeout(this._storeTimeoutId),this._storeTimeoutId=setTimeout(()=>{Uh(this,!1),this._storeTimeoutId=null},this._storeTimeout))}}),n.on("update",this._storeUpdate),this.destroy=this.destroy.bind(this),n.on("destroy",this.destroy)}destroy(){return this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this.doc.off("update",this._storeUpdate),this.doc.off("destroy",this.destroy),this._db.then(t=>{t.close()})}clearData(){return this.destroy().then(()=>{kh(this.name)})}get(t){return this._db.then(n=>{const[r]=kn(n,[mi],"readonly");return Ah(r,t)})}set(t,n){return this._db.then(r=>{const[s]=kn(r,[mi]);return Th(s,n,t)})}del(t){return this._db.then(n=>{const[r]=kn(n,[mi]);return el(r,t)})}}const Ph=1200,Fh=2500,Ar=3e4,Fi=e=>{if(e.shouldConnect&&e.ws===null){const t=new WebSocket(e.url),n=e.binaryType;let r=null;n&&(t.binaryType=n),e.ws=t,e.connecting=!0,e.connected=!1,t.onmessage=o=>{e.lastMessageReceived=de();const l=o.data,c=typeof l=="string"?JSON.parse(l):l;c&&c.type==="pong"&&(clearTimeout(r),r=setTimeout(i,Ar/2)),e.emit("message",[c,e])};const s=o=>{e.ws!==null&&(e.ws=null,e.connecting=!1,e.connected?(e.connected=!1,e.emit("disconnect",[{type:"disconnect",error:o},e])):e.unsuccessfulReconnects++,setTimeout(Fi,ts(Jc(e.unsuccessfulReconnects+1)*Ph,Fh),e)),clearTimeout(r)},i=()=>{e.ws===t&&e.send({type:"ping"})};t.onclose=()=>s(null),t.onerror=o=>s(o),t.onopen=()=>{e.lastMessageReceived=de(),e.connecting=!1,e.connected=!0,e.unsuccessfulReconnects=0,e.emit("connect",[{type:"connect"},e]),r=setTimeout(i,Ar/2)}}};class jh extends Hn{constructor(t,{binaryType:n}={}){super();this.url=t,this.ws=null,this.binaryType=n||null,this.connected=!1,this.connecting=!1,this.unsuccessfulReconnects=0,this.lastMessageReceived=0,this.shouldConnect=!0,this._checkInterval=setInterval(()=>{this.connected&&Ar<de()-this.lastMessageReceived&&this.ws.close()},Ar/2),Fi(this)}send(t){this.ws&&this.ws.send(JSON.stringify(t))}destroy(){clearInterval(this._checkInterval),this.disconnect(),super.destroy()}disconnect(){this.shouldConnect=!1,this.ws!==null&&this.ws.close()}connect(){this.shouldConnect=!0,!this.connected&&this.ws===null&&Fi(this)}}const $h=new Map;class Vh{constructor(t){this.room=t,this.onmessage=null,iu(n=>n.key===t&&this.onmessage!==null&&this.onmessage({data:ha(n.newValue||"")}))}postMessage(t){aa.setItem(this.room,fa(yu(t)))}}const zh=typeof BroadcastChannel=="undefined"?Vh:BroadcastChannel,ks=e=>Nt($h,e,()=>{const t=new Set,n=new zh(e);return n.onmessage=r=>t.forEach(s=>s(r.data)),{bc:n,subs:t}}),Hh=(e,t)=>ks(e).subs.add(t),Wh=(e,t)=>ks(e).subs.delete(t),qh=(e,t)=>{const n=ks(e);n.bc.postMessage(t),n.subs.forEach(r=>r(t))};var zt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function sr(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ol={exports:{}};(function(e,t){(function(n){e.exports=n()})(function(){var n=Math.floor,r=Math.abs,s=Math.pow;return function(){function i(o,l,c){function h(u,g){if(!l[u]){if(!o[u]){var y=typeof sr=="function"&&sr;if(!g&&y)return y(u,!0);if(p)return p(u,!0);var b=new Error("Cannot find module '"+u+"'");throw b.code="MODULE_NOT_FOUND",b}var S=l[u]={exports:{}};o[u][0].call(S.exports,function(k){var L=o[u][1][k];return h(L||k)},S,S.exports,i,o,l,c)}return l[u].exports}for(var p=typeof sr=="function"&&sr,f=0;f<c.length;f++)h(c[f]);return h}return i}()({1:[function(i,o,l){function c(_){var E=_.length;if(0<E%4)throw new Error("Invalid string. Length must be a multiple of 4");var R=_.indexOf("=");R===-1&&(R=E);var C=R===E?0:4-R%4;return[R,C]}function h(_,E,R){return 3*(E+R)/4-R}function p(_){var E,R,C=c(_),D=C[0],B=C[1],T=new S(h(_,D,B)),I=0,U=0<B?D-4:D;for(R=0;R<U;R+=4)E=b[_.charCodeAt(R)]<<18|b[_.charCodeAt(R+1)]<<12|b[_.charCodeAt(R+2)]<<6|b[_.charCodeAt(R+3)],T[I++]=255&E>>16,T[I++]=255&E>>8,T[I++]=255&E;return B===2&&(E=b[_.charCodeAt(R)]<<2|b[_.charCodeAt(R+1)]>>4,T[I++]=255&E),B===1&&(E=b[_.charCodeAt(R)]<<10|b[_.charCodeAt(R+1)]<<4|b[_.charCodeAt(R+2)]>>2,T[I++]=255&E>>8,T[I++]=255&E),T}function f(_){return y[63&_>>18]+y[63&_>>12]+y[63&_>>6]+y[63&_]}function u(_,E,R){for(var C,D=[],B=E;B<R;B+=3)C=(16711680&_[B]<<16)+(65280&_[B+1]<<8)+(255&_[B+2]),D.push(f(C));return D.join("")}function g(_){for(var E,R=_.length,C=R%3,D=[],B=16383,T=0,I=R-C;T<I;T+=B)D.push(u(_,T,T+B>I?I:T+B));return C===1?(E=_[R-1],D.push(y[E>>2]+y[63&E<<4]+"==")):C===2&&(E=(_[R-2]<<8)+_[R-1],D.push(y[E>>10]+y[63&E>>4]+y[63&E<<2]+"=")),D.join("")}l.byteLength=function(_){var E=c(_),R=E[0],C=E[1];return 3*(R+C)/4-C},l.toByteArray=p,l.fromByteArray=g;for(var y=[],b=[],S=typeof Uint8Array=="undefined"?Array:Uint8Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,w=k.length;L<w;++L)y[L]=k[L],b[k.charCodeAt(L)]=L;b[45]=62,b[95]=63},{}],2:[function(){},{}],3:[function(i,o,l){(function(){(function(){var c=String.fromCharCode,h=Math.min;function p(a){if(2147483647<a)throw new RangeError('The value "'+a+'" is invalid for option "size"');var d=new Uint8Array(a);return d.__proto__=f.prototype,d}function f(a,d,m){if(typeof a=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(a)}return u(a,d,m)}function u(a,d,m){if(typeof a=="string")return S(a,d);if(ArrayBuffer.isView(a))return k(a);if(a==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(M(a,ArrayBuffer)||a&&M(a.buffer,ArrayBuffer))return L(a,d,m);if(typeof a=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var A=a.valueOf&&a.valueOf();if(A!=null&&A!==a)return f.from(A,d,m);var O=w(a);if(O)return O;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof a[Symbol.toPrimitive]=="function")return f.from(a[Symbol.toPrimitive]("string"),d,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}function g(a){if(typeof a!="number")throw new TypeError('"size" argument must be of type number');if(0>a)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function y(a,d,m){return g(a),0>=a||d===void 0?p(a):typeof m=="string"?p(a).fill(d,m):p(a).fill(d)}function b(a){return g(a),p(0>a?0:0|_(a))}function S(a,d){if((typeof d!="string"||d==="")&&(d="utf8"),!f.isEncoding(d))throw new TypeError("Unknown encoding: "+d);var m=0|E(a,d),A=p(m),O=A.write(a,d);return O!==m&&(A=A.slice(0,O)),A}function k(a){for(var d=0>a.length?0:0|_(a.length),m=p(d),A=0;A<d;A+=1)m[A]=255&a[A];return m}function L(a,d,m){if(0>d||a.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<d+(m||0))throw new RangeError('"length" is outside of buffer bounds');var A;return A=d===void 0&&m===void 0?new Uint8Array(a):m===void 0?new Uint8Array(a,d):new Uint8Array(a,d,m),A.__proto__=f.prototype,A}function w(a){if(f.isBuffer(a)){var d=0|_(a.length),m=p(d);return m.length===0||a.copy(m,0,0,d),m}return a.length===void 0?a.type==="Buffer"&&Array.isArray(a.data)?k(a.data):void 0:typeof a.length!="number"||N(a.length)?p(0):k(a)}function _(a){if(a>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|a}function E(a,d){if(f.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||M(a,ArrayBuffer))return a.byteLength;if(typeof a!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);var m=a.length,A=2<arguments.length&&arguments[2]===!0;if(!A&&m===0)return 0;for(var O=!1;;)switch(d){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return Ne(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return Ut(a).length;default:if(O)return A?-1:Ne(a).length;d=(""+d).toLowerCase(),O=!0}}function R(a,d,m){var A=!1;if((d===void 0||0>d)&&(d=0),d>this.length||((m===void 0||m>this.length)&&(m=this.length),0>=m)||(m>>>=0,d>>>=0,m<=d))return"";for(a||(a="utf8");;)switch(a){case"hex":return xt(this,d,m);case"utf8":case"utf-8":return mt(this,d,m);case"ascii":return q(this,d,m);case"latin1":case"binary":return Ge(this,d,m);case"base64":return tt(this,d,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,d,m);default:if(A)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),A=!0}}function C(a,d,m){var A=a[d];a[d]=a[m],a[m]=A}function D(a,d,m,A,O){if(a.length===0)return-1;if(typeof m=="string"?(A=m,m=0):2147483647<m?m=2147483647:-2147483648>m&&(m=-2147483648),m=+m,N(m)&&(m=O?0:a.length-1),0>m&&(m=a.length+m),m>=a.length){if(O)return-1;m=a.length-1}else if(0>m)if(O)m=0;else return-1;if(typeof d=="string"&&(d=f.from(d,A)),f.isBuffer(d))return d.length===0?-1:B(a,d,m,A,O);if(typeof d=="number")return d&=255,typeof Uint8Array.prototype.indexOf=="function"?O?Uint8Array.prototype.indexOf.call(a,d,m):Uint8Array.prototype.lastIndexOf.call(a,d,m):B(a,[d],m,A,O);throw new TypeError("val must be string, number or Buffer")}function B(a,d,m,A,O){function x(Xe,bn){return z===1?Xe[bn]:Xe.readUInt16BE(bn*z)}var z=1,X=a.length,ct=d.length;if(A!==void 0&&(A=(A+"").toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(2>a.length||2>d.length)return-1;z=2,X/=2,ct/=2,m/=2}var Q;if(O){var G=-1;for(Q=m;Q<X;Q++)if(x(a,Q)!==x(d,G===-1?0:Q-G))G!==-1&&(Q-=Q-G),G=-1;else if(G===-1&&(G=Q),Q-G+1===ct)return G*z}else for(m+ct>X&&(m=X-ct),Q=m;0<=Q;Q--){for(var Ct=!0,xe=0;xe<ct;xe++)if(x(a,Q+xe)!==x(d,xe)){Ct=!1;break}if(Ct)return Q}return-1}function T(a,d,m,A){m=+m||0;var O=a.length-m;A?(A=+A,A>O&&(A=O)):A=O;var x=d.length;A>x/2&&(A=x/2);for(var z,X=0;X<A;++X){if(z=parseInt(d.substr(2*X,2),16),N(z))return X;a[m+X]=z}return X}function I(a,d,m,A){return Pt(Ne(d,a.length-m),a,m,A)}function U(a,d,m,A){return Pt(wn(d),a,m,A)}function j(a,d,m,A){return U(a,d,m,A)}function K(a,d,m,A){return Pt(Ut(d),a,m,A)}function J(a,d,m,A){return Pt(Se(d,a.length-m),a,m,A)}function tt(a,d,m){return d===0&&m===a.length?F.fromByteArray(a):F.fromByteArray(a.slice(d,m))}function mt(a,d,m){m=h(a.length,m);for(var A=[],O=d;O<m;){var x=a[O],z=null,X=239<x?4:223<x?3:191<x?2:1;if(O+X<=m){var ct,Q,G,Ct;X===1?128>x&&(z=x):X===2?(ct=a[O+1],(192&ct)==128&&(Ct=(31&x)<<6|63&ct,127<Ct&&(z=Ct))):X===3?(ct=a[O+1],Q=a[O+2],(192&ct)==128&&(192&Q)==128&&(Ct=(15&x)<<12|(63&ct)<<6|63&Q,2047<Ct&&(55296>Ct||57343<Ct)&&(z=Ct))):X===4&&(ct=a[O+1],Q=a[O+2],G=a[O+3],(192&ct)==128&&(192&Q)==128&&(192&G)==128&&(Ct=(15&x)<<18|(63&ct)<<12|(63&Q)<<6|63&G,65535<Ct&&1114112>Ct&&(z=Ct)))}z===null?(z=65533,X=1):65535<z&&(z-=65536,A.push(55296|1023&z>>>10),z=56320|1023&z),A.push(z),O+=X}return Rt(A)}function Rt(a){var d=a.length;if(d<=4096)return c.apply(String,a);for(var m="",A=0;A<d;)m+=c.apply(String,a.slice(A,A+=4096));return m}function q(a,d,m){var A="";m=h(a.length,m);for(var O=d;O<m;++O)A+=c(127&a[O]);return A}function Ge(a,d,m){var A="";m=h(a.length,m);for(var O=d;O<m;++O)A+=c(a[O]);return A}function xt(a,d,m){var A=a.length;(!d||0>d)&&(d=0),(!m||0>m||m>A)&&(m=A);for(var O="",x=d;x<m;++x)O+=Me(a[x]);return O}function ve(a,d,m){for(var A=a.slice(d,m),O="",x=0;x<A.length;x+=2)O+=c(A[x]+256*A[x+1]);return O}function ft(a,d,m){if(a%1!=0||0>a)throw new RangeError("offset is not uint");if(a+d>m)throw new RangeError("Trying to access beyond buffer length")}function at(a,d,m,A,O,x){if(!f.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>O||d<x)throw new RangeError('"value" argument is out of bounds');if(m+A>a.length)throw new RangeError("Index out of range")}function Bt(a,d,m,A){if(m+A>a.length)throw new RangeError("Index out of range");if(0>m)throw new RangeError("Index out of range")}function Ee(a,d,m,A,O){return d=+d,m>>>=0,O||Bt(a,d,m,4),H.write(a,d,m,A,23,4),m+4}function Ce(a,d,m,A,O){return d=+d,m>>>=0,O||Bt(a,d,m,8),H.write(a,d,m,A,52,8),m+8}function mn(a){if(a=a.split("=")[0],a=a.trim().replace(v,""),2>a.length)return"";for(;a.length%4!=0;)a+="=";return a}function Me(a){return 16>a?"0"+a.toString(16):a.toString(16)}function Ne(a,d){d=d||1/0;for(var m,A=a.length,O=null,x=[],z=0;z<A;++z){if(m=a.charCodeAt(z),55295<m&&57344>m){if(!O){if(56319<m){-1<(d-=3)&&x.push(239,191,189);continue}else if(z+1===A){-1<(d-=3)&&x.push(239,191,189);continue}O=m;continue}if(56320>m){-1<(d-=3)&&x.push(239,191,189),O=m;continue}m=(O-55296<<10|m-56320)+65536}else O&&-1<(d-=3)&&x.push(239,191,189);if(O=null,128>m){if(0>(d-=1))break;x.push(m)}else if(2048>m){if(0>(d-=2))break;x.push(192|m>>6,128|63&m)}else if(65536>m){if(0>(d-=3))break;x.push(224|m>>12,128|63&m>>6,128|63&m)}else if(1114112>m){if(0>(d-=4))break;x.push(240|m>>18,128|63&m>>12,128|63&m>>6,128|63&m)}else throw new Error("Invalid code point")}return x}function wn(a){for(var d=[],m=0;m<a.length;++m)d.push(255&a.charCodeAt(m));return d}function Se(a,d){for(var m,A,O,x=[],z=0;z<a.length&&!(0>(d-=2));++z)m=a.charCodeAt(z),A=m>>8,O=m%256,x.push(O),x.push(A);return x}function Ut(a){return F.toByteArray(mn(a))}function Pt(a,d,m,A){for(var O=0;O<A&&!(O+m>=d.length||O>=a.length);++O)d[O+m]=a[O];return O}function M(a,d){return a instanceof d||a!=null&&a.constructor!=null&&a.constructor.name!=null&&a.constructor.name===d.name}function N(a){return a!==a}var F=i("base64-js"),H=i("ieee754");l.Buffer=f,l.SlowBuffer=function(a){return+a!=a&&(a=0),f.alloc(+a)},l.INSPECT_MAX_BYTES=50,l.kMaxLength=2147483647,f.TYPED_ARRAY_SUPPORT=function(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},a.foo()===42}catch{return!1}}(),f.TYPED_ARRAY_SUPPORT||typeof console=="undefined"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){return f.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){return f.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol!="undefined"&&Symbol.species!=null&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=function(a,d,m){return u(a,d,m)},f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,f.alloc=function(a,d,m){return y(a,d,m)},f.allocUnsafe=function(a){return b(a)},f.allocUnsafeSlow=function(a){return b(a)},f.isBuffer=function(a){return a!=null&&a._isBuffer===!0&&a!==f.prototype},f.compare=function(a,d){if(M(a,Uint8Array)&&(a=f.from(a,a.offset,a.byteLength)),M(d,Uint8Array)&&(d=f.from(d,d.offset,d.byteLength)),!f.isBuffer(a)||!f.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===d)return 0;for(var m=a.length,A=d.length,O=0,x=h(m,A);O<x;++O)if(a[O]!==d[O]){m=a[O],A=d[O];break}return m<A?-1:A<m?1:0},f.isEncoding=function(a){switch((a+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,d){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(a.length===0)return f.alloc(0);var m;if(d===void 0)for(d=0,m=0;m<a.length;++m)d+=a[m].length;var A=f.allocUnsafe(d),O=0;for(m=0;m<a.length;++m){var x=a[m];if(M(x,Uint8Array)&&(x=f.from(x)),!f.isBuffer(x))throw new TypeError('"list" argument must be an Array of Buffers');x.copy(A,O),O+=x.length}return A},f.byteLength=E,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var a=this.length;if(a%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var d=0;d<a;d+=2)C(this,d,d+1);return this},f.prototype.swap32=function(){var a=this.length;if(a%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var d=0;d<a;d+=4)C(this,d,d+3),C(this,d+1,d+2);return this},f.prototype.swap64=function(){var a=this.length;if(a%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var d=0;d<a;d+=8)C(this,d,d+7),C(this,d+1,d+6),C(this,d+2,d+5),C(this,d+3,d+4);return this},f.prototype.toString=function(){var a=this.length;return a===0?"":arguments.length===0?mt(this,0,a):R.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||f.compare(this,a)===0},f.prototype.inspect=function(){var a="",d=l.INSPECT_MAX_BYTES;return a=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(a+=" ... "),"<Buffer "+a+">"},f.prototype.compare=function(a,d,m,A,O){if(M(a,Uint8Array)&&(a=f.from(a,a.offset,a.byteLength)),!f.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(d===void 0&&(d=0),m===void 0&&(m=a?a.length:0),A===void 0&&(A=0),O===void 0&&(O=this.length),0>d||m>a.length||0>A||O>this.length)throw new RangeError("out of range index");if(A>=O&&d>=m)return 0;if(A>=O)return-1;if(d>=m)return 1;if(d>>>=0,m>>>=0,A>>>=0,O>>>=0,this===a)return 0;for(var x=O-A,z=m-d,X=h(x,z),ct=this.slice(A,O),Q=a.slice(d,m),G=0;G<X;++G)if(ct[G]!==Q[G]){x=ct[G],z=Q[G];break}return x<z?-1:z<x?1:0},f.prototype.includes=function(a,d,m){return this.indexOf(a,d,m)!==-1},f.prototype.indexOf=function(a,d,m){return D(this,a,d,m,!0)},f.prototype.lastIndexOf=function(a,d,m){return D(this,a,d,m,!1)},f.prototype.write=function(a,d,m,A){if(d===void 0)A="utf8",m=this.length,d=0;else if(m===void 0&&typeof d=="string")A=d,m=this.length,d=0;else if(isFinite(d))d>>>=0,isFinite(m)?(m>>>=0,A===void 0&&(A="utf8")):(A=m,m=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var O=this.length-d;if((m===void 0||m>O)&&(m=O),0<a.length&&(0>m||0>d)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");for(var x=!1;;)switch(A){case"hex":return T(this,a,d,m);case"utf8":case"utf-8":return I(this,a,d,m);case"ascii":return U(this,a,d,m);case"latin1":case"binary":return j(this,a,d,m);case"base64":return K(this,a,d,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,a,d,m);default:if(x)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),x=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},f.prototype.slice=function(a,d){var m=this.length;a=~~a,d=d===void 0?m:~~d,0>a?(a+=m,0>a&&(a=0)):a>m&&(a=m),0>d?(d+=m,0>d&&(d=0)):d>m&&(d=m),d<a&&(d=a);var A=this.subarray(a,d);return A.__proto__=f.prototype,A},f.prototype.readUIntLE=function(a,d,m){a>>>=0,d>>>=0,m||ft(a,d,this.length);for(var A=this[a],O=1,x=0;++x<d&&(O*=256);)A+=this[a+x]*O;return A},f.prototype.readUIntBE=function(a,d,m){a>>>=0,d>>>=0,m||ft(a,d,this.length);for(var A=this[a+--d],O=1;0<d&&(O*=256);)A+=this[a+--d]*O;return A},f.prototype.readUInt8=function(a,d){return a>>>=0,d||ft(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,d){return a>>>=0,d||ft(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,d){return a>>>=0,d||ft(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,d){return a>>>=0,d||ft(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,d){return a>>>=0,d||ft(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,d,m){a>>>=0,d>>>=0,m||ft(a,d,this.length);for(var A=this[a],O=1,x=0;++x<d&&(O*=256);)A+=this[a+x]*O;return O*=128,A>=O&&(A-=s(2,8*d)),A},f.prototype.readIntBE=function(a,d,m){a>>>=0,d>>>=0,m||ft(a,d,this.length);for(var A=d,O=1,x=this[a+--A];0<A&&(O*=256);)x+=this[a+--A]*O;return O*=128,x>=O&&(x-=s(2,8*d)),x},f.prototype.readInt8=function(a,d){return a>>>=0,d||ft(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},f.prototype.readInt16LE=function(a,d){a>>>=0,d||ft(a,2,this.length);var m=this[a]|this[a+1]<<8;return 32768&m?4294901760|m:m},f.prototype.readInt16BE=function(a,d){a>>>=0,d||ft(a,2,this.length);var m=this[a+1]|this[a]<<8;return 32768&m?4294901760|m:m},f.prototype.readInt32LE=function(a,d){return a>>>=0,d||ft(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,d){return a>>>=0,d||ft(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,d){return a>>>=0,d||ft(a,4,this.length),H.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,d){return a>>>=0,d||ft(a,4,this.length),H.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,d){return a>>>=0,d||ft(a,8,this.length),H.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,d){return a>>>=0,d||ft(a,8,this.length),H.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,d,m,A){if(a=+a,d>>>=0,m>>>=0,!A){var O=s(2,8*m)-1;at(this,a,d,m,O,0)}var x=1,z=0;for(this[d]=255&a;++z<m&&(x*=256);)this[d+z]=255&a/x;return d+m},f.prototype.writeUIntBE=function(a,d,m,A){if(a=+a,d>>>=0,m>>>=0,!A){var O=s(2,8*m)-1;at(this,a,d,m,O,0)}var x=m-1,z=1;for(this[d+x]=255&a;0<=--x&&(z*=256);)this[d+x]=255&a/z;return d+m},f.prototype.writeUInt8=function(a,d,m){return a=+a,d>>>=0,m||at(this,a,d,1,255,0),this[d]=255&a,d+1},f.prototype.writeUInt16LE=function(a,d,m){return a=+a,d>>>=0,m||at(this,a,d,2,65535,0),this[d]=255&a,this[d+1]=a>>>8,d+2},f.prototype.writeUInt16BE=function(a,d,m){return a=+a,d>>>=0,m||at(this,a,d,2,65535,0),this[d]=a>>>8,this[d+1]=255&a,d+2},f.prototype.writeUInt32LE=function(a,d,m){return a=+a,d>>>=0,m||at(this,a,d,4,4294967295,0),this[d+3]=a>>>24,this[d+2]=a>>>16,this[d+1]=a>>>8,this[d]=255&a,d+4},f.prototype.writeUInt32BE=function(a,d,m){return a=+a,d>>>=0,m||at(this,a,d,4,4294967295,0),this[d]=a>>>24,this[d+1]=a>>>16,this[d+2]=a>>>8,this[d+3]=255&a,d+4},f.prototype.writeIntLE=function(a,d,m,A){if(a=+a,d>>>=0,!A){var O=s(2,8*m-1);at(this,a,d,m,O-1,-O)}var x=0,z=1,X=0;for(this[d]=255&a;++x<m&&(z*=256);)0>a&&X===0&&this[d+x-1]!==0&&(X=1),this[d+x]=255&(a/z>>0)-X;return d+m},f.prototype.writeIntBE=function(a,d,m,A){if(a=+a,d>>>=0,!A){var O=s(2,8*m-1);at(this,a,d,m,O-1,-O)}var x=m-1,z=1,X=0;for(this[d+x]=255&a;0<=--x&&(z*=256);)0>a&&X===0&&this[d+x+1]!==0&&(X=1),this[d+x]=255&(a/z>>0)-X;return d+m},f.prototype.writeInt8=function(a,d,m){return a=+a,d>>>=0,m||at(this,a,d,1,127,-128),0>a&&(a=255+a+1),this[d]=255&a,d+1},f.prototype.writeInt16LE=function(a,d,m){return a=+a,d>>>=0,m||at(this,a,d,2,32767,-32768),this[d]=255&a,this[d+1]=a>>>8,d+2},f.prototype.writeInt16BE=function(a,d,m){return a=+a,d>>>=0,m||at(this,a,d,2,32767,-32768),this[d]=a>>>8,this[d+1]=255&a,d+2},f.prototype.writeInt32LE=function(a,d,m){return a=+a,d>>>=0,m||at(this,a,d,4,2147483647,-2147483648),this[d]=255&a,this[d+1]=a>>>8,this[d+2]=a>>>16,this[d+3]=a>>>24,d+4},f.prototype.writeInt32BE=function(a,d,m){return a=+a,d>>>=0,m||at(this,a,d,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),this[d]=a>>>24,this[d+1]=a>>>16,this[d+2]=a>>>8,this[d+3]=255&a,d+4},f.prototype.writeFloatLE=function(a,d,m){return Ee(this,a,d,!0,m)},f.prototype.writeFloatBE=function(a,d,m){return Ee(this,a,d,!1,m)},f.prototype.writeDoubleLE=function(a,d,m){return Ce(this,a,d,!0,m)},f.prototype.writeDoubleBE=function(a,d,m){return Ce(this,a,d,!1,m)},f.prototype.copy=function(a,d,m,A){if(!f.isBuffer(a))throw new TypeError("argument should be a Buffer");if(m||(m=0),A||A===0||(A=this.length),d>=a.length&&(d=a.length),d||(d=0),0<A&&A<m&&(A=m),A===m||a.length===0||this.length===0)return 0;if(0>d)throw new RangeError("targetStart out of bounds");if(0>m||m>=this.length)throw new RangeError("Index out of range");if(0>A)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),a.length-d<A-m&&(A=a.length-d+m);var O=A-m;if(this===a&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(d,m,A);else if(this===a&&m<d&&d<A)for(var x=O-1;0<=x;--x)a[x+d]=this[x+m];else Uint8Array.prototype.set.call(a,this.subarray(m,A),d);return O},f.prototype.fill=function(a,d,m,A){if(typeof a=="string"){if(typeof d=="string"?(A=d,d=0,m=this.length):typeof m=="string"&&(A=m,m=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!f.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(a.length===1){var O=a.charCodeAt(0);(A==="utf8"&&128>O||A==="latin1")&&(a=O)}}else typeof a=="number"&&(a&=255);if(0>d||this.length<d||this.length<m)throw new RangeError("Out of range index");if(m<=d)return this;d>>>=0,m=m===void 0?this.length:m>>>0,a||(a=0);var x;if(typeof a=="number")for(x=d;x<m;++x)this[x]=a;else{var z=f.isBuffer(a)?a:f.from(a,A),X=z.length;if(X===0)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(x=0;x<m-d;++x)this[x+d]=z[x%X]}return this};var v=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,i("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(i,o,l){(function(c){(function(){function h(){let f;try{f=l.storage.getItem("debug")}catch{}return!f&&typeof c!="undefined"&&"env"in c&&(f=c.env.DEBUG),f}l.formatArgs=function(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;f.splice(1,0,u,"color: inherit");let g=0,y=0;f[0].replace(/%[a-zA-Z%]/g,b=>{b==="%%"||(g++,b==="%c"&&(y=g))}),f.splice(y,0,u)},l.save=function(f){try{f?l.storage.setItem("debug",f):l.storage.removeItem("debug")}catch{}},l.load=h,l.useColors=function(){return!!(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},l.storage=function(){try{return localStorage}catch{}}(),l.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),l.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],l.log=console.debug||console.log||(()=>{}),o.exports=i("./common")(l);const{formatters:p}=o.exports;p.j=function(f){try{return JSON.stringify(f)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}).call(this)}).call(this,i("_process"))},{"./common":5,_process:12}],5:[function(i,o){o.exports=function(l){function c(f){function u(...b){if(!u.enabled)return;const S=u,k=+new Date,L=k-(g||k);S.diff=L,S.prev=g,S.curr=k,g=k,b[0]=c.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let w=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(E,R)=>{if(E==="%%")return"%";w++;const C=c.formatters[R];if(typeof C=="function"){const D=b[w];E=C.call(S,D),b.splice(w,1),w--}return E}),c.formatArgs.call(S,b),(S.log||c.log).apply(S,b)}let g,y=null;return u.namespace=f,u.useColors=c.useColors(),u.color=c.selectColor(f),u.extend=h,u.destroy=c.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:()=>y===null?c.enabled(f):y,set:b=>{y=b}}),typeof c.init=="function"&&c.init(u),u}function h(f,u){const g=c(this.namespace+(typeof u=="undefined"?":":u)+f);return g.log=this.log,g}function p(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}return c.debug=c,c.default=c,c.coerce=function(f){return f instanceof Error?f.stack||f.message:f},c.disable=function(){const f=[...c.names.map(p),...c.skips.map(p).map(u=>"-"+u)].join(",");return c.enable(""),f},c.enable=function(f){c.save(f),c.names=[],c.skips=[];let u;const g=(typeof f=="string"?f:"").split(/[\s,]+/),y=g.length;for(u=0;u<y;u++)g[u]&&(f=g[u].replace(/\*/g,".*?"),f[0]==="-"?c.skips.push(new RegExp("^"+f.substr(1)+"$")):c.names.push(new RegExp("^"+f+"$")))},c.enabled=function(f){if(f[f.length-1]==="*")return!0;let u,g;for(u=0,g=c.skips.length;u<g;u++)if(c.skips[u].test(f))return!1;for(u=0,g=c.names.length;u<g;u++)if(c.names[u].test(f))return!0;return!1},c.humanize=i("ms"),c.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(l).forEach(f=>{c[f]=l[f]}),c.names=[],c.skips=[],c.formatters={},c.selectColor=function(f){let u=0;for(let g=0;g<f.length;g++)u=(u<<5)-u+f.charCodeAt(g),u|=0;return c.colors[r(u)%c.colors.length]},c.enable(c.load()),c}},{ms:11}],6:[function(i,o){function l(c,h){for(const p in h)Object.defineProperty(c,p,{value:h[p],enumerable:!0,configurable:!0});return c}o.exports=function(c,h,p){if(!c||typeof c=="string")throw new TypeError("Please pass an Error to err-code");p||(p={}),typeof h=="object"&&(p=h,h=""),h&&(p.code=h);try{return l(c,p)}catch{p.message=c.message,p.stack=c.stack;const u=function(){};return u.prototype=Object.create(Object.getPrototypeOf(c)),l(new u,p)}}},{}],7:[function(i,o){function l(T){console&&console.warn&&console.warn(T)}function c(){c.init.call(this)}function h(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}function p(T){return T._maxListeners===void 0?c.defaultMaxListeners:T._maxListeners}function f(T,I,U,j){var K,J,tt;if(h(U),J=T._events,J===void 0?(J=T._events=Object.create(null),T._eventsCount=0):(J.newListener!==void 0&&(T.emit("newListener",I,U.listener?U.listener:U),J=T._events),tt=J[I]),tt===void 0)tt=J[I]=U,++T._eventsCount;else if(typeof tt=="function"?tt=J[I]=j?[U,tt]:[tt,U]:j?tt.unshift(U):tt.push(U),K=p(T),0<K&&tt.length>K&&!tt.warned){tt.warned=!0;var mt=new Error("Possible EventEmitter memory leak detected. "+tt.length+" "+(I+" listeners added. Use emitter.setMaxListeners() to increase limit"));mt.name="MaxListenersExceededWarning",mt.emitter=T,mt.type=I,mt.count=tt.length,l(mt)}return T}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(T,I,U){var j={fired:!1,wrapFn:void 0,target:T,type:I,listener:U},K=u.bind(j);return K.listener=U,j.wrapFn=K,K}function y(T,I,U){var j=T._events;if(j===void 0)return[];var K=j[I];return K===void 0?[]:typeof K=="function"?U?[K.listener||K]:[K]:U?L(K):S(K,K.length)}function b(T){var I=this._events;if(I!==void 0){var U=I[T];if(typeof U=="function")return 1;if(U!==void 0)return U.length}return 0}function S(T,I){for(var U=Array(I),j=0;j<I;++j)U[j]=T[j];return U}function k(T,I){for(;I+1<T.length;I++)T[I]=T[I+1];T.pop()}function L(T){for(var I=Array(T.length),U=0;U<I.length;++U)I[U]=T[U].listener||T[U];return I}function w(T,I,U){typeof T.on=="function"&&_(T,"error",I,U)}function _(T,I,U,j){if(typeof T.on=="function")j.once?T.once(I,U):T.on(I,U);else if(typeof T.addEventListener=="function")T.addEventListener(I,function K(J){j.once&&T.removeEventListener(I,K),U(J)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}var E,R=typeof Reflect=="object"?Reflect:null,C=R&&typeof R.apply=="function"?R.apply:function(T,I,U){return Function.prototype.apply.call(T,I,U)};E=R&&typeof R.ownKeys=="function"?R.ownKeys:Object.getOwnPropertySymbols?function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:function(T){return Object.getOwnPropertyNames(T)};var D=Number.isNaN||function(T){return T!==T};o.exports=c,o.exports.once=function(T,I){return new Promise(function(U,j){function K(tt){T.removeListener(I,J),j(tt)}function J(){typeof T.removeListener=="function"&&T.removeListener("error",K),U([].slice.call(arguments))}_(T,I,J,{once:!0}),I!=="error"&&w(T,K,{once:!0})})},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var B=10;Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return B},set:function(T){if(typeof T!="number"||0>T||D(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");B=T}}),c.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(T){if(typeof T!="number"||0>T||D(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this},c.prototype.getMaxListeners=function(){return p(this)},c.prototype.emit=function(T){for(var I=[],U=1;U<arguments.length;U++)I.push(arguments[U]);var j=T==="error",K=this._events;if(K!==void 0)j=j&&K.error===void 0;else if(!j)return!1;if(j){var J;if(0<I.length&&(J=I[0]),J instanceof Error)throw J;var tt=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw tt.context=J,tt}var mt=K[T];if(mt===void 0)return!1;if(typeof mt=="function")C(mt,this,I);else for(var Rt=mt.length,q=S(mt,Rt),U=0;U<Rt;++U)C(q[U],this,I);return!0},c.prototype.addListener=function(T,I){return f(this,T,I,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(T,I){return f(this,T,I,!0)},c.prototype.once=function(T,I){return h(I),this.on(T,g(this,T,I)),this},c.prototype.prependOnceListener=function(T,I){return h(I),this.prependListener(T,g(this,T,I)),this},c.prototype.removeListener=function(T,I){var U,j,K,J,tt;if(h(I),j=this._events,j===void 0)return this;if(U=j[T],U===void 0)return this;if(U===I||U.listener===I)--this._eventsCount==0?this._events=Object.create(null):(delete j[T],j.removeListener&&this.emit("removeListener",T,U.listener||I));else if(typeof U!="function"){for(K=-1,J=U.length-1;0<=J;J--)if(U[J]===I||U[J].listener===I){tt=U[J].listener,K=J;break}if(0>K)return this;K===0?U.shift():k(U,K),U.length===1&&(j[T]=U[0]),j.removeListener!==void 0&&this.emit("removeListener",T,tt||I)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(T){var I,U,j;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[T]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete U[T]),this;if(arguments.length===0){var K,J=Object.keys(U);for(j=0;j<J.length;++j)K=J[j],K!=="removeListener"&&this.removeAllListeners(K);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=U[T],typeof I=="function")this.removeListener(T,I);else if(I!==void 0)for(j=I.length-1;0<=j;j--)this.removeListener(T,I[j]);return this},c.prototype.listeners=function(T){return y(this,T,!0)},c.prototype.rawListeners=function(T){return y(this,T,!1)},c.listenerCount=function(T,I){return typeof T.listenerCount=="function"?T.listenerCount(I):b.call(T,I)},c.prototype.listenerCount=b,c.prototype.eventNames=function(){return 0<this._eventsCount?E(this._events):[]}},{}],8:[function(i,o){o.exports=function(){if(typeof globalThis=="undefined")return null;var l={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return l.RTCPeerConnection?l:null}},{}],9:[function(i,o,l){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */l.read=function(c,h,p,f,u){var g,y,b=8*u-f-1,S=(1<<b)-1,k=S>>1,L=-7,w=p?u-1:0,_=p?-1:1,E=c[h+w];for(w+=_,g=E&(1<<-L)-1,E>>=-L,L+=b;0<L;g=256*g+c[h+w],w+=_,L-=8);for(y=g&(1<<-L)-1,g>>=-L,L+=f;0<L;y=256*y+c[h+w],w+=_,L-=8);if(g===0)g=1-k;else{if(g===S)return y?NaN:(E?-1:1)*(1/0);y+=s(2,f),g-=k}return(E?-1:1)*y*s(2,g-f)},l.write=function(c,h,p,f,u,g){var y,b,S,k=Math.LN2,L=Math.log,w=8*g-u-1,_=(1<<w)-1,E=_>>1,R=u===23?s(2,-24)-s(2,-77):0,C=f?0:g-1,D=f?1:-1,B=0>h||h===0&&0>1/h?1:0;for(h=r(h),isNaN(h)||h===1/0?(b=isNaN(h)?1:0,y=_):(y=n(L(h)/k),1>h*(S=s(2,-y))&&(y--,S*=2),h+=1<=y+E?R/S:R*s(2,1-E),2<=h*S&&(y++,S/=2),y+E>=_?(b=0,y=_):1<=y+E?(b=(h*S-1)*s(2,u),y+=E):(b=h*s(2,E-1)*s(2,u),y=0));8<=u;c[p+C]=255&b,C+=D,b/=256,u-=8);for(y=y<<u|b,w+=u;0<w;c[p+C]=255&y,C+=D,y/=256,w-=8);c[p+C-D]|=128*B}},{}],10:[function(i,o){o.exports=typeof Object.create=="function"?function(l,c){c&&(l.super_=c,l.prototype=Object.create(c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:function(l,c){if(c){l.super_=c;var h=function(){};h.prototype=c.prototype,l.prototype=new h,l.prototype.constructor=l}}},{}],11:[function(i,o){var l=Math.round;function c(u){if(u+="",!(100<u.length)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(g){var y=parseFloat(g[1]),b=(g[2]||"ms").toLowerCase();return b==="years"||b==="year"||b==="yrs"||b==="yr"||b==="y"?315576e5*y:b==="weeks"||b==="week"||b==="w"?6048e5*y:b==="days"||b==="day"||b==="d"?864e5*y:b==="hours"||b==="hour"||b==="hrs"||b==="hr"||b==="h"?36e5*y:b==="minutes"||b==="minute"||b==="mins"||b==="min"||b==="m"?6e4*y:b==="seconds"||b==="second"||b==="secs"||b==="sec"||b==="s"?1e3*y:b==="milliseconds"||b==="millisecond"||b==="msecs"||b==="msec"||b==="ms"?y:void 0}}}function h(u){var g=r(u);return 864e5<=g?l(u/864e5)+"d":36e5<=g?l(u/36e5)+"h":6e4<=g?l(u/6e4)+"m":1e3<=g?l(u/1e3)+"s":u+"ms"}function p(u){var g=r(u);return 864e5<=g?f(u,g,864e5,"day"):36e5<=g?f(u,g,36e5,"hour"):6e4<=g?f(u,g,6e4,"minute"):1e3<=g?f(u,g,1e3,"second"):u+" ms"}function f(u,g,y,b){return l(u/y)+" "+b+(g>=1.5*y?"s":"")}o.exports=function(u,g){g=g||{};var y=typeof u;if(y=="string"&&0<u.length)return c(u);if(y==="number"&&isFinite(u))return g.long?p(u):h(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))}},{}],12:[function(i,o){function l(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function h(R){if(b===setTimeout)return setTimeout(R,0);if((b===l||!b)&&setTimeout)return b=setTimeout,setTimeout(R,0);try{return b(R,0)}catch{try{return b.call(null,R,0)}catch{return b.call(this,R,0)}}}function p(R){if(S===clearTimeout)return clearTimeout(R);if((S===c||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(R);try{return S(R)}catch{try{return S.call(null,R)}catch{return S.call(this,R)}}}function f(){_&&L&&(_=!1,L.length?w=L.concat(w):E=-1,w.length&&u())}function u(){if(!_){var R=h(f);_=!0;for(var C=w.length;C;){for(L=w,w=[];++E<C;)L&&L[E].run();E=-1,C=w.length}L=null,_=!1,p(R)}}function g(R,C){this.fun=R,this.array=C}function y(){}var b,S,k=o.exports={};(function(){try{b=typeof setTimeout=="function"?setTimeout:l}catch{b=l}try{S=typeof clearTimeout=="function"?clearTimeout:c}catch{S=c}})();var L,w=[],_=!1,E=-1;k.nextTick=function(R){var C=Array(arguments.length-1);if(1<arguments.length)for(var D=1;D<arguments.length;D++)C[D-1]=arguments[D];w.push(new g(R,C)),w.length!==1||_||h(u)},g.prototype.run=function(){this.fun.apply(null,this.array)},k.title="browser",k.browser=!0,k.env={},k.argv=[],k.version="",k.versions={},k.on=y,k.addListener=y,k.once=y,k.off=y,k.removeListener=y,k.removeAllListeners=y,k.emit=y,k.prependListener=y,k.prependOnceListener=y,k.listeners=function(){return[]},k.binding=function(){throw new Error("process.binding is not supported")},k.cwd=function(){return"/"},k.chdir=function(){throw new Error("process.chdir is not supported")},k.umask=function(){return 0}},{}],13:[function(i,o){(function(l){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let c;o.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window=="undefined"?l:window):h=>(c||(c=Promise.resolve())).then(h).catch(p=>setTimeout(()=>{throw p},0))}).call(this)}).call(this,typeof zt=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:zt)},{}],14:[function(i,o){(function(l,c){(function(){var h=i("safe-buffer").Buffer,p=c.crypto||c.msCrypto;o.exports=p&&p.getRandomValues?function(f,u){if(f>4294967295)throw new RangeError("requested too many random bytes");var g=h.allocUnsafe(f);if(0<f)if(65536<f)for(var y=0;y<f;y+=65536)p.getRandomValues(g.slice(y,y+65536));else p.getRandomValues(g);return typeof u=="function"?l.nextTick(function(){u(null,g)}):g}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,i("_process"),typeof zt=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:zt)},{_process:12,"safe-buffer":30}],15:[function(i,o){function l(y,b){y.prototype=Object.create(b.prototype),y.prototype.constructor=y,y.__proto__=b}function c(y,b,S){function k(w,_,E){return typeof b=="string"?b:b(w,_,E)}S||(S=Error);var L=function(w){function _(E,R,C){return w.call(this,k(E,R,C))||this}return l(_,w),_}(S);L.prototype.name=S.name,L.prototype.code=y,g[y]=L}function h(y,b){if(Array.isArray(y)){var S=y.length;return y=y.map(function(k){return k+""}),2<S?"one of ".concat(b," ").concat(y.slice(0,S-1).join(", "),", or ")+y[S-1]:S===2?"one of ".concat(b," ").concat(y[0]," or ").concat(y[1]):"of ".concat(b," ").concat(y[0])}return"of ".concat(b," ").concat(y+"")}function p(y,b,S){return y.substr(!S||0>S?0:+S,b.length)===b}function f(y,b,S){return(S===void 0||S>y.length)&&(S=y.length),y.substring(S-b.length,S)===b}function u(y,b,S){return typeof S!="number"&&(S=0),!(S+b.length>y.length)&&y.indexOf(b,S)!==-1}var g={};c("ERR_INVALID_OPT_VALUE",function(y,b){return'The value "'+b+'" is invalid for option "'+y+'"'},TypeError),c("ERR_INVALID_ARG_TYPE",function(y,b,S){var k;typeof b=="string"&&p(b,"not ")?(k="must not be",b=b.replace(/^not /,"")):k="must be";var L;if(f(y," argument"))L="The ".concat(y," ").concat(k," ").concat(h(b,"type"));else{var w=u(y,".")?"property":"argument";L='The "'.concat(y,'" ').concat(w," ").concat(k," ").concat(h(b,"type"))}return L+=". Received type ".concat(typeof S),L},TypeError),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),c("ERR_METHOD_NOT_IMPLEMENTED",function(y){return"The "+y+" method is not implemented"}),c("ERR_STREAM_PREMATURE_CLOSE","Premature close"),c("ERR_STREAM_DESTROYED",function(y){return"Cannot call "+y+" after a stream was destroyed"}),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),c("ERR_STREAM_WRITE_AFTER_END","write after end"),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_UNKNOWN_ENCODING",function(y){return"Unknown encoding: "+y},TypeError),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),o.exports.codes=g},{}],16:[function(i,o){(function(l){(function(){function c(k){return this instanceof c?(u.call(this,k),g.call(this,k),this.allowHalfOpen=!0,void(k&&(k.readable===!1&&(this.readable=!1),k.writable===!1&&(this.writable=!1),k.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h))))):new c(k)}function h(){this._writableState.ended||l.nextTick(p,this)}function p(k){k.end()}var f=Object.keys||function(k){var L=[];for(var w in k)L.push(w);return L};o.exports=c;var u=i("./_stream_readable"),g=i("./_stream_writable");i("inherits")(c,u);for(var y,b=f(g.prototype),S=0;S<b.length;S++)y=b[S],c.prototype[y]||(c.prototype[y]=g.prototype[y]);Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(k){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=k,this._writableState.destroyed=k)}})}).call(this)}).call(this,i("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(i,o){function l(h){return this instanceof l?void c.call(this,h):new l(h)}o.exports=l;var c=i("./_stream_transform");i("inherits")(l,c),l.prototype._transform=function(h,p,f){f(null,h)}},{"./_stream_transform":19,inherits:10}],18:[function(i,o){(function(l,c){(function(){function h(v){return ve.from(v)}function p(v){return ve.isBuffer(v)||v instanceof ft}function f(v,a,d){return typeof v.prependListener=="function"?v.prependListener(a,d):void(v._events&&v._events[a]?Array.isArray(v._events[a])?v._events[a].unshift(d):v._events[a]=[d,v._events[a]]:v.on(a,d))}function u(v,a,d){Rt=Rt||i("./_stream_duplex"),v=v||{},typeof d!="boolean"&&(d=a instanceof Rt),this.objectMode=!!v.objectMode,d&&(this.objectMode=this.objectMode||!!v.readableObjectMode),this.highWaterMark=wn(this,v,"readableHighWaterMark",d),this.buffer=new mn,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=v.emitClose!==!1,this.autoDestroy=!!v.autoDestroy,this.destroyed=!1,this.defaultEncoding=v.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,v.encoding&&(!Bt&&(Bt=i("string_decoder/").StringDecoder),this.decoder=new Bt(v.encoding),this.encoding=v.encoding)}function g(v){if(Rt=Rt||i("./_stream_duplex"),!(this instanceof g))return new g(v);var a=this instanceof Rt;this._readableState=new u(v,this,a),this.readable=!0,v&&(typeof v.read=="function"&&(this._read=v.read),typeof v.destroy=="function"&&(this._destroy=v.destroy)),xt.call(this)}function y(v,a,d,m,A){q("readableAddChunk",a);var O=v._readableState;if(a===null)O.reading=!1,w(v,O);else{var x;if(A||(x=S(O,a)),x)F(v,x);else if(!(O.objectMode||a&&0<a.length))m||(O.reading=!1,R(v,O));else if(typeof a=="string"||O.objectMode||Object.getPrototypeOf(a)===ve.prototype||(a=h(a)),m)O.endEmitted?F(v,new N):b(v,O,a,!0);else if(O.ended)F(v,new Pt);else{if(O.destroyed)return!1;O.reading=!1,O.decoder&&!d?(a=O.decoder.write(a),O.objectMode||a.length!==0?b(v,O,a,!1):R(v,O)):b(v,O,a,!1)}}return!O.ended&&(O.length<O.highWaterMark||O.length===0)}function b(v,a,d,m){a.flowing&&a.length===0&&!a.sync?(a.awaitDrain=0,v.emit("data",d)):(a.length+=a.objectMode?1:d.length,m?a.buffer.unshift(d):a.buffer.push(d),a.needReadable&&_(v)),R(v,a)}function S(v,a){var d;return p(a)||typeof a=="string"||a===void 0||v.objectMode||(d=new Ut("chunk",["string","Buffer","Uint8Array"],a)),d}function k(v){return 1073741824<=v?v=1073741824:(v--,v|=v>>>1,v|=v>>>2,v|=v>>>4,v|=v>>>8,v|=v>>>16,v++),v}function L(v,a){return 0>=v||a.length===0&&a.ended?0:a.objectMode?1:v===v?(v>a.highWaterMark&&(a.highWaterMark=k(v)),v<=a.length?v:a.ended?a.length:(a.needReadable=!0,0)):a.flowing&&a.length?a.buffer.head.data.length:a.length}function w(v,a){if(q("onEofChunk"),!a.ended){if(a.decoder){var d=a.decoder.end();d&&d.length&&(a.buffer.push(d),a.length+=a.objectMode?1:d.length)}a.ended=!0,a.sync?_(v):(a.needReadable=!1,!a.emittedReadable&&(a.emittedReadable=!0,E(v)))}}function _(v){var a=v._readableState;q("emitReadable",a.needReadable,a.emittedReadable),a.needReadable=!1,a.emittedReadable||(q("emitReadable",a.flowing),a.emittedReadable=!0,l.nextTick(E,v))}function E(v){var a=v._readableState;q("emitReadable_",a.destroyed,a.length,a.ended),!a.destroyed&&(a.length||a.ended)&&(v.emit("readable"),a.emittedReadable=!1),a.needReadable=!a.flowing&&!a.ended&&a.length<=a.highWaterMark,j(v)}function R(v,a){a.readingMore||(a.readingMore=!0,l.nextTick(C,v,a))}function C(v,a){for(;!a.reading&&!a.ended&&(a.length<a.highWaterMark||a.flowing&&a.length===0);){var d=a.length;if(q("maybeReadMore read 0"),v.read(0),d===a.length)break}a.readingMore=!1}function D(v){return function(){var a=v._readableState;q("pipeOnDrain",a.awaitDrain),a.awaitDrain&&a.awaitDrain--,a.awaitDrain===0&&Ge(v,"data")&&(a.flowing=!0,j(v))}}function B(v){var a=v._readableState;a.readableListening=0<v.listenerCount("readable"),a.resumeScheduled&&!a.paused?a.flowing=!0:0<v.listenerCount("data")&&v.resume()}function T(v){q("readable nexttick read 0"),v.read(0)}function I(v,a){a.resumeScheduled||(a.resumeScheduled=!0,l.nextTick(U,v,a))}function U(v,a){q("resume",a.reading),a.reading||v.read(0),a.resumeScheduled=!1,v.emit("resume"),j(v),a.flowing&&!a.reading&&v.read(0)}function j(v){var a=v._readableState;for(q("flow",a.flowing);a.flowing&&v.read()!==null;);}function K(v,a){if(a.length===0)return null;var d;return a.objectMode?d=a.buffer.shift():!v||v>=a.length?(d=a.decoder?a.buffer.join(""):a.buffer.length===1?a.buffer.first():a.buffer.concat(a.length),a.buffer.clear()):d=a.buffer.consume(v,a.decoder),d}function J(v){var a=v._readableState;q("endReadable",a.endEmitted),a.endEmitted||(a.ended=!0,l.nextTick(tt,a,v))}function tt(v,a){if(q("endReadableNT",v.endEmitted,v.length),!v.endEmitted&&v.length===0&&(v.endEmitted=!0,a.readable=!1,a.emit("end"),v.autoDestroy)){var d=a._writableState;(!d||d.autoDestroy&&d.finished)&&a.destroy()}}function mt(v,a){for(var d=0,m=v.length;d<m;d++)if(v[d]===a)return d;return-1}o.exports=g;var Rt;g.ReadableState=u;var q;i("events").EventEmitter;var Ge=function(v,a){return v.listeners(a).length},xt=i("./internal/streams/stream"),ve=i("buffer").Buffer,ft=c.Uint8Array||function(){},at=i("util");q=at&&at.debuglog?at.debuglog("stream"):function(){};var Bt,Ee,Ce,mn=i("./internal/streams/buffer_list"),Me=i("./internal/streams/destroy"),Ne=i("./internal/streams/state"),wn=Ne.getHighWaterMark,Se=i("../errors").codes,Ut=Se.ERR_INVALID_ARG_TYPE,Pt=Se.ERR_STREAM_PUSH_AFTER_EOF,M=Se.ERR_METHOD_NOT_IMPLEMENTED,N=Se.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i("inherits")(g,xt);var F=Me.errorOrDestroy,H=["error","close","destroy","pause","resume"];Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(v){this._readableState&&(this._readableState.destroyed=v)}}),g.prototype.destroy=Me.destroy,g.prototype._undestroy=Me.undestroy,g.prototype._destroy=function(v,a){a(v)},g.prototype.push=function(v,a){var d,m=this._readableState;return m.objectMode?d=!0:typeof v=="string"&&(a=a||m.defaultEncoding,a!==m.encoding&&(v=ve.from(v,a),a=""),d=!0),y(this,v,a,!1,d)},g.prototype.unshift=function(v){return y(this,v,null,!0,!1)},g.prototype.isPaused=function(){return this._readableState.flowing===!1},g.prototype.setEncoding=function(v){Bt||(Bt=i("string_decoder/").StringDecoder);var a=new Bt(v);this._readableState.decoder=a,this._readableState.encoding=this._readableState.decoder.encoding;for(var d=this._readableState.buffer.head,m="";d!==null;)m+=a.write(d.data),d=d.next;return this._readableState.buffer.clear(),m!==""&&this._readableState.buffer.push(m),this._readableState.length=m.length,this},g.prototype.read=function(v){q("read",v),v=parseInt(v,10);var a=this._readableState,d=v;if(v!==0&&(a.emittedReadable=!1),v===0&&a.needReadable&&((a.highWaterMark===0?0<a.length:a.length>=a.highWaterMark)||a.ended))return q("read: emitReadable",a.length,a.ended),a.length===0&&a.ended?J(this):_(this),null;if(v=L(v,a),v===0&&a.ended)return a.length===0&&J(this),null;var m=a.needReadable;q("need readable",m),(a.length===0||a.length-v<a.highWaterMark)&&(m=!0,q("length less than watermark",m)),a.ended||a.reading?(m=!1,q("reading or ended",m)):m&&(q("do read"),a.reading=!0,a.sync=!0,a.length===0&&(a.needReadable=!0),this._read(a.highWaterMark),a.sync=!1,!a.reading&&(v=L(d,a)));var A;return A=0<v?K(v,a):null,A===null?(a.needReadable=a.length<=a.highWaterMark,v=0):(a.length-=v,a.awaitDrain=0),a.length===0&&(!a.ended&&(a.needReadable=!0),d!==v&&a.ended&&J(this)),A!==null&&this.emit("data",A),A},g.prototype._read=function(){F(this,new M("_read()"))},g.prototype.pipe=function(v,a){function d(Qe,Ze){q("onunpipe"),Qe===Q&&Ze&&Ze.hasUnpiped===!1&&(Ze.hasUnpiped=!0,A())}function m(){q("onend"),v.end()}function A(){q("cleanup"),v.removeListener("close",z),v.removeListener("finish",X),v.removeListener("drain",Xe),v.removeListener("error",x),v.removeListener("unpipe",d),Q.removeListener("end",m),Q.removeListener("end",ct),Q.removeListener("data",O),bn=!0,G.awaitDrain&&(!v._writableState||v._writableState.needDrain)&&Xe()}function O(Qe){q("ondata");var Ze=v.write(Qe);q("dest.write",Ze),Ze===!1&&((G.pipesCount===1&&G.pipes===v||1<G.pipesCount&&mt(G.pipes,v)!==-1)&&!bn&&(q("false write response, pause",G.awaitDrain),G.awaitDrain++),Q.pause())}function x(Qe){q("onerror",Qe),ct(),v.removeListener("error",x),Ge(v,"error")===0&&F(v,Qe)}function z(){v.removeListener("finish",X),ct()}function X(){q("onfinish"),v.removeListener("close",z),ct()}function ct(){q("unpipe"),Q.unpipe(v)}var Q=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=v;break;case 1:G.pipes=[G.pipes,v];break;default:G.pipes.push(v)}G.pipesCount+=1,q("pipe count=%d opts=%j",G.pipesCount,a);var Ct=(!a||a.end!==!1)&&v!==l.stdout&&v!==l.stderr,xe=Ct?m:ct;G.endEmitted?l.nextTick(xe):Q.once("end",xe),v.on("unpipe",d);var Xe=D(Q);v.on("drain",Xe);var bn=!1;return Q.on("data",O),f(v,"error",x),v.once("close",z),v.once("finish",X),v.emit("pipe",Q),G.flowing||(q("pipe resume"),Q.resume()),v},g.prototype.unpipe=function(v){var a=this._readableState,d={hasUnpiped:!1};if(a.pipesCount===0)return this;if(a.pipesCount===1)return v&&v!==a.pipes?this:(v||(v=a.pipes),a.pipes=null,a.pipesCount=0,a.flowing=!1,v&&v.emit("unpipe",this,d),this);if(!v){var m=a.pipes,A=a.pipesCount;a.pipes=null,a.pipesCount=0,a.flowing=!1;for(var O=0;O<A;O++)m[O].emit("unpipe",this,{hasUnpiped:!1});return this}var x=mt(a.pipes,v);return x===-1?this:(a.pipes.splice(x,1),a.pipesCount-=1,a.pipesCount===1&&(a.pipes=a.pipes[0]),v.emit("unpipe",this,d),this)},g.prototype.on=function(v,a){var d=xt.prototype.on.call(this,v,a),m=this._readableState;return v==="data"?(m.readableListening=0<this.listenerCount("readable"),m.flowing!==!1&&this.resume()):v=="readable"&&!m.endEmitted&&!m.readableListening&&(m.readableListening=m.needReadable=!0,m.flowing=!1,m.emittedReadable=!1,q("on readable",m.length,m.reading),m.length?_(this):!m.reading&&l.nextTick(T,this)),d},g.prototype.addListener=g.prototype.on,g.prototype.removeListener=function(v,a){var d=xt.prototype.removeListener.call(this,v,a);return v==="readable"&&l.nextTick(B,this),d},g.prototype.removeAllListeners=function(v){var a=xt.prototype.removeAllListeners.apply(this,arguments);return(v==="readable"||v===void 0)&&l.nextTick(B,this),a},g.prototype.resume=function(){var v=this._readableState;return v.flowing||(q("resume"),v.flowing=!v.readableListening,I(this,v)),v.paused=!1,this},g.prototype.pause=function(){return q("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(q("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},g.prototype.wrap=function(v){var a=this,d=this._readableState,m=!1;for(var A in v.on("end",function(){if(q("wrapped end"),d.decoder&&!d.ended){var x=d.decoder.end();x&&x.length&&a.push(x)}a.push(null)}),v.on("data",function(x){if(q("wrapped data"),d.decoder&&(x=d.decoder.write(x)),!(d.objectMode&&x==null)&&(d.objectMode||x&&x.length)){var z=a.push(x);z||(m=!0,v.pause())}}),v)this[A]===void 0&&typeof v[A]=="function"&&(this[A]=function(x){return function(){return v[x].apply(v,arguments)}}(A));for(var O=0;O<H.length;O++)v.on(H[O],this.emit.bind(this,H[O]));return this._read=function(x){q("wrapped _read",x),m&&(m=!1,v.resume())},this},typeof Symbol=="function"&&(g.prototype[Symbol.asyncIterator]=function(){return Ee===void 0&&(Ee=i("./internal/streams/async_iterator")),Ee(this)}),Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(g.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(g.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(v){this._readableState&&(this._readableState.flowing=v)}}),g._fromList=K,Object.defineProperty(g.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(g.from=function(v,a){return Ce===void 0&&(Ce=i("./internal/streams/from")),Ce(g,v,a)})}).call(this)}).call(this,i("_process"),typeof zt=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:zt)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(i,o){function l(k,L){var w=this._transformState;w.transforming=!1;var _=w.writecb;if(_===null)return this.emit("error",new g);w.writechunk=null,w.writecb=null,L!=null&&this.push(L),_(k);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function c(k){return this instanceof c?(S.call(this,k),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,k&&(typeof k.transform=="function"&&(this._transform=k.transform),typeof k.flush=="function"&&(this._flush=k.flush)),void this.on("prefinish",h)):new c(k)}function h(){var k=this;typeof this._flush!="function"||this._readableState.destroyed?p(this,null,null):this._flush(function(L,w){p(k,L,w)})}function p(k,L,w){if(L)return k.emit("error",L);if(w!=null&&k.push(w),k._writableState.length)throw new b;if(k._transformState.transforming)throw new y;return k.push(null)}o.exports=c;var f=i("../errors").codes,u=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,y=f.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=f.ERR_TRANSFORM_WITH_LENGTH_0,S=i("./_stream_duplex");i("inherits")(c,S),c.prototype.push=function(k,L){return this._transformState.needTransform=!1,S.prototype.push.call(this,k,L)},c.prototype._transform=function(k,L,w){w(new u("_transform()"))},c.prototype._write=function(k,L,w){var _=this._transformState;if(_.writecb=w,_.writechunk=k,_.writeencoding=L,!_.transforming){var E=this._readableState;(_.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},c.prototype._read=function(){var k=this._transformState;k.writechunk===null||k.transforming?k.needTransform=!0:(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform))},c.prototype._destroy=function(k,L){S.prototype._destroy.call(this,k,function(w){L(w)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(i,o){(function(l,c){(function(){function h(M){var N=this;this.next=null,this.entry=null,this.finish=function(){J(N,M)}}function p(M){return q.from(M)}function f(M){return q.isBuffer(M)||M instanceof Ge}function u(){}function g(M,N,F){tt=tt||i("./_stream_duplex"),M=M||{},typeof F!="boolean"&&(F=N instanceof tt),this.objectMode=!!M.objectMode,F&&(this.objectMode=this.objectMode||!!M.writableObjectMode),this.highWaterMark=ft(this,M,"writableHighWaterMark",F),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var H=M.decodeStrings===!1;this.decodeStrings=!H,this.defaultEncoding=M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(v){R(N,v)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}function y(M){tt=tt||i("./_stream_duplex");var N=this instanceof tt;return N||Pt.call(y,this)?(this._writableState=new g(M,this,N),this.writable=!0,M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final)),void Rt.call(this)):new y(M)}function b(M,N){var F=new wn;Ut(M,F),l.nextTick(N,F)}function S(M,N,F,H){var v;return F===null?v=new Ne:typeof F!="string"&&!N.objectMode&&(v=new Bt("chunk",["string","Buffer"],F)),!v||(Ut(M,v),l.nextTick(H,v),!1)}function k(M,N,F){return M.objectMode||M.decodeStrings===!1||typeof N!="string"||(N=q.from(N,F)),N}function L(M,N,F,H,v,a){if(!F){var d=k(N,H,v);H!==d&&(F=!0,v="buffer",H=d)}var m=N.objectMode?1:H.length;N.length+=m;var A=N.length<N.highWaterMark;if(A||(N.needDrain=!0),N.writing||N.corked){var O=N.lastBufferedRequest;N.lastBufferedRequest={chunk:H,encoding:v,isBuf:F,callback:a,next:null},O?O.next=N.lastBufferedRequest:N.bufferedRequest=N.lastBufferedRequest,N.bufferedRequestCount+=1}else w(M,N,!1,m,H,v,a);return A}function w(M,N,F,H,v,a,d){N.writelen=H,N.writecb=d,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new Me("write")):F?M._writev(v,N.onwrite):M._write(v,a,N.onwrite),N.sync=!1}function _(M,N,F,H,v){--N.pendingcb,F?(l.nextTick(v,H),l.nextTick(j,M,N),M._writableState.errorEmitted=!0,Ut(M,H)):(v(H),M._writableState.errorEmitted=!0,Ut(M,H),j(M,N))}function E(M){M.writing=!1,M.writecb=null,M.length-=M.writelen,M.writelen=0}function R(M,N){var F=M._writableState,H=F.sync,v=F.writecb;if(typeof v!="function")throw new Ce;if(E(F),N)_(M,F,H,N,v);else{var a=T(F)||M.destroyed;a||F.corked||F.bufferProcessing||!F.bufferedRequest||B(M,F),H?l.nextTick(C,M,F,a,v):C(M,F,a,v)}}function C(M,N,F,H){F||D(M,N),N.pendingcb--,H(),j(M,N)}function D(M,N){N.length===0&&N.needDrain&&(N.needDrain=!1,M.emit("drain"))}function B(M,N){N.bufferProcessing=!0;var F=N.bufferedRequest;if(M._writev&&F&&F.next){var H=N.bufferedRequestCount,v=Array(H),a=N.corkedRequestsFree;a.entry=F;for(var d=0,m=!0;F;)v[d]=F,F.isBuf||(m=!1),F=F.next,d+=1;v.allBuffers=m,w(M,N,!0,N.length,v,"",a.finish),N.pendingcb++,N.lastBufferedRequest=null,a.next?(N.corkedRequestsFree=a.next,a.next=null):N.corkedRequestsFree=new h(N),N.bufferedRequestCount=0}else{for(;F;){var A=F.chunk,O=F.encoding,x=F.callback,z=N.objectMode?1:A.length;if(w(M,N,!1,z,A,O,x),F=F.next,N.bufferedRequestCount--,N.writing)break}F===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=F,N.bufferProcessing=!1}function T(M){return M.ending&&M.length===0&&M.bufferedRequest===null&&!M.finished&&!M.writing}function I(M,N){M._final(function(F){N.pendingcb--,F&&Ut(M,F),N.prefinished=!0,M.emit("prefinish"),j(M,N)})}function U(M,N){N.prefinished||N.finalCalled||(typeof M._final!="function"||N.destroyed?(N.prefinished=!0,M.emit("prefinish")):(N.pendingcb++,N.finalCalled=!0,l.nextTick(I,M,N)))}function j(M,N){var F=T(N);if(F&&(U(M,N),N.pendingcb===0&&(N.finished=!0,M.emit("finish"),N.autoDestroy))){var H=M._readableState;(!H||H.autoDestroy&&H.endEmitted)&&M.destroy()}return F}function K(M,N,F){N.ending=!0,j(M,N),F&&(N.finished?l.nextTick(F):M.once("finish",F)),N.ended=!0,M.writable=!1}function J(M,N,F){var H=M.entry;for(M.entry=null;H;){var v=H.callback;N.pendingcb--,v(F),H=H.next}N.corkedRequestsFree.next=M}o.exports=y;var tt;y.WritableState=g;var mt={deprecate:i("util-deprecate")},Rt=i("./internal/streams/stream"),q=i("buffer").Buffer,Ge=c.Uint8Array||function(){},xt=i("./internal/streams/destroy"),ve=i("./internal/streams/state"),ft=ve.getHighWaterMark,at=i("../errors").codes,Bt=at.ERR_INVALID_ARG_TYPE,Ee=at.ERR_METHOD_NOT_IMPLEMENTED,Ce=at.ERR_MULTIPLE_CALLBACK,mn=at.ERR_STREAM_CANNOT_PIPE,Me=at.ERR_STREAM_DESTROYED,Ne=at.ERR_STREAM_NULL_VALUES,wn=at.ERR_STREAM_WRITE_AFTER_END,Se=at.ERR_UNKNOWN_ENCODING,Ut=xt.errorOrDestroy;i("inherits")(y,Rt),g.prototype.getBuffer=function(){for(var M=this.bufferedRequest,N=[];M;)N.push(M),M=M.next;return N},function(){try{Object.defineProperty(g.prototype,"buffer",{get:mt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Pt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Pt=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(M){return!!Pt.call(this,M)||this===y&&M&&M._writableState instanceof g}})):Pt=function(M){return M instanceof this},y.prototype.pipe=function(){Ut(this,new mn)},y.prototype.write=function(M,N,F){var H=this._writableState,v=!1,a=!H.objectMode&&f(M);return a&&!q.isBuffer(M)&&(M=p(M)),typeof N=="function"&&(F=N,N=null),a?N="buffer":!N&&(N=H.defaultEncoding),typeof F!="function"&&(F=u),H.ending?b(this,F):(a||S(this,H,M,F))&&(H.pendingcb++,v=L(this,H,a,M,N,F)),v},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var M=this._writableState;M.corked&&(M.corked--,!M.writing&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&B(this,M))},y.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=M.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((M+"").toLowerCase())))throw new Se(M);return this._writableState.defaultEncoding=M,this},Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(M,N,F){F(new Ee("_write()"))},y.prototype._writev=null,y.prototype.end=function(M,N,F){var H=this._writableState;return typeof M=="function"?(F=M,M=null,N=null):typeof N=="function"&&(F=N,N=null),M!=null&&this.write(M,N),H.corked&&(H.corked=1,this.uncork()),H.ending||K(this,H,F),this},Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(M){this._writableState&&(this._writableState.destroyed=M)}}),y.prototype.destroy=xt.destroy,y.prototype._undestroy=xt.undestroy,y.prototype._destroy=function(M,N){N(M)}}).call(this)}).call(this,i("_process"),typeof zt=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:zt)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(i,o){(function(l){(function(){function c(D,B,T){return B in D?Object.defineProperty(D,B,{value:T,enumerable:!0,configurable:!0,writable:!0}):D[B]=T,D}function h(D,B){return{value:D,done:B}}function p(D){var B=D[b];if(B!==null){var T=D[E].read();T!==null&&(D[w]=null,D[b]=null,D[S]=null,B(h(T,!1)))}}function f(D){l.nextTick(p,D)}function u(D,B){return function(T,I){D.then(function(){return B[L]?void T(h(void 0,!0)):void B[_](T,I)},I)}}var g,y=i("./end-of-stream"),b=Symbol("lastResolve"),S=Symbol("lastReject"),k=Symbol("error"),L=Symbol("ended"),w=Symbol("lastPromise"),_=Symbol("handlePromise"),E=Symbol("stream"),R=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((g={get stream(){return this[E]},next:function(){var D=this,B=this[k];if(B!==null)return Promise.reject(B);if(this[L])return Promise.resolve(h(void 0,!0));if(this[E].destroyed)return new Promise(function(j,K){l.nextTick(function(){D[k]?K(D[k]):j(h(void 0,!0))})});var T,I=this[w];if(I)T=new Promise(u(I,this));else{var U=this[E].read();if(U!==null)return Promise.resolve(h(U,!1));T=new Promise(this[_])}return this[w]=T,T}},c(g,Symbol.asyncIterator,function(){return this}),c(g,"return",function(){var D=this;return new Promise(function(B,T){D[E].destroy(null,function(I){return I?void T(I):void B(h(void 0,!0))})})}),g),R);o.exports=function(D){var B,T=Object.create(C,(B={},c(B,E,{value:D,writable:!0}),c(B,b,{value:null,writable:!0}),c(B,S,{value:null,writable:!0}),c(B,k,{value:null,writable:!0}),c(B,L,{value:D._readableState.endEmitted,writable:!0}),c(B,_,{value:function(I,U){var j=T[E].read();j?(T[w]=null,T[b]=null,T[S]=null,I(h(j,!1))):(T[b]=I,T[S]=U)},writable:!0}),B));return T[w]=null,y(D,function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=T[S];return U!==null&&(T[w]=null,T[b]=null,T[S]=null,U(I)),void(T[k]=I)}var j=T[b];j!==null&&(T[w]=null,T[b]=null,T[S]=null,j(h(void 0,!0))),T[L]=!0}),D.on("readable",f.bind(null,T)),T}}).call(this)}).call(this,i("_process"))},{"./end-of-stream":24,_process:12}],22:[function(i,o){function l(w,_){var E=Object.keys(w);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(w);_&&(R=R.filter(function(C){return Object.getOwnPropertyDescriptor(w,C).enumerable})),E.push.apply(E,R)}return E}function c(w){for(var _,E=1;E<arguments.length;E++)_=arguments[E]==null?{}:arguments[E],E%2?l(Object(_),!0).forEach(function(R){h(w,R,_[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(_)):l(Object(_)).forEach(function(R){Object.defineProperty(w,R,Object.getOwnPropertyDescriptor(_,R))});return w}function h(w,_,E){return _ in w?Object.defineProperty(w,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):w[_]=E,w}function p(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function f(w,_){for(var E,R=0;R<_.length;R++)E=_[R],E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}function u(w,_,E){return _&&f(w.prototype,_),E&&f(w,E),w}function g(w,_,E){b.prototype.copy.call(w,_,E)}var y=i("buffer"),b=y.Buffer,S=i("util"),k=S.inspect,L=k&&k.custom||"inspect";o.exports=function(){function w(){p(this,w),this.head=null,this.tail=null,this.length=0}return u(w,[{key:"push",value:function(_){var E={data:_,next:null};0<this.length?this.tail.next=E:this.head=E,this.tail=E,++this.length}},{key:"unshift",value:function(_){var E={data:_,next:this.head};this.length===0&&(this.tail=E),this.head=E,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var E=this.head,R=""+E.data;E=E.next;)R+=_+E.data;return R}},{key:"concat",value:function(_){if(this.length===0)return b.alloc(0);for(var E=b.allocUnsafe(_>>>0),R=this.head,C=0;R;)g(R.data,E,C),C+=R.data.length,R=R.next;return E}},{key:"consume",value:function(_,E){var R;return _<this.head.data.length?(R=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?R=this.shift():R=E?this._getString(_):this._getBuffer(_),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var E=this.head,R=1,C=E.data;for(_-=C.length;E=E.next;){var D=E.data,B=_>D.length?D.length:_;if(C+=B===D.length?D:D.slice(0,_),_-=B,_===0){B===D.length?(++R,this.head=E.next?E.next:this.tail=null):(this.head=E,E.data=D.slice(B));break}++R}return this.length-=R,C}},{key:"_getBuffer",value:function(_){var E=b.allocUnsafe(_),R=this.head,C=1;for(R.data.copy(E),_-=R.data.length;R=R.next;){var D=R.data,B=_>D.length?D.length:_;if(D.copy(E,E.length-_,0,B),_-=B,_===0){B===D.length?(++C,this.head=R.next?R.next:this.tail=null):(this.head=R,R.data=D.slice(B));break}++C}return this.length-=C,E}},{key:L,value:function(_,E){return k(this,c({},E,{depth:0,customInspect:!1}))}}]),w}()},{buffer:3,util:2}],23:[function(i,o){(function(l){(function(){function c(f,u){p(f,u),h(f)}function h(f){f._writableState&&!f._writableState.emitClose||f._readableState&&!f._readableState.emitClose||f.emit("close")}function p(f,u){f.emit("error",u)}o.exports={destroy:function(f,u){var g=this,y=this._readableState&&this._readableState.destroyed,b=this._writableState&&this._writableState.destroyed;return y||b?(u?u(f):f&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,l.nextTick(p,this,f)):l.nextTick(p,this,f)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(f||null,function(S){!u&&S?g._writableState?g._writableState.errorEmitted?l.nextTick(h,g):(g._writableState.errorEmitted=!0,l.nextTick(c,g,S)):l.nextTick(c,g,S):u?(l.nextTick(h,g),u(S)):l.nextTick(h,g)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(f,u){var g=f._readableState,y=f._writableState;g&&g.autoDestroy||y&&y.autoDestroy?f.destroy(u):f.emit("error",u)}}}).call(this)}).call(this,i("_process"))},{_process:12}],24:[function(i,o){function l(u){var g=!1;return function(){if(!g){g=!0;for(var y=arguments.length,b=Array(y),S=0;S<y;S++)b[S]=arguments[S];u.apply(this,b)}}}function c(){}function h(u){return u.setHeader&&typeof u.abort=="function"}function p(u,g,y){if(typeof g=="function")return p(u,null,g);g||(g={}),y=l(y||c);var b=g.readable||g.readable!==!1&&u.readable,S=g.writable||g.writable!==!1&&u.writable,k=function(){u.writable||w()},L=u._writableState&&u._writableState.finished,w=function(){S=!1,L=!0,b||y.call(u)},_=u._readableState&&u._readableState.endEmitted,E=function(){b=!1,_=!0,S||y.call(u)},R=function(B){y.call(u,B)},C=function(){var B;return b&&!_?(u._readableState&&u._readableState.ended||(B=new f),y.call(u,B)):S&&!L?(u._writableState&&u._writableState.ended||(B=new f),y.call(u,B)):void 0},D=function(){u.req.on("finish",w)};return h(u)?(u.on("complete",w),u.on("abort",C),u.req?D():u.on("request",D)):S&&!u._writableState&&(u.on("end",k),u.on("close",k)),u.on("end",E),u.on("finish",w),g.error!==!1&&u.on("error",R),u.on("close",C),function(){u.removeListener("complete",w),u.removeListener("abort",C),u.removeListener("request",D),u.req&&u.req.removeListener("finish",w),u.removeListener("end",k),u.removeListener("close",k),u.removeListener("finish",w),u.removeListener("end",E),u.removeListener("error",R),u.removeListener("close",C)}}var f=i("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;o.exports=p},{"../../../errors":15}],25:[function(i,o){o.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(i,o){function l(L){var w=!1;return function(){w||(w=!0,L.apply(void 0,arguments))}}function c(L){if(L)throw L}function h(L){return L.setHeader&&typeof L.abort=="function"}function p(L,w,_,E){E=l(E);var R=!1;L.on("close",function(){R=!0}),y===void 0&&(y=i("./end-of-stream")),y(L,{readable:w,writable:_},function(D){return D?E(D):(R=!0,void E())});var C=!1;return function(D){if(!R)return C?void 0:(C=!0,h(L)?L.abort():typeof L.destroy=="function"?L.destroy():void E(D||new k("pipe")))}}function f(L){L()}function u(L,w){return L.pipe(w)}function g(L){return L.length&&typeof L[L.length-1]=="function"?L.pop():c}var y,b=i("../../../errors").codes,S=b.ERR_MISSING_ARGS,k=b.ERR_STREAM_DESTROYED;o.exports=function(){for(var L=arguments.length,w=Array(L),_=0;_<L;_++)w[_]=arguments[_];var E=g(w);if(Array.isArray(w[0])&&(w=w[0]),2>w.length)throw new S("streams");var R,C=w.map(function(D,B){var T=B<w.length-1;return p(D,T,0<B,function(I){R||(R=I),I&&C.forEach(f),T||(C.forEach(f),E(R))})});return w.reduce(u)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(i,o){function l(h,p,f){return h.highWaterMark==null?p?h[f]:null:h.highWaterMark}var c=i("../../../errors").codes.ERR_INVALID_OPT_VALUE;o.exports={getHighWaterMark:function(h,p,f,u){var g=l(p,u,f);if(g!=null){if(!(isFinite(g)&&n(g)===g)||0>g){var y=u?f:"highWaterMark";throw new c(y,g)}return n(g)}return h.objectMode?16:16384}}},{"../../../errors":15}],28:[function(i,o){o.exports=i("events").EventEmitter},{events:7}],29:[function(i,o,l){l=o.exports=i("./lib/_stream_readable.js"),l.Stream=l,l.Readable=l,l.Writable=i("./lib/_stream_writable.js"),l.Duplex=i("./lib/_stream_duplex.js"),l.Transform=i("./lib/_stream_transform.js"),l.PassThrough=i("./lib/_stream_passthrough.js"),l.finished=i("./lib/internal/streams/end-of-stream.js"),l.pipeline=i("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(i,o,l){function c(u,g){for(var y in u)g[y]=u[y]}function h(u,g,y){return f(u,g,y)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var p=i("buffer"),f=p.Buffer;f.from&&f.alloc&&f.allocUnsafe&&f.allocUnsafeSlow?o.exports=p:(c(p,l),l.Buffer=h),h.prototype=Object.create(f.prototype),c(f,h),h.from=function(u,g,y){if(typeof u=="number")throw new TypeError("Argument must not be a number");return f(u,g,y)},h.alloc=function(u,g,y){if(typeof u!="number")throw new TypeError("Argument must be a number");var b=f(u);return g===void 0?b.fill(0):typeof y=="string"?b.fill(g,y):b.fill(g),b},h.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return f(u)},h.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return p.SlowBuffer(u)}},{buffer:3}],31:[function(i,o,l){function c(C){if(!C)return"utf8";for(var D;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(D)return;C=(""+C).toLowerCase(),D=!0}}function h(C){var D=c(C);if(typeof D!="string"&&(E.isEncoding===R||!R(C)))throw new Error("Unknown encoding: "+C);return D||C}function p(C){this.encoding=h(C);var D;switch(this.encoding){case"utf16le":this.text=b,this.end=S,D=4;break;case"utf8":this.fillLast=y,D=4;break;case"base64":this.text=k,this.end=L,D=3;break;default:return this.write=w,void(this.end=_)}this.lastNeed=0,this.lastTotal=0,this.lastChar=E.allocUnsafe(D)}function f(C){return 127>=C?0:C>>5==6?2:C>>4==14?3:C>>3==30?4:C>>6==2?-1:-2}function u(C,D,B){var T=D.length-1;if(T<B)return 0;var I=f(D[T]);return 0<=I?(0<I&&(C.lastNeed=I-1),I):--T<B||I===-2?0:(I=f(D[T]),0<=I?(0<I&&(C.lastNeed=I-2),I):--T<B||I===-2?0:(I=f(D[T]),0<=I?(0<I&&(I===2?I=0:C.lastNeed=I-3),I):0))}function g(C,D){if((192&D[0])!=128)return C.lastNeed=0,"\uFFFD";if(1<C.lastNeed&&1<D.length){if((192&D[1])!=128)return C.lastNeed=1,"\uFFFD";if(2<C.lastNeed&&2<D.length&&(192&D[2])!=128)return C.lastNeed=2,"\uFFFD"}}function y(C){var D=this.lastTotal-this.lastNeed,B=g(this,C);return B===void 0?this.lastNeed<=C.length?(C.copy(this.lastChar,D,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(C.copy(this.lastChar,D,0,C.length),void(this.lastNeed-=C.length)):B}function b(C,D){if((C.length-D)%2==0){var B=C.toString("utf16le",D);if(B){var T=B.charCodeAt(B.length-1);if(55296<=T&&56319>=T)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1],B.slice(0,-1)}return B}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=C[C.length-1],C.toString("utf16le",D,C.length-1)}function S(C){var D=C&&C.length?this.write(C):"";if(this.lastNeed){var B=this.lastTotal-this.lastNeed;return D+this.lastChar.toString("utf16le",0,B)}return D}function k(C,D){var B=(C.length-D)%3;return B==0?C.toString("base64",D):(this.lastNeed=3-B,this.lastTotal=3,B==1?this.lastChar[0]=C[C.length-1]:(this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1]),C.toString("base64",D,C.length-B))}function L(C){var D=C&&C.length?this.write(C):"";return this.lastNeed?D+this.lastChar.toString("base64",0,3-this.lastNeed):D}function w(C){return C.toString(this.encoding)}function _(C){return C&&C.length?this.write(C):""}var E=i("safe-buffer").Buffer,R=E.isEncoding||function(C){switch(C=""+C,C&&C.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};l.StringDecoder=p,p.prototype.write=function(C){if(C.length===0)return"";var D,B;if(this.lastNeed){if(D=this.fillLast(C),D===void 0)return"";B=this.lastNeed,this.lastNeed=0}else B=0;return B<C.length?D?D+this.text(C,B):this.text(C,B):D||""},p.prototype.end=function(C){var D=C&&C.length?this.write(C):"";return this.lastNeed?D+"\uFFFD":D},p.prototype.text=function(C,D){var B=u(this,C,D);if(!this.lastNeed)return C.toString("utf8",D);this.lastTotal=B;var T=C.length-(B-this.lastNeed);return C.copy(this.lastChar,0,T),C.toString("utf8",D,T)},p.prototype.fillLast=function(C){return this.lastNeed<=C.length?(C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,C.length),void(this.lastNeed-=C.length))}},{"safe-buffer":30}],32:[function(i,o){(function(l){(function(){function c(h){try{if(!l.localStorage)return!1}catch{return!1}var p=l.localStorage[h];return p!=null&&(p+"").toLowerCase()==="true"}o.exports=function(h,p){function f(){if(!u){if(c("throwDeprecation"))throw new Error(p);c("traceDeprecation")?console.trace(p):console.warn(p),u=!0}return h.apply(this,arguments)}if(c("noDeprecation"))return h;var u=!1;return f}}).call(this)}).call(this,typeof zt=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:zt)},{}],"/":[function(i,o){function l(L){return L.replace(/a=ice-options:trickle\s\n/g,"")}function c(L){console.warn(L)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const h=i("debug")("simple-peer"),p=i("get-browser-rtc"),f=i("randombytes"),u=i("readable-stream"),g=i("queue-microtask"),y=i("err-code"),{Buffer:b}=i("buffer"),S=65536;class k extends u.Duplex{constructor(w){if(w=Object.assign({allowHalfOpen:!1},w),super(w),this._id=f(4).toString("hex").slice(0,7),this._debug("new peer %o",w),this.channelName=w.initiator?w.channelName||f(20).toString("hex"):null,this.initiator=w.initiator||!1,this.channelConfig=w.channelConfig||k.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},k.config,w.config),this.offerOptions=w.offerOptions||{},this.answerOptions=w.answerOptions||{},this.sdpTransform=w.sdpTransform||(_=>_),this.streams=w.streams||(w.stream?[w.stream]:[]),this.trickle=w.trickle===void 0||w.trickle,this.allowHalfTrickle=w.allowHalfTrickle!==void 0&&w.allowHalfTrickle,this.iceCompleteTimeout=w.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=w.wrtc&&typeof w.wrtc=="object"?w.wrtc:p(),!this._wrtc)throw y(typeof window=="undefined"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(_){return void this.destroy(y(_,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=_=>{this._onIceCandidate(_)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(_=>{this.destroy(y(_,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=_=>{this._setupData(_)},this.streams&&this.streams.forEach(_=>{this.addStream(_)}),this._pc.ontrack=_=>{this._onTrack(_)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(w){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof w=="string")try{w=JSON.parse(w)}catch{w={}}this._debug("signal()"),w.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),w.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(w.transceiverRequest.kind,w.transceiverRequest.init)),w.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(w.candidate):this._pendingCandidates.push(w.candidate)),w.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(w)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(_=>{this._addIceCandidate(_)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(_=>{this.destroy(y(_,"ERR_SET_REMOTE_DESCRIPTION"))}),w.sdp||w.candidate||w.renegotiate||w.transceiverRequest||this.destroy(y(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(w){const _=new this._wrtc.RTCIceCandidate(w);this._pc.addIceCandidate(_).catch(E=>{!_.address||_.address.endsWith(".local")?c("Ignoring unsupported ICE candidate."):this.destroy(y(E,"ERR_ADD_ICE_CANDIDATE"))})}send(w){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(w)}}addTransceiver(w,_){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(w,_),this._needsNegotiation()}catch(E){this.destroy(y(E,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:w,init:_}})}}addStream(w){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),w.getTracks().forEach(_=>{this.addTrack(_,w)})}}addTrack(w,_){if(this.destroying)return;if(this.destroyed)throw y(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const E=this._senderMap.get(w)||new Map;let R=E.get(_);if(!R)R=this._pc.addTrack(w,_),E.set(_,R),this._senderMap.set(w,E),this._needsNegotiation();else throw R.removed?y(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):y(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(w,_,E){if(this.destroying)return;if(this.destroyed)throw y(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const R=this._senderMap.get(w),C=R?R.get(E):null;if(!C)throw y(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");_&&this._senderMap.set(_,R),C.replaceTrack==null?this.destroy(y(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):C.replaceTrack(_)}removeTrack(w,_){if(this.destroying)return;if(this.destroyed)throw y(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const E=this._senderMap.get(w),R=E?E.get(_):null;if(!R)throw y(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{R.removed=!0,this._pc.removeTrack(R)}catch(C){C.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(R):this.destroy(y(C,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(w){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),w.getTracks().forEach(_=>{this.removeTrack(_,w)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,g(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(w){this._destroy(w,()=>{})}_destroy(w,_){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",w&&(w.message||w)),g(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",w&&(w.message||w)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,w&&this.emit("error",w),this.emit("close"),_()}))}_setupData(w){if(!w.channel)return this.destroy(y(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=w.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=S),this.channelName=this._channel.label,this._channel.onmessage=E=>{this._onChannelMessage(E)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=E=>{const R=E.error instanceof Error?E.error:new Error(`Datachannel error: ${E.message} ${E.filename}:${E.lineno}:${E.colno}`);this.destroy(y(R,"ERR_DATA_CHANNEL"))};let _=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(_&&this._onChannelClose(),_=!0):_=!1},5e3)}_read(){}_write(w,_,E){if(this.destroyed)return E(y(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(w)}catch(R){return this.destroy(y(R,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>S?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=E):E(null)}else this._debug("write before connect"),this._chunk=w,this._cb=E}_onFinish(){if(!this.destroyed){const w=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?w():this.once("connect",w)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(w=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(w.sdp=l(w.sdp)),w.sdp=this.sdpTransform(w.sdp);const _=()=>{if(!this.destroyed){const E=this._pc.localDescription||w;this._debug("signal"),this.emit("signal",{type:E.type,sdp:E.sdp})}};this._pc.setLocalDescription(w).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?_():this.once("_iceComplete",_))}).catch(E=>{this.destroy(y(E,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(w=>{this.destroy(y(w,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(w=>{w.mid||!w.sender.track||w.requested||(w.requested=!0,this.addTransceiver(w.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(w=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(w.sdp=l(w.sdp)),w.sdp=this.sdpTransform(w.sdp);const _=()=>{if(!this.destroyed){const E=this._pc.localDescription||w;this._debug("signal"),this.emit("signal",{type:E.type,sdp:E.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(w).then(()=>{this.destroyed||(this.trickle||this._iceComplete?_():this.once("_iceComplete",_))}).catch(E=>{this.destroy(y(E,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(w=>{this.destroy(y(w,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(y(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const w=this._pc.iceConnectionState,_=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",w,_),this.emit("iceStateChange",w,_),(w==="connected"||w==="completed")&&(this._pcReady=!0,this._maybeReady()),w==="failed"&&this.destroy(y(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),w==="closed"&&this.destroy(y(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(w){const _=E=>(Object.prototype.toString.call(E.values)==="[object Array]"&&E.values.forEach(R=>{Object.assign(E,R)}),E);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(E=>{const R=[];E.forEach(C=>{R.push(_(C))}),w(null,R)},E=>w(E)):0<this._pc.getStats.length?this._pc.getStats(E=>{if(this.destroyed)return;const R=[];E.result().forEach(C=>{const D={};C.names().forEach(B=>{D[B]=C.stat(B)}),D.id=C.id,D.type=C.type,D.timestamp=C.timestamp,R.push(_(D))}),w(null,R)},E=>w(E)):w(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const w=()=>{this.destroyed||this.getStats((_,E)=>{if(this.destroyed)return;_&&(E=[]);const R={},C={},D={};let B=!1;E.forEach(I=>{(I.type==="remotecandidate"||I.type==="remote-candidate")&&(R[I.id]=I),(I.type==="localcandidate"||I.type==="local-candidate")&&(C[I.id]=I),(I.type==="candidatepair"||I.type==="candidate-pair")&&(D[I.id]=I)});const T=I=>{B=!0;let U=C[I.localCandidateId];U&&(U.ip||U.address)?(this.localAddress=U.ip||U.address,this.localPort=+U.port):U&&U.ipAddress?(this.localAddress=U.ipAddress,this.localPort=+U.portNumber):typeof I.googLocalAddress=="string"&&(U=I.googLocalAddress.split(":"),this.localAddress=U[0],this.localPort=+U[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let j=R[I.remoteCandidateId];j&&(j.ip||j.address)?(this.remoteAddress=j.ip||j.address,this.remotePort=+j.port):j&&j.ipAddress?(this.remoteAddress=j.ipAddress,this.remotePort=+j.portNumber):typeof I.googRemoteAddress=="string"&&(j=I.googRemoteAddress.split(":"),this.remoteAddress=j[0],this.remotePort=+j[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(E.forEach(I=>{I.type==="transport"&&I.selectedCandidatePairId&&T(D[I.selectedCandidatePairId]),(I.type==="googCandidatePair"&&I.googActiveConnection==="true"||(I.type==="candidatepair"||I.type==="candidate-pair")&&I.selected)&&T(I)}),!B&&(!Object.keys(D).length||Object.keys(C).length))return void setTimeout(w,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(U){return this.destroy(y(U,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const I=this._cb;this._cb=null,I(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};w()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>S)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(w=>{this._pc.removeTrack(w),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(w){this.destroyed||(w.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:w.candidate.candidate,sdpMLineIndex:w.candidate.sdpMLineIndex,sdpMid:w.candidate.sdpMid}}):!w.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),w.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(w){if(this.destroyed)return;let _=w.data;_ instanceof ArrayBuffer&&(_=b.from(_)),this.push(_)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const w=this._cb;this._cb=null,w(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(w){this.destroyed||w.streams.forEach(_=>{this._debug("on track"),this.emit("track",w.track,_),this._remoteTracks.push({track:w.track,stream:_}),this._remoteStreams.some(E=>E.id===_.id)||(this._remoteStreams.push(_),g(()=>{this._debug("on stream"),this.emit("stream",_)}))})}_debug(){const w=[].slice.call(arguments);w[0]="["+this._id+"] "+w[0],h.apply(null,w)}}k.WEBRTC_SUPPORT=!!p(),k.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},k.channelConfig={},o.exports=k},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})})(ol);var Kh=ol.exports;const Rs=0,As=1,al=2,ll=(e,t)=>{W(e,Rs);const n=uf(t);dt(e,n)},cl=(e,t,n)=>{W(e,As),dt(e,ys(t,n))},Yh=(e,t,n)=>cl(t,n,kt(e)),ul=(e,t,n)=>{try{Ra(t,kt(e),n)}catch(r){console.error("Caught error while handling a Yjs update",r)}},Jh=(e,t)=>{W(e,al),dt(e,t)},Gh=ul,Xh=(e,t,n,r)=>{const s=Y(e);switch(s){case Rs:Yh(e,t,n);break;case As:ul(e,n,r);break;case al:Gh(e,n,r);break;default:throw new Error("Unknown message type")}return s},wi=3e4;class Qh extends Hn{constructor(t){super();this.doc=t,this.clientID=t.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const n=de();this.getLocalState()!==null&&wi/2<=n-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const r=[];this.meta.forEach((s,i)=>{i!==this.clientID&&wi<=n-s.lastUpdated&&this.states.has(i)&&r.push(i)}),r.length>0&&ji(this,r,"timeout")},sn(wi/10)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){const n=this.clientID,r=this.meta.get(n),s=r===void 0?0:r.clock+1,i=this.states.get(n);t===null?this.states.delete(n):this.states.set(n,t),this.meta.set(n,{clock:s,lastUpdated:de()});const o=[],l=[],c=[],h=[];t===null?h.push(n):i==null?t!=null&&o.push(n):(l.push(n),Tn(i,t)||c.push(n)),(o.length>0||c.length>0||h.length>0)&&this.emit("change",[{added:o,updated:c,removed:h},"local"]),this.emit("update",[{added:o,updated:l,removed:h},"local"])}setLocalStateField(t,n){const r=this.getLocalState();r!==null&&this.setLocalState(Qn(_n({},r),{[t]:n}))}getStates(){return this.states}}const ji=(e,t,n)=>{const r=[];for(let s=0;s<t.length;s++){const i=t[s];if(e.states.has(i)){if(e.states.delete(i),i===e.clientID){const o=e.meta.get(i);e.meta.set(i,{clock:o.clock+1,lastUpdated:de()})}r.push(i)}}r.length>0&&(e.emit("change",[{added:[],updated:[],removed:r},n]),e.emit("update",[{added:[],updated:[],removed:r},n]))},Tr=(e,t,n=e.states)=>{const r=t.length,s=vt();W(s,r);for(let i=0;i<r;i++){const o=t[i],l=n.get(o)||null,c=e.meta.get(o).clock;W(s,o),W(s,c),Wt(s,JSON.stringify(l))}return ut(s)},Zh=(e,t,n)=>{const r=ae(t),s=de(),i=[],o=[],l=[],c=[],h=Y(r);for(let p=0;p<h;p++){const f=Y(r);let u=Y(r);const g=JSON.parse(he(r)),y=e.meta.get(f),b=e.states.get(f),S=y===void 0?0:y.clock;(S<u||S===u&&g===null&&e.states.has(f))&&(g===null?f===e.clientID&&e.getLocalState()!=null?u++:e.states.delete(f):e.states.set(f,g),e.meta.set(f,{clock:u,lastUpdated:s}),y===void 0&&g!==null?i.push(f):y!==void 0&&g===null?c.push(f):g!==null&&(Tn(g,b)||l.push(f),o.push(f)))}(i.length>0||l.length>0||c.length>0)&&e.emit("change",[{added:i,updated:l,removed:c},n]),(i.length>0||o.length>0||c.length>0)&&e.emit("update",[{added:i,updated:o,removed:c},n])},td=(e,t)=>{const n=Ws(e).buffer,r=Ws(t).buffer;return crypto.subtle.importKey("raw",n,"PBKDF2",!1,["deriveKey"]).then(s=>crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:1e5,hash:"SHA-256"},s,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))},fl=(e,t)=>{if(!t)return os(e);const n=crypto.getRandomValues(new Uint8Array(12));return crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,e).then(r=>{const s=vt();return Wt(s,"AES-GCM"),dt(s,n),dt(s,new Uint8Array(r)),ut(s)})},ed=(e,t)=>{const n=vt();return an(n,e),fl(ut(n),t)},hl=(e,t)=>{if(!t)return os(e);const n=ae(e);he(n)!=="AES-GCM"&&Mu(We("Unknown encryption algorithm"));const s=kt(n),i=kt(n);return crypto.subtle.decrypt({name:"AES-GCM",iv:s},t,i).then(o=>new Uint8Array(o))},nd=(e,t)=>hl(e,t).then(n=>on(ae(new Uint8Array(n)))),Ft=Ku("y-webrtc"),rn=0,dl=3,$n=1,Ts=4,Dr=new Map,Pe=new Map,gl=e=>{let t=!0;e.webrtcConns.forEach(n=>{n.synced||(t=!1)}),(!t&&e.synced||t&&!e.synced)&&(e.synced=t,e.provider.emit("synced",[{synced:t}]),Ft("synced ",Tt,e.name,De," with all peers"))},pl=(e,t,n)=>{const r=ae(t),s=vt(),i=Y(r);if(e===void 0)return null;const o=e.awareness,l=e.doc;let c=!1;switch(i){case rn:{W(s,rn);const h=Xh(r,s,l,e);h===As&&!e.synced&&n(),h===Rs&&(c=!0);break}case dl:W(s,$n),dt(s,Tr(o,Array.from(o.getStates().keys()))),c=!0;break;case $n:Zh(o,kt(r),e);break;case Ts:{const h=Fe(r)===1,p=he(r);if(p!==e.peerId&&(e.bcConns.has(p)&&!h||!e.bcConns.has(p)&&h)){const f=[],u=[];h?(e.bcConns.add(p),u.push(p)):(e.bcConns.delete(p),f.push(p)),e.provider.emit("peers",[{added:u,removed:f,webrtcPeers:Array.from(e.webrtcConns.keys()),bcPeers:Array.from(e.bcConns)}]),yl(e)}break}default:return console.error("Unable to compute message"),s}return c?s:null},rd=(e,t)=>{const n=e.room;return Ft("received message from ",Tt,e.remotePeerId,Vr," (",n.name,")",De,qn),pl(n,t,()=>{e.synced=!0,Ft("synced ",Tt,n.name,De," with ",Tt,e.remotePeerId),gl(n)})},bi=(e,t)=>{Ft("send message to ",Tt,e.remotePeerId,De,Vr," (",e.room.name,")",qn);try{e.peer.send(ut(t))}catch{}},id=(e,t)=>{Ft("broadcast message in ",Tt,e.name,De),e.webrtcConns.forEach(n=>{try{n.peer.send(t)}catch{}})};class Ao{constructor(t,n,r,s){Ft("establishing connection to ",Tt,r),this.room=s,this.remotePeerId=r,this.closed=!1,this.connected=!1,this.synced=!1,this.peer=new Kh(_n({initiator:n},s.provider.peerOpts)),this.peer.on("signal",i=>{Ds(t,s,{to:r,from:s.peerId,type:"signal",signal:i})}),this.peer.on("connect",()=>{Ft("connected to ",Tt,r),this.connected=!0;const o=s.provider.doc,l=s.awareness,c=vt();W(c,rn),ll(c,o),bi(this,c);const h=l.getStates();if(h.size>0){const p=vt();W(p,$n),dt(p,Tr(l,Array.from(h.keys()))),bi(this,p)}}),this.peer.on("close",()=>{this.connected=!1,this.closed=!0,s.webrtcConns.has(this.remotePeerId)&&(s.webrtcConns.delete(this.remotePeerId),s.provider.emit("peers",[{removed:[this.remotePeerId],added:[],webrtcPeers:Array.from(s.webrtcConns.keys()),bcPeers:Array.from(s.bcConns)}])),gl(s),this.peer.destroy(),Ft("closed connection to ",Tt,r),$i(s)}),this.peer.on("error",i=>{Ft("Error in connection to ",Tt,r,": ",i),$i(s)}),this.peer.on("data",i=>{const o=rd(this,i);o!==null&&bi(this,o)})}destroy(){this.peer.destroy()}}const ke=(e,t)=>fl(t,e.key).then(n=>e.mux(()=>qh(e.name,n))),To=(e,t)=>{e.bcconnected&&ke(e,t),id(e,t)},$i=e=>{Dr.forEach(t=>{t.connected&&(t.send({type:"subscribe",topics:[e.name]}),e.webrtcConns.size<e.provider.maxConns&&Ds(t,e,{type:"announce",from:e.peerId}))})},yl=e=>{if(e.provider.filterBcConns){const t=vt();W(t,Ts),Un(t,1),Wt(t,e.peerId),ke(e,ut(t))}};class sd{constructor(t,n,r,s){this.peerId=ga(),this.doc=t,this.awareness=n.awareness,this.provider=n,this.synced=!1,this.name=r,this.key=s,this.webrtcConns=new Map,this.bcConns=new Set,this.mux=nl(),this.bcconnected=!1,this._bcSubscriber=i=>hl(new Uint8Array(i),s).then(o=>this.mux(()=>{const l=pl(this,o,()=>{});l&&ke(this,ut(l))})),this._docUpdateHandler=(i,o)=>{const l=vt();W(l,rn),Jh(l,i),To(this,ut(l))},this._awarenessUpdateHandler=({added:i,updated:o,removed:l},c)=>{const h=i.concat(o).concat(l),p=vt();W(p,$n),dt(p,Tr(this.awareness,h)),To(this,ut(p))},window.addEventListener("beforeunload",()=>{ji(this.awareness,[t.clientID],"window unload"),Pe.forEach(i=>{i.disconnect()})})}connect(){this.doc.on("update",this._docUpdateHandler),this.awareness.on("update",this._awarenessUpdateHandler),$i(this);const t=this.name;Hh(t,this._bcSubscriber),this.bcconnected=!0,yl(this);const n=vt();W(n,rn),ll(n,this.doc),ke(this,ut(n));const r=vt();W(r,rn),cl(r,this.doc),ke(this,ut(r));const s=vt();W(s,dl),ke(this,ut(s));const i=vt();W(i,$n),dt(i,Tr(this.awareness,[this.doc.clientID])),ke(this,ut(i))}disconnect(){Dr.forEach(n=>{n.connected&&n.send({type:"unsubscribe",topics:[this.name]})}),ji(this.awareness,[this.doc.clientID],"disconnect");const t=vt();W(t,Ts),Un(t,0),Wt(t,this.peerId),ke(this,ut(t)),Wh(this.name,this._bcSubscriber),this.bcconnected=!1,this.doc.off("update",this._docUpdateHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.webrtcConns.forEach(n=>n.destroy())}destroy(){this.disconnect()}}const od=(e,t,n,r)=>{if(Pe.has(n))throw We(`A Yjs Doc connected to room "${n}" already exists!`);const s=new sd(e,t,n,r);return Pe.set(n,s),s},Ds=(e,t,n)=>{t.key?ed(n,t.key).then(r=>{e.send({type:"publish",topic:t.name,data:fa(r)})}):e.send({type:"publish",topic:t.name,data:n})};class ad extends jh{constructor(t){super(t);this.providers=new Set,this.on("connect",()=>{Ft(`connected (${t})`);const n=Array.from(Pe.keys());this.send({type:"subscribe",topics:n}),Pe.forEach(r=>Ds(this,r,{type:"announce",from:r.peerId}))}),this.on("message",n=>{switch(n.type){case"publish":{const r=n.topic,s=Pe.get(r);if(s==null||typeof r!="string")return;const i=o=>{const l=s.webrtcConns,c=s.peerId;if(o==null||o.from===c||o.to!==void 0&&o.to!==c||s.bcConns.has(o.from))return;const h=l.has(o.from)?()=>{}:()=>s.provider.emit("peers",[{removed:[],added:[o.from],webrtcPeers:Array.from(s.webrtcConns.keys()),bcPeers:Array.from(s.bcConns)}]);switch(o.type){case"announce":l.size<s.provider.maxConns&&(Nt(l,o.from,()=>new Ao(this,!0,o.from,s)),h());break;case"signal":o.to===c&&(Nt(l,o.from,()=>new Ao(this,!1,o.from,s)).peer.signal(o.signal),h());break}};s.key?typeof n.data=="string"&&nd(ha(n.data),s.key).then(i):i(n.data)}}}),this.on("disconnect",()=>Ft(`disconnect (${t})`))}}class Vg extends Hn{constructor(t,n,{signaling:r=["wss://signaling.yjs.dev","wss://y-webrtc-signaling-eu.herokuapp.com","wss://y-webrtc-signaling-us.herokuapp.com"],password:s=null,awareness:i=new Qh(n),maxConns:o=20+sn(Ou()*15),filterBcConns:l=!0,peerOpts:c={}}={}){super();this.roomName=t,this.doc=n,this.filterBcConns=l,this.awareness=i,this.shouldConnect=!1,this.signalingUrls=r,this.signalingConns=[],this.maxConns=o,this.peerOpts=c,this.key=s?td(s,t):os(null),this.room=null,this.key.then(h=>{this.room=od(n,this,t,h),this.shouldConnect?this.room.connect():this.room.disconnect()}),this.connect(),this.destroy=this.destroy.bind(this),n.on("destroy",this.destroy)}get connected(){return this.room!==null&&this.shouldConnect}connect(){this.shouldConnect=!0,this.signalingUrls.forEach(t=>{const n=Nt(Dr,t,()=>new ad(t));this.signalingConns.push(n),n.providers.add(this)}),this.room&&this.room.connect()}disconnect(){this.shouldConnect=!1,this.signalingConns.forEach(t=>{t.providers.delete(this),t.providers.size===0&&(t.destroy(),Dr.delete(t.url))}),this.room&&this.room.disconnect()}destroy(){this.doc.off("destroy",this.destroy),this.key.then(()=>{this.room.destroy(),Pe.delete(this.roomName)}),super.destroy()}}function zg(e){var t,n=new Xi(function(){t&&t(r)}),r=Nn(e,n),s=sc(r,function(i){return t=i,function(){t=void 0}});return{subscribe:s.subscribe,set:function(){}}}let Hg=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=n[e]&63;r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r<63?t+="_":t+="-"}return t};var ld=["second","minute","hour","day","week","month","year"];function cd(e,t){if(t===0)return["just now","right now"];var n=ld[Math.floor(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]}var ud=["\u79D2","\u5206\u949F","\u5C0F\u65F6","\u5929","\u5468","\u4E2A\u6708","\u5E74"];function fd(e,t){if(t===0)return["\u521A\u521A","\u7247\u523B\u540E"];var n=ud[~~(t/2)];return[e+" "+n+"\u524D",e+" "+n+"\u540E"]}var Vi={},ml=function(e,t){Vi[e]=t},hd=function(e){return Vi[e]||Vi.en_US},_i=[60,60,24,7,365/7/12,12];function Do(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function dd(e,t){var n=e<0?1:0;e=Math.abs(e);for(var r=e,s=0;e>=_i[s]&&s<_i.length;s++)e/=_i[s];return e=Math.floor(e),s*=2,e>(s===0?9:1)&&(s+=1),t(e,s,r)[n].replace("%s",e.toString())}function gd(e,t){var n=t?Do(t):new Date;return(+n-+Do(e))/1e3}var Wg=function(e,t,n){var r=gd(e,n&&n.relativeDate);return dd(r,hd(t))};ml("en_US",cd);ml("zh_CN",fd);var Zr={},pd=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},wl={},It={};let Is;const yd=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];It.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};It.getSymbolTotalCodewords=function(t){return yd[t]};It.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};It.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Is=t};It.isKanjiModeEnabled=function(){return typeof Is!="undefined"};It.toSJIS=function(t){return Is(t)};var ti={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit!="undefined"&&r.bit>=0&&r.bit<4},e.from=function(r,s){if(e.isValid(r))return r;try{return t(r)}catch{return s}}})(ti);function bl(){this.buffer=[],this.length=0}bl.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var md=bl;function Xn(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Xn.prototype.set=function(e,t,n,r){const s=e*this.size+t;this.data[s]=n,r&&(this.reservedBit[s]=!0)};Xn.prototype.get=function(e,t){return this.data[e*this.size+t]};Xn.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Xn.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var wd=Xn,_l={};(function(e){const t=It.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=t(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,l=[i-7];for(let c=1;c<s-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},e.getPositions=function(r){const s=[],i=e.getRowColCoords(r),o=i.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||s.push([i[l],i[c]]);return s}})(_l);var vl={};const bd=It.getSymbolSize,Io=7;vl.getPositions=function(t){const n=bd(t);return[[0,0],[n-Io,0],[0,n-Io]]};var El={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const i=s.size;let o=0,l=0,c=0,h=null,p=null;for(let f=0;f<i;f++){l=c=0,h=p=null;for(let u=0;u<i;u++){let g=s.get(f,u);g===h?l++:(l>=5&&(o+=t.N1+(l-5)),h=g,l=1),g=s.get(u,f),g===p?c++:(c>=5&&(o+=t.N1+(c-5)),p=g,c=1)}l>=5&&(o+=t.N1+(l-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(s){const i=s.size;let o=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const h=s.get(l,c)+s.get(l,c+1)+s.get(l+1,c)+s.get(l+1,c+1);(h===4||h===0)&&o++}return o*t.N2},e.getPenaltyN3=function(s){const i=s.size;let o=0,l=0,c=0;for(let h=0;h<i;h++){l=c=0;for(let p=0;p<i;p++)l=l<<1&2047|s.get(h,p),p>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|s.get(p,h),p>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let c=0;c<o;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function n(r,s,i){switch(r){case e.Patterns.PATTERN000:return(s+i)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(s+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return s*i%2+s*i%3===0;case e.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case e.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(s,i){const o=i.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)i.isReserved(c,l)||i.xor(c,l,n(s,c,l))},e.getBestMask=function(s,i){const o=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let h=0;h<o;h++){i(h),e.applyMask(h,s);const p=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(h,s),p<c&&(c=p,l=h)}return l}})(El);var ei={};const Te=ti,or=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ar=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ei.getBlocksCount=function(t,n){switch(n){case Te.L:return or[(t-1)*4+0];case Te.M:return or[(t-1)*4+1];case Te.Q:return or[(t-1)*4+2];case Te.H:return or[(t-1)*4+3];default:return}};ei.getTotalCodewordsCount=function(t,n){switch(n){case Te.L:return ar[(t-1)*4+0];case Te.M:return ar[(t-1)*4+1];case Te.Q:return ar[(t-1)*4+2];case Te.H:return ar[(t-1)*4+3];default:return}};var Cl={},ni={};const In=new Uint8Array(512),Ir=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)In[n]=t,Ir[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)In[n]=In[n-255]})();ni.log=function(t){if(t<1)throw new Error("log("+t+")");return Ir[t]};ni.exp=function(t){return In[t]};ni.mul=function(t,n){return t===0||n===0?0:In[Ir[t]+Ir[n]]};(function(e){const t=ni;e.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let l=0;l<s.length;l++)i[o+l]^=t.mul(r[o],s[l]);return i},e.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let c=0;c<s.length;c++)i[c]^=t.mul(s[c],o);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},e.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=e.mul(s,new Uint8Array([1,t.exp(i)]));return s}})(Cl);const Sl=Cl;function Os(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Os.prototype.initialize=function(t){this.degree=t,this.genPoly=Sl.generateECPolynomial(this.degree)};Os.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=Sl.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var _d=Os,kl={},Le={},Ls={};Ls.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var le={};const Rl="[0-9]+",vd="[A-Z $%*+\\-./:]+";let Vn="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Vn=Vn.replace(/u/g,"\\u");const Ed="(?:(?![A-Z0-9 $%*+\\-./:]|"+Vn+`)(?:.|[\r
]))+`;le.KANJI=new RegExp(Vn,"g");le.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");le.BYTE=new RegExp(Ed,"g");le.NUMERIC=new RegExp(Rl,"g");le.ALPHANUMERIC=new RegExp(vd,"g");const Cd=new RegExp("^"+Vn+"$"),Sd=new RegExp("^"+Rl+"$"),kd=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");le.testKanji=function(t){return Cd.test(t)};le.testNumeric=function(t){return Sd.test(t)};le.testAlphanumeric=function(t){return kd.test(t)};(function(e){const t=Ls,n=le;e.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(i,o){if(e.isValid(i))return i;try{return r(i)}catch{return o}}})(Le);(function(e){const t=It,n=ei,r=ti,s=Le,i=Ls,o=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,l=t.getBCHDigit(o);function c(u,g,y){for(let b=1;b<=40;b++)if(g<=e.getCapacity(b,y,u))return b}function h(u,g){return s.getCharCountIndicator(u,g)+4}function p(u,g){let y=0;return u.forEach(function(b){y+=h(b.mode,g)+b.getBitsLength()}),y}function f(u,g){for(let y=1;y<=40;y++)if(p(u,y)<=e.getCapacity(y,g,s.MIXED))return y}e.from=function(g,y){return i.isValid(g)?parseInt(g,10):y},e.getCapacity=function(g,y,b){if(!i.isValid(g))throw new Error("Invalid QR Code version");typeof b=="undefined"&&(b=s.BYTE);const S=t.getSymbolTotalCodewords(g),k=n.getTotalCodewordsCount(g,y),L=(S-k)*8;if(b===s.MIXED)return L;const w=L-h(b,g);switch(b){case s.NUMERIC:return Math.floor(w/10*3);case s.ALPHANUMERIC:return Math.floor(w/11*2);case s.KANJI:return Math.floor(w/13);case s.BYTE:default:return Math.floor(w/8)}},e.getBestVersionForData=function(g,y){let b;const S=r.from(y,r.M);if(Array.isArray(g)){if(g.length>1)return f(g,S);if(g.length===0)return 1;b=g[0]}else b=g;return c(b.mode,b.getLength(),S)},e.getEncodedBits=function(g){if(!i.isValid(g)||g<7)throw new Error("Invalid QR Code version");let y=g<<12;for(;t.getBCHDigit(y)-l>=0;)y^=o<<t.getBCHDigit(y)-l;return g<<12|y}})(kl);var Al={};const zi=It,Tl=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Rd=1<<14|1<<12|1<<10|1<<4|1<<1,Oo=zi.getBCHDigit(Tl);Al.getEncodedBits=function(t,n){const r=t.bit<<3|n;let s=r<<10;for(;zi.getBCHDigit(s)-Oo>=0;)s^=Tl<<zi.getBCHDigit(s)-Oo;return(r<<10|s)^Rd};var Dl={};const Ad=Le;function un(e){this.mode=Ad.NUMERIC,this.data=e.toString()}un.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};un.prototype.getLength=function(){return this.data.length};un.prototype.getBitsLength=function(){return un.getBitsLength(this.data.length)};un.prototype.write=function(t){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),t.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),t.put(s,i*3+1))};var Td=un;const Dd=Le,vi=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function fn(e){this.mode=Dd.ALPHANUMERIC,this.data=e}fn.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};fn.prototype.getLength=function(){return this.data.length};fn.prototype.getBitsLength=function(){return fn.getBitsLength(this.data.length)};fn.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=vi.indexOf(this.data[n])*45;r+=vi.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(vi.indexOf(this.data[n]),6)};var Id=fn,Od=function(t){for(var n=[],r=t.length,s=0;s<r;s++){var i=t.charCodeAt(s);if(i>=55296&&i<=56319&&r>s+1){var o=t.charCodeAt(s+1);o>=56320&&o<=57343&&(i=(i-55296)*1024+o-56320+65536,s+=1)}if(i<128){n.push(i);continue}if(i<2048){n.push(i>>6|192),n.push(i&63|128);continue}if(i<55296||i>=57344&&i<65536){n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128);continue}if(i>=65536&&i<=1114111){n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(i&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Ld=Od,Md=Le;function hn(e){this.mode=Md.BYTE,this.data=new Uint8Array(Ld(e))}hn.getBitsLength=function(t){return t*8};hn.prototype.getLength=function(){return this.data.length};hn.prototype.getBitsLength=function(){return hn.getBitsLength(this.data.length)};hn.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var Nd=hn;const xd=Le,Bd=It;function dn(e){this.mode=xd.KANJI,this.data=e}dn.getBitsLength=function(t){return t*13};dn.prototype.getLength=function(){return this.data.length};dn.prototype.getBitsLength=function(){return dn.getBitsLength(this.data.length)};dn.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=Bd.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var Ud=dn,Il={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var l=t.PriorityQueue.make();l.push(r,0);for(var c,h,p,f,u,g,y,b,S;!l.empty();){c=l.pop(),h=c.value,f=c.cost,u=n[h]||{};for(p in u)u.hasOwnProperty(p)&&(g=u[p],y=f+g,b=o[p],S=typeof o[p]=="undefined",(S||b>y)&&(o[p]=y,l.push(p,y),i[p]=h))}if(typeof s!="undefined"&&typeof o[s]=="undefined"){var k=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(k)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=t.single_source_shortest_paths(n,r,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Il);(function(e){const t=Le,n=Td,r=Id,s=Nd,i=Ud,o=le,l=It,c=Il.exports;function h(k){return unescape(encodeURIComponent(k)).length}function p(k,L,w){const _=[];let E;for(;(E=k.exec(w))!==null;)_.push({data:E[0],index:E.index,mode:L,length:E[0].length});return _}function f(k){const L=p(o.NUMERIC,t.NUMERIC,k),w=p(o.ALPHANUMERIC,t.ALPHANUMERIC,k);let _,E;return l.isKanjiModeEnabled()?(_=p(o.BYTE,t.BYTE,k),E=p(o.KANJI,t.KANJI,k)):(_=p(o.BYTE_KANJI,t.BYTE,k),E=[]),L.concat(w,_,E).sort(function(C,D){return C.index-D.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function u(k,L){switch(L){case t.NUMERIC:return n.getBitsLength(k);case t.ALPHANUMERIC:return r.getBitsLength(k);case t.KANJI:return i.getBitsLength(k);case t.BYTE:return s.getBitsLength(k)}}function g(k){return k.reduce(function(L,w){const _=L.length-1>=0?L[L.length-1]:null;return _&&_.mode===w.mode?(L[L.length-1].data+=w.data,L):(L.push(w),L)},[])}function y(k){const L=[];for(let w=0;w<k.length;w++){const _=k[w];switch(_.mode){case t.NUMERIC:L.push([_,{data:_.data,mode:t.ALPHANUMERIC,length:_.length},{data:_.data,mode:t.BYTE,length:_.length}]);break;case t.ALPHANUMERIC:L.push([_,{data:_.data,mode:t.BYTE,length:_.length}]);break;case t.KANJI:L.push([_,{data:_.data,mode:t.BYTE,length:h(_.data)}]);break;case t.BYTE:L.push([{data:_.data,mode:t.BYTE,length:h(_.data)}])}}return L}function b(k,L){const w={},_={start:{}};let E=["start"];for(let R=0;R<k.length;R++){const C=k[R],D=[];for(let B=0;B<C.length;B++){const T=C[B],I=""+R+B;D.push(I),w[I]={node:T,lastCount:0},_[I]={};for(let U=0;U<E.length;U++){const j=E[U];w[j]&&w[j].node.mode===T.mode?(_[j][I]=u(w[j].lastCount+T.length,T.mode)-u(w[j].lastCount,T.mode),w[j].lastCount+=T.length):(w[j]&&(w[j].lastCount=T.length),_[j][I]=u(T.length,T.mode)+4+t.getCharCountIndicator(T.mode,L))}}E=D}for(let R=0;R<E.length;R++)_[E[R]].end=0;return{map:_,table:w}}function S(k,L){let w;const _=t.getBestModeForData(k);if(w=t.from(L,_),w!==t.BYTE&&w.bit<_.bit)throw new Error('"'+k+'" cannot be encoded with mode '+t.toString(w)+`.
 Suggested mode is: `+t.toString(_));switch(w===t.KANJI&&!l.isKanjiModeEnabled()&&(w=t.BYTE),w){case t.NUMERIC:return new n(k);case t.ALPHANUMERIC:return new r(k);case t.KANJI:return new i(k);case t.BYTE:return new s(k)}}e.fromArray=function(L){return L.reduce(function(w,_){return typeof _=="string"?w.push(S(_,null)):_.data&&w.push(S(_.data,_.mode)),w},[])},e.fromString=function(L,w){const _=f(L,l.isKanjiModeEnabled()),E=y(_),R=b(E,w),C=c.find_path(R.map,"start","end"),D=[];for(let B=1;B<C.length-1;B++)D.push(R.table[C[B]].node);return e.fromArray(g(D))},e.rawSplit=function(L){return e.fromArray(f(L,l.isKanjiModeEnabled()))}})(Dl);const ri=It,Ei=ti,Pd=md,Fd=wd,jd=_l,$d=vl,Hi=El,Wi=ei,Vd=_d,Or=kl,zd=Al,Hd=Le,Ci=Dl;function Wd(e,t){const n=e.size,r=$d.getPositions(t);for(let s=0;s<r.length;s++){const i=r[s][0],o=r[s][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||n<=i+l))for(let c=-1;c<=7;c++)o+c<=-1||n<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(i+l,o+c,!0,!0):e.set(i+l,o+c,!1,!0))}}function qd(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function Kd(e,t){const n=jd.getPositions(t);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?e.set(s+o,i+l,!0,!0):e.set(s+o,i+l,!1,!0)}}function Yd(e,t){const n=e.size,r=Or.getEncodedBits(t);let s,i,o;for(let l=0;l<18;l++)s=Math.floor(l/3),i=l%3+n-8-3,o=(r>>l&1)===1,e.set(s,i,o,!0),e.set(i,s,o,!0)}function Si(e,t,n){const r=e.size,s=zd.getEncodedBits(t,n);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?e.set(i,8,o,!0):i<8?e.set(i+1,8,o,!0):e.set(r-15+i,8,o,!0),i<8?e.set(8,r-i-1,o,!0):i<9?e.set(8,15-i-1+1,o,!0):e.set(8,15-i-1,o,!0);e.set(r-8,8,1,!0)}function Jd(e,t){const n=e.size;let r=-1,s=n-1,i=7,o=0;for(let l=n-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(s,l-c)){let h=!1;o<t.length&&(h=(t[o]>>>i&1)===1),e.set(s,l-c,h),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function Gd(e,t,n){const r=new Pd;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),Hd.getCharCountIndicator(c.mode,e)),c.write(r)});const s=ri.getSymbolTotalCodewords(e),i=Wi.getTotalCodewordsCount(e,t),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const l=(o-r.getLengthInBits())/8;for(let c=0;c<l;c++)r.put(c%2?17:236,8);return Xd(r,e,t)}function Xd(e,t,n){const r=ri.getSymbolTotalCodewords(t),s=Wi.getTotalCodewordsCount(t,n),i=r-s,o=Wi.getBlocksCount(t,n),l=r%o,c=o-l,h=Math.floor(r/o),p=Math.floor(i/o),f=p+1,u=h-p,g=new Vd(u);let y=0;const b=new Array(o),S=new Array(o);let k=0;const L=new Uint8Array(e.buffer);for(let C=0;C<o;C++){const D=C<c?p:f;b[C]=L.slice(y,y+D),S[C]=g.encode(b[C]),y+=D,k=Math.max(k,D)}const w=new Uint8Array(r);let _=0,E,R;for(E=0;E<k;E++)for(R=0;R<o;R++)E<b[R].length&&(w[_++]=b[R][E]);for(E=0;E<u;E++)for(R=0;R<o;R++)w[_++]=S[R][E];return w}function Qd(e,t,n,r){let s;if(Array.isArray(e))s=Ci.fromArray(e);else if(typeof e=="string"){let h=t;if(!h){const p=Ci.rawSplit(e);h=Or.getBestVersionForData(p,n)}s=Ci.fromString(e,h||40)}else throw new Error("Invalid data");const i=Or.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=Gd(t,n,s),l=ri.getSymbolSize(t),c=new Fd(l);return Wd(c,t),qd(c),Kd(c,t),Si(c,n,0),t>=7&&Yd(c,t),Jd(c,o),isNaN(r)&&(r=Hi.getBestMask(c,Si.bind(null,c,n))),Hi.applyMask(r,c),Si(c,n,r),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:r,segments:s}}wl.create=function(t,n){if(typeof t=="undefined"||t==="")throw new Error("No input text");let r=Ei.M,s,i;return typeof n!="undefined"&&(r=Ei.from(n.errorCorrectionLevel,Ei.M),s=Or.from(n.version),i=Hi.from(n.maskPattern),n.toSJISFunc&&ri.setToSJISFunction(n.toSJISFunc)),Qd(t,s,r,i)};var Ol={},Ms={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin=="undefined"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},e.getImageWidth=function(r,s){const i=e.getScale(r,s);return Math.floor((r+s.margin*2)*i)},e.qrToImageData=function(r,s,i){const o=s.modules.size,l=s.modules.data,c=e.getScale(o,i),h=Math.floor((o+i.margin*2)*c),p=i.margin*c,f=[i.color.light,i.color.dark];for(let u=0;u<h;u++)for(let g=0;g<h;g++){let y=(u*h+g)*4,b=i.color.light;if(u>=p&&g>=p&&u<h-p&&g<h-p){const S=Math.floor((u-p)/c),k=Math.floor((g-p)/c);b=f[l[S*o+k]?1:0]}r[y++]=b.r,r[y++]=b.g,r[y++]=b.b,r[y]=b.a}}})(Ms);(function(e){const t=Ms;function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,o,l){let c=l,h=o;typeof c=="undefined"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(h=r()),c=t.getOptions(c);const p=t.getImageWidth(i.modules.size,c),f=h.getContext("2d"),u=f.createImageData(p,p);return t.qrToImageData(u.data,i,c),n(f,h,p),f.putImageData(u,0,0),h},e.renderToDataURL=function(i,o,l){let c=l;typeof c=="undefined"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const h=e.render(i,o,c),p=c.type||"image/png",f=c.rendererOpts||{};return h.toDataURL(p,f.quality)}})(Ol);var Ll={};const Zd=Ms;function Lo(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function ki(e,t,n){let r=e+t;return typeof n!="undefined"&&(r+=" "+n),r}function tg(e,t,n){let r="",s=0,i=!1,o=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),h=Math.floor(l/t);!c&&!i&&(i=!0),e[l]?(o++,l>0&&c>0&&e[l-1]||(r+=i?ki("M",c+n,.5+h+n):ki("m",s,0),s=0,i=!1),c+1<t&&e[l+1]||(r+=ki("h",o),o=0)):s++}return r}Ll.render=function(t,n,r){const s=Zd.getOptions(n),i=t.modules.size,o=t.modules.data,l=i+s.margin*2,c=s.color.light.a?"<path "+Lo(s.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",h="<path "+Lo(s.color.dark,"stroke")+' d="'+tg(o,i,s.margin)+'"/>',p='viewBox="0 0 '+l+" "+l+'"',f=s.width?'width="'+s.width+'" height="'+s.width+'" ':"",u='<svg xmlns="http://www.w3.org/2000/svg" '+f+p+' shape-rendering="crispEdges">'+c+h+`</svg>
`;return typeof r=="function"&&r(null,u),u};const eg=pd,qi=wl,Ml=Ol,ng=Ll;function Ns(e,t,n,r,s){const i=[].slice.call(arguments,1),o=i.length,l=typeof i[o-1]=="function";if(!l&&!eg())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(s=n,n=t,t=r=void 0):o===3&&(t.getContext&&typeof s=="undefined"?(s=r,r=void 0):(s=r,r=n,n=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=t,t=r=void 0):o===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(c,h){try{const p=qi.create(n,r);c(e(p,t,r))}catch(p){h(p)}})}try{const c=qi.create(n,r);s(null,e(c,t,r))}catch(c){s(c)}}Zr.create=qi.create;Zr.toCanvas=Ns.bind(null,Ml.render);Zr.toDataURL=Ns.bind(null,Ml.renderToDataURL);Zr.toString=Ns.bind(null,function(e,t,n){return ng.render(e,n)});export{Ig as $,pe as A,ie as B,ot as C,oc as D,_g as E,bg as F,Yl as G,te as H,ee as I,Zt as J,Ln as K,Cg as L,Lt as M,ig as N,Qt as O,Tg as P,Dg as Q,Ng as R,oe as S,Mg as T,Ug as U,og as V,Sg as W,gn as X,Wg as Y,Lg as Z,Bg as _,nt as a,Pg as a0,xg as a1,ug as a2,hg as a3,ag as a4,Hg as a5,dg as a6,pg as a7,ec as a8,gg as a9,Rg as aa,Ag as ab,Fg as ac,kg as ad,Og as ae,jg as af,zg as ag,jn as ah,$g as ai,Vg as aj,Zr as ak,$ as b,lg as c,P as d,Po as e,fg as f,V as g,Gl as h,se as i,cg as j,it as k,sg as l,st as m,vg as n,yt as o,Eg as p,gt as q,wg as r,$t as s,Gi as t,mg as u,yg as v,ye as w,me as x,re as y,ne as z};
